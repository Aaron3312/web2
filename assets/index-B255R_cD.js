(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function BE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $m={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function WA(){if(w_)return Zl;w_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var T_;function ZA(){return T_||(T_=1,$m.exports=WA()),$m.exports}var y=ZA(),Gm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function JA(){if(x_)return Ne;x_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,V={};function I(L,ae,pe){this.props=L,this.context=ae,this.refs=V,this.updater=pe||C}I.prototype.isReactComponent={},I.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},I.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=I.prototype;function $(L,ae,pe){this.props=L,this.context=ae,this.refs=V,this.updater=pe||C}var Q=$.prototype=new B;Q.constructor=$,N(Q,I.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,re={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function D(L,ae,pe,ce,he,Ce){return pe=Ce.ref,{$$typeof:n,type:L,key:ae,ref:pe!==void 0?pe:null,props:Ce}}function x(L,ae){return D(L.type,ae,void 0,void 0,void 0,L.props)}function A(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function O(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return ae[pe]})}var P=/\/+/g;function F(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):ae.toString(36)}function M(){}function Tt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function gt(L,ae,pe,ce,he){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var Re=!1;if(L===null)Re=!0;else switch(Ce){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(L.$$typeof){case n:case e:Re=!0;break;case _:return Re=L._init,gt(Re(L._payload),ae,pe,ce,he)}}if(Re)return he=he(L),Re=ce===""?"."+F(L,0):ce,ee(he)?(pe="",Re!=null&&(pe=Re.replace(P,"$&/")+"/"),gt(he,ae,pe,"",function(lt){return lt})):he!=null&&(A(he)&&(he=x(he,pe+(he.key==null||L&&L.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+Re)),ae.push(he)),1;Re=0;var yt=ce===""?".":ce+":";if(ee(L))for(var qe=0;qe<L.length;qe++)ce=L[qe],Ce=yt+F(ce,qe),Re+=gt(ce,ae,pe,Ce,he);else if(qe=T(L),typeof qe=="function")for(L=qe.call(L),qe=0;!(ce=L.next()).done;)ce=ce.value,Ce=yt+F(ce,qe++),Re+=gt(ce,ae,pe,Ce,he);else if(Ce==="object"){if(typeof L.then=="function")return gt(Tt(L),ae,pe,ce,he);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Re}function le(L,ae,pe){if(L==null)return L;var ce=[],he=0;return gt(L,ce,"","",function(Ce){return ae.call(pe,Ce,he++)}),ce}function we(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var ve=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ke(){}return Ne.Children={map:le,forEach:function(L,ae,pe){le(L,function(){ae.apply(this,arguments)},pe)},count:function(L){var ae=0;return le(L,function(){ae++}),ae},toArray:function(L){return le(L,function(ae){return ae})||[]},only:function(L){if(!A(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=I,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=$,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,ae,pe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=N({},L.props),he=L.key,Ce=void 0;if(ae!=null)for(Re in ae.ref!==void 0&&(Ce=void 0),ae.key!==void 0&&(he=""+ae.key),ae)!te.call(ae,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ae.ref===void 0||(ce[Re]=ae[Re]);var Re=arguments.length-2;if(Re===1)ce.children=pe;else if(1<Re){for(var yt=Array(Re),qe=0;qe<Re;qe++)yt[qe]=arguments[qe+2];ce.children=yt}return D(L.type,he,void 0,void 0,Ce,ce)},Ne.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ne.createElement=function(L,ae,pe){var ce,he={},Ce=null;if(ae!=null)for(ce in ae.key!==void 0&&(Ce=""+ae.key),ae)te.call(ae,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(he[ce]=ae[ce]);var Re=arguments.length-2;if(Re===1)he.children=pe;else if(1<Re){for(var yt=Array(Re),qe=0;qe<Re;qe++)yt[qe]=arguments[qe+2];he.children=yt}if(L&&L.defaultProps)for(ce in Re=L.defaultProps,Re)he[ce]===void 0&&(he[ce]=Re[ce]);return D(L,Ce,void 0,void 0,null,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:f,render:L}},Ne.isValidElement=A,Ne.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:we}},Ne.memo=function(L,ae){return{$$typeof:g,type:L,compare:ae===void 0?null:ae}},Ne.startTransition=function(L){var ae=re.T,pe={};re.T=pe;try{var ce=L(),he=re.S;he!==null&&he(pe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ke,ve)}catch(Ce){ve(Ce)}finally{re.T=ae}},Ne.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ne.use=function(L){return re.H.use(L)},Ne.useActionState=function(L,ae,pe){return re.H.useActionState(L,ae,pe)},Ne.useCallback=function(L,ae){return re.H.useCallback(L,ae)},Ne.useContext=function(L){return re.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,ae){return re.H.useDeferredValue(L,ae)},Ne.useEffect=function(L,ae){return re.H.useEffect(L,ae)},Ne.useId=function(){return re.H.useId()},Ne.useImperativeHandle=function(L,ae,pe){return re.H.useImperativeHandle(L,ae,pe)},Ne.useInsertionEffect=function(L,ae){return re.H.useInsertionEffect(L,ae)},Ne.useLayoutEffect=function(L,ae){return re.H.useLayoutEffect(L,ae)},Ne.useMemo=function(L,ae){return re.H.useMemo(L,ae)},Ne.useOptimistic=function(L,ae){return re.H.useOptimistic(L,ae)},Ne.useReducer=function(L,ae,pe){return re.H.useReducer(L,ae,pe)},Ne.useRef=function(L){return re.H.useRef(L)},Ne.useState=function(L){return re.H.useState(L)},Ne.useSyncExternalStore=function(L,ae,pe){return re.H.useSyncExternalStore(L,ae,pe)},Ne.useTransition=function(){return re.H.useTransition()},Ne.version="19.0.0",Ne}var S_;function sg(){return S_||(S_=1,Gm.exports=JA()),Gm.exports}var k=sg();const eR=BE(k);var Km={exports:{}},Jl={},Qm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function tR(){return A_||(A_=1,function(n){function e(le,we){var ve=le.length;le.push(we);e:for(;0<ve;){var Ke=ve-1>>>1,L=le[Ke];if(0<a(L,we))le[Ke]=we,le[ve]=L,ve=Ke;else break e}}function t(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var we=le[0],ve=le.pop();if(ve!==we){le[0]=ve;e:for(var Ke=0,L=le.length,ae=L>>>1;Ke<ae;){var pe=2*(Ke+1)-1,ce=le[pe],he=pe+1,Ce=le[he];if(0>a(ce,ve))he<L&&0>a(Ce,ce)?(le[Ke]=Ce,le[he]=ve,Ke=he):(le[Ke]=ce,le[pe]=ve,Ke=pe);else if(he<L&&0>a(Ce,ve))le[Ke]=Ce,le[he]=ve,Ke=he;else break e}}return we}function a(le,we){var ve=le.sortIndex-we.sortIndex;return ve!==0?ve:le.id-we.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],g=[],_=1,w=null,T=3,C=!1,N=!1,V=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Q(le){for(var we=t(g);we!==null;){if(we.callback===null)s(g);else if(we.startTime<=le)s(g),we.sortIndex=we.expirationTime,e(m,we);else break;we=t(g)}}function ee(le){if(V=!1,Q(le),!N)if(t(m)!==null)N=!0,Tt();else{var we=t(g);we!==null&&gt(ee,we.startTime-le)}}var re=!1,te=-1,D=5,x=-1;function A(){return!(n.unstable_now()-x<D)}function O(){if(re){var le=n.unstable_now();x=le;var we=!0;try{e:{N=!1,V&&(V=!1,B(te),te=-1),C=!0;var ve=T;try{t:{for(Q(le),w=t(m);w!==null&&!(w.expirationTime>le&&A());){var Ke=w.callback;if(typeof Ke=="function"){w.callback=null,T=w.priorityLevel;var L=Ke(w.expirationTime<=le);if(le=n.unstable_now(),typeof L=="function"){w.callback=L,Q(le),we=!0;break t}w===t(m)&&s(m),Q(le)}else s(m);w=t(m)}if(w!==null)we=!0;else{var ae=t(g);ae!==null&&gt(ee,ae.startTime-le),we=!1}}break e}finally{w=null,T=ve,C=!1}we=void 0}}finally{we?P():re=!1}}}var P;if(typeof $=="function")P=function(){$(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,M=F.port2;F.port1.onmessage=O,P=function(){M.postMessage(null)}}else P=function(){I(O,0)};function Tt(){re||(re=!0,P())}function gt(le,we){te=I(function(){le(n.unstable_now())},we)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){N||C||(N=!0,Tt())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(le){switch(T){case 1:case 2:case 3:var we=3;break;default:we=T}var ve=T;T=we;try{return le()}finally{T=ve}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,we){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ve=T;T=le;try{return we()}finally{T=ve}},n.unstable_scheduleCallback=function(le,we,ve){var Ke=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ke+ve:Ke):ve=Ke,le){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ve+L,le={id:_++,callback:we,priorityLevel:le,startTime:ve,expirationTime:L,sortIndex:-1},ve>Ke?(le.sortIndex=ve,e(g,le),t(m)===null&&le===t(g)&&(V?(B(te),te=-1):V=!0,gt(ee,ve-Ke))):(le.sortIndex=L,e(m,le),N||C||(N=!0,Tt())),le},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(le){var we=T;return function(){var ve=T;T=we;try{return le.apply(this,arguments)}finally{T=ve}}}}(Ym)),Ym}var R_;function nR(){return R_||(R_=1,Qm.exports=tR()),Qm.exports}var Xm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function rR(){if(N_)return Jt;N_=1;var n=sg();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Jt.flushSync=function(m){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=_,s.d.f()}},Jt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Jt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Jt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,w=f(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:C}):_==="script"&&s.d.X(m,{crossOrigin:w,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Jt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=f(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Jt.requestFormReset=function(m){s.d.r(m)},Jt.unstable_batchedUpdates=function(m,g){return m(g)},Jt.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.0.0",Jt}var C_;function sR(){if(C_)return Xm.exports;C_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xm.exports=rR(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function iR(){if(I_)return Jl;I_=1;var n=nR(),e=sg(),t=sR();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function x(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case f:return"Portal";case _:return"Profiler";case g:return"StrictMode";case V:return"Suspense";case I:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case N:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case B:return i=r.displayName||null,i!==null?i:x(r.type)||"Memo";case $:i=r._payload,r=r._init;try{return x(r(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,P,F;function M(r){if(P===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+F}var Tt=!1;function gt(r,i){if(!r||Tt)return"";Tt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var K=W}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(W){K=W}r.call(ie.prototype)}}else{try{throw Error()}catch(W){K=W}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var j=E.split(`
`),z=S.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===z.length)for(u=j.length-1,d=z.length-1;1<=u&&0<=d&&j[u]!==z[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==z[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==z[d]){var Z=`
`+j[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Tt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?M(o):""}function le(r){switch(r.tag){case 26:case 27:case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return r=gt(r.type,!1),r;case 11:return r=gt(r.type.render,!1),r;case 1:return r=gt(r.type,!0),r;default:return""}}function we(r){try{var i="";do i+=le(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ve(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function Ke(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function L(r){if(ve(r)!==r)throw Error(s(188))}function ae(r){var i=r.alternate;if(!i){if(i=ve(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,u=i;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return L(d),r;if(p===u)return L(d),i;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=p;else{for(var E=!1,S=d.child;S;){if(S===o){E=!0,o=d,u=p;break}if(S===u){E=!0,u=d,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,u=d;break}if(S===u){E=!0,u=p,o=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function pe(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=pe(r),i!==null)return i;r=r.sibling}return null}var ce=Array.isArray,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Re=[],yt=-1;function qe(r){return{current:r}}function lt(r){0>yt||(r.current=Re[yt],Re[yt]=null,yt--)}function Ye(r,i){yt++,Re[yt]=r.current,r.current=i}var an=qe(null),Br=qe(null),kn=qe(null),Ts=qe(null);function xs(r,i){switch(Ye(kn,i),Ye(Br,r),Ye(an,null),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?W0(i):0;break;default:if(r=r===8?i.parentNode:i,i=r.tagName,r=r.namespaceURI)r=W0(r),i=Z0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(an),Ye(an,i)}function Fr(){lt(an),lt(Br),lt(kn)}function Ko(r){r.memoizedState!==null&&Ye(Ts,r);var i=an.current,o=Z0(i,r.type);i!==o&&(Ye(Br,r),Ye(an,o))}function Ra(r){Br.current===r&&(lt(an),lt(Br)),Ts.current===r&&(lt(Ts),Kl._currentValue=Ce)}var Na=Object.prototype.hasOwnProperty,Ri=n.unstable_scheduleCallback,Ca=n.unstable_cancelCallback,Gd=n.unstable_shouldYield,Qo=n.unstable_requestPaint,mn=n.unstable_now,Ku=n.unstable_getCurrentPriorityLevel,xt=n.unstable_ImmediatePriority,Ot=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,Qu=n.unstable_LowPriority,Yo=n.unstable_IdlePriority,Kd=n.log,Ni=n.unstable_setDisableYieldValue,Ss=null,Wt=null;function Xo(r){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Ss,r,void 0,(r.current.flags&128)===128)}catch{}}function pr(r){if(typeof Kd=="function"&&Ni(r),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Ss,r)}catch{}}var on=Math.clz32?Math.clz32:Xu,Wo=Math.log,Yu=Math.LN2;function Xu(r){return r>>>=0,r===0?32:31-(Wo(r)/Yu|0)|0}var gr=128,As=4194304;function er(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Mn(r,i){var o=r.pendingLanes;if(o===0)return 0;var u=0,d=r.suspendedLanes,p=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var S=o&134217727;return S!==0?(o=S&~d,o!==0?u=er(o):(p&=S,p!==0?u=er(p):r||(E=S&~E,E!==0&&(u=er(E))))):(S=o&~d,S!==0?u=er(S):p!==0?u=er(p):r||(E=o&~E,E!==0&&(u=er(E)))),u===0?0:i!==0&&i!==u&&!(i&d)&&(d=u&-u,E=i&-i,d>=E||d===32&&(E&4194176)!==0)?i:u}function Rs(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ia(r,i){switch(r){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var r=gr;return gr<<=1,!(gr&4194176)&&(gr=128),r}function Ns(){var r=As;return As<<=1,!(As&62914560)&&(As=4194304),r}function Da(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function ft(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wu(r,i,o,u,d,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,j=r.expirationTimes,z=r.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-on(o),ie=1<<Z;S[Z]=0,j[Z]=-1;var K=z[Z];if(K!==null)for(z[Z]=null,Z=0;Z<K.length;Z++){var W=K[Z];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&Cs(r,u,0),p!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function Cs(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-on(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Is(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-on(o),d=1<<u;d&i|r[u]&i&&(r[u]|=i),o&=~d}}function Zu(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Ju(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:g_(r.type))}function Ds(r,i){var o=he.p;try{return he.p=r,i()}finally{he.p=o}}var yr=Math.random().toString(36).slice(2),jt="__reactFiber$"+yr,St="__reactProps$"+yr,Hr="__reactContainer$"+yr,Ci="__reactEvents$"+yr,Oa="__reactListeners$"+yr,vr="__reactHandles$"+yr,Jo="__reactResources$"+yr,Os="__reactMarker$"+yr;function Ii(r){delete r[jt],delete r[St],delete r[Ci],delete r[Oa],delete r[vr]}function tr(r){var i=r[jt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Hr]||o[jt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=t_(r);r!==null;){if(o=r[jt])return o;r=t_(r)}return i}r=o,o=r.parentNode}return null}function $r(r){if(r=r[jt]||r[Hr]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function js(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function ks(r){var i=r[Jo];return i||(i=r[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(r){r[Os]=!0}var el=new Set,ja={};function wn(r,i){pn(r,i),pn(r+"Capture",i)}function pn(r,i){for(ja[r]=i,r=0;r<i.length;r++)el.add(i[r])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function ec(r){return Na.call(nl,r)?!0:Na.call(tl,r)?!1:Qd.test(r)?nl[r]=!0:(tl[r]=!0,!1)}function Ms(r,i,o){if(ec(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Ps(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Pn(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function tc(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yd(r){var i=tc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Di(r){r._valueTracker||(r._valueTracker=Yd(r))}function rl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=tc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function ka(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Gr=/[\n"\\]/g;function ut(r){return r.replace(Gr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vs(r,i,o,u,d,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+ln(i)):r.value!==""+ln(i)&&(r.value=""+ln(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?Ma(r,E,ln(i)):o!=null?Ma(r,E,ln(o)):u!=null&&r.removeAttribute("value"),d==null&&p!=null&&(r.defaultChecked=!!p),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+ln(S):r.removeAttribute("name")}function Oi(r,i,o,u,d,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+ln(o):"",i=i!=null?""+ln(i):o,S||i===r.value||(r.value=i),r.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Ma(r,i,o){i==="number"&&ka(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function He(r,i,o,u){if(r=r.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=i.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+ln(o),i=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function ji(r,i,o){if(i!=null&&(i=""+ln(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+ln(o):""}function Ls(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(ce(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=ln(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Vn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||Xd.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function nc(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&o[d]!==u&&sl(r,d,u)}else for(var p in i)i.hasOwnProperty(p)&&sl(r,p,i[p])}function il(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(r){return Zd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ln=null;function Pa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Kr=null,Qr=null;function Yr(r){var i=$r(r);if(i&&(r=i.stateNode)){var o=r[St]||null;e:switch(r=i.stateNode,i.type){case"input":if(Vs(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var d=u[St]||null;if(!d)throw Error(s(90));Vs(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&rl(u)}break e;case"textarea":ji(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&He(r,!!o.multiple,i,!1)}}}var al=!1;function rc(r,i,o){if(al)return r(i,o);al=!0;try{var u=r(i);return u}finally{if(al=!1,(Kr!==null||Qr!==null)&&(Qc(),Kr&&(i=Kr,r=Qr,Qr=Kr=null,Yr(i),r)))for(i=0;i<r.length;i++)Yr(r[i])}}function ki(r,i){var o=r.stateNode;if(o===null)return null;var u=o[St]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Un=!1;if(Tn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Un=!1}var br=null,Us=null,Xr=null;function ol(){if(Xr)return Xr;var r,i=Us,o=i.length,u,d="value"in br?br.value:br.textContent,p=d.length;for(r=0;r<o&&i[r]===d[r];r++);var E=o-r;for(u=1;u<=E&&i[o-u]===d[p-u];u++);return Xr=d.slice(r,1<u?1-u:void 0)}function Er(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function wr(){return!0}function ll(){return!1}function kt(r){function i(o,u,d,p,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?wr:ll,this.isPropagationStopped=ll,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=kt(Qe),Pi=O({},Qe,{view:0,detail:0}),sc=kt(Pi),La,Ua,Tr,Vi=O({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Tr&&(Tr&&r.type==="mousemove"?(La=r.screenX-Tr.screenX,Ua=r.screenY-Tr.screenY):Ua=La=0,Tr=r),La)},movementY:function(r){return"movementY"in r?r.movementY:Ua}}),zn=kt(Vi),ic=O({},Vi,{dataTransfer:0}),Jd=kt(ic),Li=O({},Pi,{relatedTarget:0}),za=kt(Li),ul=O({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=kt(ul),ac=O({},Qe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fa=kt(ac),ef=O({},Qe,{data:0}),cl=kt(ef),Ui={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=lc[r])?!!i[r]:!1}function zi(){return hl}var uc=O({},Pi,{key:function(r){if(r.key){var i=Ui[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Er(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?oc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(r){return r.type==="keypress"?Er(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Er(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qa=kt(uc),cc=O({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=kt(cc),Wr=O({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),hc=kt(Wr),dc=O({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),fc=kt(dc),mc=O({},Vi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=kt(mc),un=O({},Qe,{newState:0,oldState:0}),pc=kt(un),gc=[9,13,27,32],xr=Tn&&"CompositionEvent"in window,h=null;Tn&&"documentMode"in document&&(h=document.documentMode);var v=Tn&&"TextEvent"in window&&!h,b=Tn&&(!xr||h&&8<h&&11>=h),R=" ",H=!1;function Y(r,i){switch(r){case"keyup":return gc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Le=!1;function At(r,i){switch(r){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(H=!0,R);case"textInput":return r=i.data,r===R&&H?null:r;default:return null}}function Ue(r,i){if(Le)return r==="compositionend"||!xr&&Y(r,i)?(r=ol(),Xr=Us=br=null,Le=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Mt[r.type]:i==="textarea"}function Zr(r,i,o,u){Kr?Qr?Qr.push(u):Qr=[u]:Kr=u,i=Jc(i,"onChange"),0<i.length&&(o=new Va("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var Ft=null,Sr=null;function fl(r){G0(r,0)}function yc(r){var i=js(r);if(rl(i))return r}function Ey(r,i){if(r==="change")return i}var wy=!1;if(Tn){var tf;if(Tn){var nf="oninput"in document;if(!nf){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),nf=typeof Ty.oninput=="function"}tf=nf}else tf=!1;wy=tf&&(!document.documentMode||9<document.documentMode)}function xy(){Ft&&(Ft.detachEvent("onpropertychange",Sy),Sr=Ft=null)}function Sy(r){if(r.propertyName==="value"&&yc(Sr)){var i=[];Zr(i,Sr,r,Pa(r)),rc(fl,i)}}function RS(r,i,o){r==="focusin"?(xy(),Ft=i,Sr=o,Ft.attachEvent("onpropertychange",Sy)):r==="focusout"&&xy()}function NS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yc(Sr)}function CS(r,i){if(r==="click")return yc(i)}function IS(r,i){if(r==="input"||r==="change")return yc(i)}function DS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var xn=typeof Object.is=="function"?Object.is:DS;function ml(r,i){if(xn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Na.call(i,d)||!xn(r[d],i[d]))return!1}return!0}function Ay(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ry(r,i){var o=Ay(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ay(o)}}function Ny(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ny(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Cy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ka(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=ka(r.document)}return i}function rf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function OS(r,i){var o=Cy(i);i=r.focusedElem;var u=r.selectionRange;if(o!==i&&i&&i.ownerDocument&&Ny(i.ownerDocument.documentElement,i)){if(u!==null&&rf(i)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(o,i.value.length);else if(o=(r=i.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=i.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!o.extend&&p>u&&(d=u,u=p,p=d),d=Ry(i,p);var E=Ry(i,u);d&&E&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),p>u?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=i;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)o=r[i],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var jS=Tn&&"documentMode"in document&&11>=document.documentMode,$a=null,sf=null,pl=null,af=!1;function Iy(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;af||$a==null||$a!==ka(u)||(u=$a,"selectionStart"in u&&rf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&ml(pl,u)||(pl=u,u=Jc(sf,"onSelect"),0<u.length&&(i=new Va("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=$a)))}function Bi(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Ga={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},of={},Dy={};Tn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Fi(r){if(of[r])return of[r];if(!Ga[r])return r;var i=Ga[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Dy)return of[r]=i[o];return r}var Oy=Fi("animationend"),jy=Fi("animationiteration"),ky=Fi("animationstart"),kS=Fi("transitionrun"),MS=Fi("transitionstart"),PS=Fi("transitioncancel"),My=Fi("transitionend"),Py=new Map,Vy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function nr(r,i){Py.set(r,i),wn(i,[r])}var Bn=[],Ka=0,lf=0;function vc(){for(var r=Ka,i=lf=Ka=0;i<r;){var o=Bn[i];Bn[i++]=null;var u=Bn[i];Bn[i++]=null;var d=Bn[i];Bn[i++]=null;var p=Bn[i];if(Bn[i++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}p!==0&&Ly(o,d,p)}}function _c(r,i,o,u){Bn[Ka++]=r,Bn[Ka++]=i,Bn[Ka++]=o,Bn[Ka++]=u,lf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function uf(r,i,o,u){return _c(r,i,o,u),bc(r)}function zs(r,i){return _c(r,null,null,i),bc(r)}function Ly(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(d=!0)),r=p,p=p.return;d&&i!==null&&r.tag===3&&(p=r.stateNode,d=31-on(o),p=p.hiddenUpdates,r=p[d],r===null?p[d]=[i]:r.push(i),i.lane=o|536870912)}function bc(r){if(50<zl)throw zl=0,pm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Qa={},Uy=new WeakMap;function Fn(r,i){if(typeof r=="object"&&r!==null){var o=Uy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:we(i)},Uy.set(r,i),i)}return{value:r,source:i,stack:we(i)}}var Ya=[],Xa=0,Ec=null,wc=0,qn=[],Hn=0,qi=null,Jr=1,es="";function Hi(r,i){Ya[Xa++]=wc,Ya[Xa++]=Ec,Ec=r,wc=i}function zy(r,i,o){qn[Hn++]=Jr,qn[Hn++]=es,qn[Hn++]=qi,qi=r;var u=Jr;r=es;var d=32-on(u)-1;u&=~(1<<d),o+=1;var p=32-on(i)+d;if(30<p){var E=d-d%5;p=(u&(1<<E)-1).toString(32),u>>=E,d-=E,Jr=1<<32-on(i)+d|o<<d|u,es=p+r}else Jr=1<<p|o<<d|u,es=r}function cf(r){r.return!==null&&(Hi(r,1),zy(r,1,0))}function hf(r){for(;r===Ec;)Ec=Ya[--Xa],Ya[Xa]=null,wc=Ya[--Xa],Ya[Xa]=null;for(;r===qi;)qi=qn[--Hn],qn[Hn]=null,es=qn[--Hn],qn[Hn]=null,Jr=qn[--Hn],qn[Hn]=null}var cn=null,qt=null,$e=!1,rr=null,Ar=!1,df=Error(s(519));function $i(r){var i=Error(s(418,""));throw vl(Fn(i,r)),df}function By(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[jt]=r,i[St]=u,o){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Pe(Fl[o],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Oi(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Di(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Ls(i,u.value,u.defaultValue,u.children),Di(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||X0(i.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=eh),i=!0):i=!1,i||$i(r)}function Fy(r){for(cn=r.return;cn;)switch(cn.tag){case 3:case 27:Ar=!0;return;case 5:case 13:Ar=!1;return;default:cn=cn.return}}function gl(r){if(r!==cn)return!1;if(!$e)return Fy(r),$e=!0,!1;var i=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Om(r.type,r.memoizedProps)),o=!o),o&&(i=!0),i&&qt&&$i(r),Fy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){qt=ir(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}qt=null}}else qt=cn?ir(r.stateNode.nextSibling):null;return!0}function yl(){qt=cn=null,$e=!1}function vl(r){rr===null?rr=[r]:rr.push(r)}var _l=Error(s(460)),qy=Error(s(474)),ff={then:function(){}};function Hy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Tc(){}function $y(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Tc,Tc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===_l?Error(s(483)):r;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(r=et,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===_l?Error(s(483)):r}throw bl=i,_l}}var bl=null;function Gy(){if(bl===null)throw Error(s(459));var r=bl;return bl=null,r}var Wa=null,El=0;function xc(r){var i=El;return El+=1,Wa===null&&(Wa=[]),$y(Wa,r,i)}function wl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Sc(r,i){throw i.$$typeof===l?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Ky(r){var i=r._init;return i(r._payload)}function Qy(r){function i(q,U){if(r){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function o(q,U){if(!r)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function u(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function d(q,U){return q=Zs(q,U),q.index=0,q.sibling=null,q}function p(q,U,G){return q.index=G,r?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=33554434,U):G):(q.flags|=33554434,U)):(q.flags|=1048576,U)}function E(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function S(q,U,G,ne){return U===null||U.tag!==6?(U=om(G,q.mode,ne),U.return=q,U):(U=d(U,G),U.return=q,U)}function j(q,U,G,ne){var fe=G.type;return fe===m?Z(q,U,G.props.children,ne,G.key):U!==null&&(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&Ky(fe)===U.type)?(U=d(U,G.props),wl(U,G),U.return=q,U):(U=qc(G.type,G.key,G.props,null,q.mode,ne),wl(U,G),U.return=q,U)}function z(q,U,G,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=lm(G,q.mode,ne),U.return=q,U):(U=d(U,G.children||[]),U.return=q,U)}function Z(q,U,G,ne,fe){return U===null||U.tag!==7?(U=ta(G,q.mode,ne,fe),U.return=q,U):(U=d(U,G),U.return=q,U)}function ie(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=om(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return G=qc(U.type,U.key,U.props,null,q.mode,G),wl(G,U),G.return=q,G;case f:return U=lm(U,q.mode,G),U.return=q,U;case $:var ne=U._init;return U=ne(U._payload),ie(q,U,G)}if(ce(U)||te(U))return U=ta(U,q.mode,G,null),U.return=q,U;if(typeof U.then=="function")return ie(q,xc(U),G);if(U.$$typeof===C)return ie(q,zc(q,U),G);Sc(q,U)}return null}function K(q,U,G,ne){var fe=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return fe!==null?null:S(q,U,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===fe?j(q,U,G,ne):null;case f:return G.key===fe?z(q,U,G,ne):null;case $:return fe=G._init,G=fe(G._payload),K(q,U,G,ne)}if(ce(G)||te(G))return fe!==null?null:Z(q,U,G,ne,null);if(typeof G.then=="function")return K(q,U,xc(G),ne);if(G.$$typeof===C)return K(q,U,zc(q,G),ne);Sc(q,G)}return null}function W(q,U,G,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(G)||null,S(U,q,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case c:return q=q.get(ne.key===null?G:ne.key)||null,j(U,q,ne,fe);case f:return q=q.get(ne.key===null?G:ne.key)||null,z(U,q,ne,fe);case $:var Oe=ne._init;return ne=Oe(ne._payload),W(q,U,G,ne,fe)}if(ce(ne)||te(ne))return q=q.get(G)||null,Z(U,q,ne,fe,null);if(typeof ne.then=="function")return W(q,U,G,xc(ne),fe);if(ne.$$typeof===C)return W(q,U,G,zc(U,ne),fe);Sc(U,ne)}return null}function me(q,U,G,ne){for(var fe=null,Oe=null,ge=U,be=U=0,Lt=null;ge!==null&&be<G.length;be++){ge.index>be?(Lt=ge,ge=null):Lt=ge.sibling;var Ge=K(q,ge,G[be],ne);if(Ge===null){ge===null&&(ge=Lt);break}r&&ge&&Ge.alternate===null&&i(q,ge),U=p(Ge,U,be),Oe===null?fe=Ge:Oe.sibling=Ge,Oe=Ge,ge=Lt}if(be===G.length)return o(q,ge),$e&&Hi(q,be),fe;if(ge===null){for(;be<G.length;be++)ge=ie(q,G[be],ne),ge!==null&&(U=p(ge,U,be),Oe===null?fe=ge:Oe.sibling=ge,Oe=ge);return $e&&Hi(q,be),fe}for(ge=u(ge);be<G.length;be++)Lt=W(ge,q,be,G[be],ne),Lt!==null&&(r&&Lt.alternate!==null&&ge.delete(Lt.key===null?be:Lt.key),U=p(Lt,U,be),Oe===null?fe=Lt:Oe.sibling=Lt,Oe=Lt);return r&&ge.forEach(function(ii){return i(q,ii)}),$e&&Hi(q,be),fe}function Se(q,U,G,ne){if(G==null)throw Error(s(151));for(var fe=null,Oe=null,ge=U,be=U=0,Lt=null,Ge=G.next();ge!==null&&!Ge.done;be++,Ge=G.next()){ge.index>be?(Lt=ge,ge=null):Lt=ge.sibling;var ii=K(q,ge,Ge.value,ne);if(ii===null){ge===null&&(ge=Lt);break}r&&ge&&ii.alternate===null&&i(q,ge),U=p(ii,U,be),Oe===null?fe=ii:Oe.sibling=ii,Oe=ii,ge=Lt}if(Ge.done)return o(q,ge),$e&&Hi(q,be),fe;if(ge===null){for(;!Ge.done;be++,Ge=G.next())Ge=ie(q,Ge.value,ne),Ge!==null&&(U=p(Ge,U,be),Oe===null?fe=Ge:Oe.sibling=Ge,Oe=Ge);return $e&&Hi(q,be),fe}for(ge=u(ge);!Ge.done;be++,Ge=G.next())Ge=W(ge,q,be,Ge.value,ne),Ge!==null&&(r&&Ge.alternate!==null&&ge.delete(Ge.key===null?be:Ge.key),U=p(Ge,U,be),Oe===null?fe=Ge:Oe.sibling=Ge,Oe=Ge);return r&&ge.forEach(function(XA){return i(q,XA)}),$e&&Hi(q,be),fe}function dt(q,U,G,ne){if(typeof G=="object"&&G!==null&&G.type===m&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:e:{for(var fe=G.key;U!==null;){if(U.key===fe){if(fe=G.type,fe===m){if(U.tag===7){o(q,U.sibling),ne=d(U,G.props.children),ne.return=q,q=ne;break e}}else if(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&Ky(fe)===U.type){o(q,U.sibling),ne=d(U,G.props),wl(ne,G),ne.return=q,q=ne;break e}o(q,U);break}else i(q,U);U=U.sibling}G.type===m?(ne=ta(G.props.children,q.mode,ne,G.key),ne.return=q,q=ne):(ne=qc(G.type,G.key,G.props,null,q.mode,ne),wl(ne,G),ne.return=q,q=ne)}return E(q);case f:e:{for(fe=G.key;U!==null;){if(U.key===fe)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(q,U.sibling),ne=d(U,G.children||[]),ne.return=q,q=ne;break e}else{o(q,U);break}else i(q,U);U=U.sibling}ne=lm(G,q.mode,ne),ne.return=q,q=ne}return E(q);case $:return fe=G._init,G=fe(G._payload),dt(q,U,G,ne)}if(ce(G))return me(q,U,G,ne);if(te(G)){if(fe=te(G),typeof fe!="function")throw Error(s(150));return G=fe.call(G),Se(q,U,G,ne)}if(typeof G.then=="function")return dt(q,U,xc(G),ne);if(G.$$typeof===C)return dt(q,U,zc(q,G),ne);Sc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(q,U.sibling),ne=d(U,G),ne.return=q,q=ne):(o(q,U),ne=om(G,q.mode,ne),ne.return=q,q=ne),E(q)):o(q,U)}return function(q,U,G,ne){try{El=0;var fe=dt(q,U,G,ne);return Wa=null,fe}catch(ge){if(ge===_l)throw ge;var Oe=Qn(29,ge,null,q.mode);return Oe.lanes=ne,Oe.return=q,Oe}finally{}}}var Gi=Qy(!0),Yy=Qy(!1),Za=qe(null),Ac=qe(0);function Xy(r,i){r=hs,Ye(Ac,r),Ye(Za,i),hs=r|i.baseLanes}function mf(){Ye(Ac,hs),Ye(Za,Za.current)}function pf(){hs=Ac.current,lt(Za),lt(Ac)}var $n=qe(null),Rr=null;function Bs(r){var i=r.alternate;Ye(Nt,Nt.current&1),Ye($n,r),Rr===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(Rr=r)}function Wy(r){if(r.tag===22){if(Ye(Nt,Nt.current),Ye($n,r),Rr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Rr=r)}}else Fs()}function Fs(){Ye(Nt,Nt.current),Ye($n,$n.current)}function ts(r){lt($n),Rr===r&&(Rr=null),lt(Nt)}var Nt=qe(0);function Rc(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var VS=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},LS=n.unstable_scheduleCallback,US=n.unstable_NormalPriority,Ct={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new VS,data:new Map,refCount:0}}function Tl(r){r.refCount--,r.refCount===0&&LS(US,function(){r.controller.abort()})}var xl=null,yf=0,Ja=0,eo=null;function zS(r,i){if(xl===null){var o=xl=[];yf=0,Ja=Tm(),eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return yf++,i.then(Zy,Zy),i}function Zy(){if(--yf===0&&xl!==null){eo!==null&&(eo.status="fulfilled");var r=xl;xl=null,Ja=0,eo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function BS(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Jy=A.S;A.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&zS(r,i),Jy!==null&&Jy(r,i)};var Ki=qe(null);function vf(){var r=Ki.current;return r!==null?r:et.pooledCache}function Nc(r,i){i===null?Ye(Ki,Ki.current):Ye(Ki,i.pool)}function ev(){var r=vf();return r===null?null:{parent:Ct._currentValue,pool:r}}var qs=0,Ie=null,Xe=null,vt=null,Cc=!1,to=!1,Qi=!1,Ic=0,Sl=0,no=null,FS=0;function mt(){throw Error(s(321))}function _f(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!xn(r[o],i[o]))return!1;return!0}function bf(r,i,o,u,d,p){return qs=p,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=r===null||r.memoizedState===null?Yi:Hs,Qi=!1,p=o(u,d),Qi=!1,to&&(p=nv(i,o,u,d)),tv(r),p}function tv(r){A.H=Nr;var i=Xe!==null&&Xe.next!==null;if(qs=0,vt=Xe=Ie=null,Cc=!1,Sl=0,no=null,i)throw Error(s(300));r===null||Pt||(r=r.dependencies,r!==null&&Uc(r)&&(Pt=!0))}function nv(r,i,o,u){Ie=r;var d=0;do{if(to&&(no=null),Sl=0,to=!1,25<=d)throw Error(s(301));if(d+=1,vt=Xe=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}A.H=Xi,p=i(o,u)}while(to);return p}function qS(){var r=A.H,i=r.useState()[0];return i=typeof i.then=="function"?Al(i):i,r=r.useState()[0],(Xe!==null?Xe.memoizedState:null)!==r&&(Ie.flags|=1024),i}function Ef(){var r=Ic!==0;return Ic=0,r}function wf(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Tf(r){if(Cc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cc=!1}qs=0,vt=Xe=Ie=null,to=!1,Sl=Ic=0,no=null}function gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=r:vt=vt.next=r,vt}function _t(){if(Xe===null){var r=Ie.alternate;r=r!==null?r.memoizedState:null}else r=Xe.next;var i=vt===null?Ie.memoizedState:vt.next;if(i!==null)vt=i,Xe=r;else{if(r===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=r,r={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?Ie.memoizedState=vt=r:vt=vt.next=r}return vt}var Dc;Dc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Al(r){var i=Sl;return Sl+=1,no===null&&(no=[]),r=$y(no,r,i),i=Ie,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Yi:Hs),r}function Oc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Al(r);if(r.$$typeof===C)return Zt(r)}throw Error(s(438,String(r)))}function xf(r){var i=null,o=Ie.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Dc(),Ie.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=ee;return i.index++,o}function ns(r,i){return typeof i=="function"?i(r):i}function jc(r){var i=_t();return Sf(i,Xe,r)}function Sf(r,i,o){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=r.baseQueue,p=u.pending;if(p!==null){if(d!==null){var E=d.next;d.next=p.next,p.next=E}i.baseQueue=d=p,u.pending=null}if(p=r.baseState,d===null)r.memoizedState=p;else{i=d.next;var S=E=null,j=null,z=i,Z=!1;do{var ie=z.lane&-536870913;if(ie!==z.lane?(ze&ie)===ie:(qs&ie)===ie){var K=z.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ie===Ja&&(Z=!0);else if((qs&K)===K){z=z.next,K===Ja&&(Z=!0);continue}else ie={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},j===null?(S=j=ie,E=p):j=j.next=ie,Ie.lanes|=K,Js|=K;ie=z.action,Qi&&o(p,ie),p=z.hasEagerState?z.eagerState:o(p,ie)}else K={lane:ie,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},j===null?(S=j=K,E=p):j=j.next=K,Ie.lanes|=ie,Js|=ie;z=z.next}while(z!==null&&z!==i);if(j===null?E=p:j.next=S,!xn(p,r.memoizedState)&&(Pt=!0,Z&&(o=eo,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=j,u.lastRenderedState=p}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Af(r){var i=_t(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,p=i.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do p=r(p,E.action),E=E.next;while(E!==d);xn(p,i.memoizedState)||(Pt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function rv(r,i,o){var u=Ie,d=_t(),p=$e;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!xn((Xe||d).memoizedState,o);if(E&&(d.memoizedState=o,Pt=!0),d=d.queue,Cf(av.bind(null,u,d,r),[r]),d.getSnapshot!==i||E||vt!==null&&vt.memoizedState.tag&1){if(u.flags|=2048,ro(9,iv.bind(null,u,d,o,i),{destroy:void 0},null),et===null)throw Error(s(349));p||qs&60||sv(u,i,o)}return o}function sv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Ie.updateQueue,i===null?(i=Dc(),Ie.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function iv(r,i,o,u){i.value=o,i.getSnapshot=u,ov(i)&&lv(r)}function av(r,i,o){return o(function(){ov(i)&&lv(r)})}function ov(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!xn(r,o)}catch{return!0}}function lv(r){var i=zs(r,2);i!==null&&hn(i,r,2)}function Rf(r){var i=gn();if(typeof r=="function"){var o=r;if(r=o(),Qi){pr(!0);try{o()}finally{pr(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},i}function uv(r,i,o,u){return r.baseState=o,Sf(r,Xe,typeof u=="function"?u:ns)}function HS(r,i,o,u,d){if(Pc(r))throw Error(s(485));if(r=i.action,r!==null){var p={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};A.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,cv(i,p)):(p.next=o.next,i.pending=o.next=p)}}function cv(r,i){var o=i.action,u=i.payload,d=r.state;if(i.isTransition){var p=A.T,E={};A.T=E;try{var S=o(d,u),j=A.S;j!==null&&j(E,S),hv(r,i,S)}catch(z){Nf(r,i,z)}finally{A.T=p}}else try{p=o(d,u),hv(r,i,p)}catch(z){Nf(r,i,z)}}function hv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){dv(r,i,u)},function(u){return Nf(r,i,u)}):dv(r,i,o)}function dv(r,i,o){i.status="fulfilled",i.value=o,fv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,cv(r,o)))}function Nf(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,fv(i),i=i.next;while(i!==u)}r.action=null}function fv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function mv(r,i){return i}function pv(r,i){if($e){var o=et.formState;if(o!==null){e:{var u=Ie;if($e){if(qt){t:{for(var d=qt,p=Ar;d.nodeType!==8;){if(!p){d=null;break t}if(d=ir(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){qt=ir(d.nextSibling),u=d.data==="F!";break e}}$i(u)}u=!1}u&&(i=o[0])}}return o=gn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:i},o.queue=u,o=jv.bind(null,Ie,u),u.dispatch=o,u=Rf(!1),p=kf.bind(null,Ie,!1,u.queue),u=gn(),d={state:i,dispatch:null,action:r,pending:null},u.queue=d,o=HS.bind(null,Ie,d,p,o),d.dispatch=o,u.memoizedState=r,[i,o,!1]}function gv(r){var i=_t();return yv(i,Xe,r)}function yv(r,i,o){i=Sf(r,i,mv)[0],r=jc(ns)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Al(i):i;var u=_t(),d=u.queue,p=d.dispatch;return o!==u.memoizedState&&(Ie.flags|=2048,ro(9,$S.bind(null,d,o),{destroy:void 0},null)),[i,p,r]}function $S(r,i){r.action=i}function vv(r){var i=_t(),o=Xe;if(o!==null)return yv(i,o,r);_t(),i=i.memoizedState,o=_t();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function ro(r,i,o,u){return r={tag:r,create:i,inst:o,deps:u,next:null},i=Ie.updateQueue,i===null&&(i=Dc(),Ie.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function _v(){return _t().memoizedState}function kc(r,i,o,u){var d=gn();Ie.flags|=r,d.memoizedState=ro(1|i,o,{destroy:void 0},u===void 0?null:u)}function Mc(r,i,o,u){var d=_t();u=u===void 0?null:u;var p=d.memoizedState.inst;Xe!==null&&u!==null&&_f(u,Xe.memoizedState.deps)?d.memoizedState=ro(i,o,p,u):(Ie.flags|=r,d.memoizedState=ro(1|i,o,p,u))}function bv(r,i){kc(8390656,8,r,i)}function Cf(r,i){Mc(2048,8,r,i)}function Ev(r,i){return Mc(4,2,r,i)}function wv(r,i){return Mc(4,4,r,i)}function Tv(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function xv(r,i,o){o=o!=null?o.concat([r]):null,Mc(4,4,Tv.bind(null,i,r),o)}function If(){}function Sv(r,i){var o=_t();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&_f(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function Av(r,i){var o=_t();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&_f(i,u[1]))return u[0];if(u=r(),Qi){pr(!0);try{r()}finally{pr(!1)}}return o.memoizedState=[u,i],u}function Df(r,i,o){return o===void 0||qs&1073741824?r.memoizedState=i:(r.memoizedState=o,r=N0(),Ie.lanes|=r,Js|=r,o)}function Rv(r,i,o,u){return xn(o,i)?o:Za.current!==null?(r=Df(r,o,u),xn(r,i)||(Pt=!0),r):qs&42?(r=N0(),Ie.lanes|=r,Js|=r,i):(Pt=!0,r.memoizedState=o)}function Nv(r,i,o,u,d){var p=he.p;he.p=p!==0&&8>p?p:8;var E=A.T,S={};A.T=S,kf(r,!1,i,o);try{var j=d(),z=A.S;if(z!==null&&z(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=BS(j,u);Rl(r,i,Z,Nn(r))}else Rl(r,i,u,Nn(r))}catch(ie){Rl(r,i,{then:function(){},status:"rejected",reason:ie},Nn())}finally{he.p=p,A.T=E}}function GS(){}function Of(r,i,o,u){if(r.tag!==5)throw Error(s(476));var d=Cv(r).queue;Nv(r,d,i,Ce,o===null?GS:function(){return Iv(r),o(u)})}function Cv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:Ce},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Iv(r){var i=Cv(r).next.queue;Rl(r,i,{},Nn())}function jf(){return Zt(Kl)}function Dv(){return _t().memoizedState}function Ov(){return _t().memoizedState}function KS(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Nn();r=Ks(o);var u=Qs(i,r,o);u!==null&&(hn(u,i,o),Il(u,i,o)),i={cache:gf()},r.payload=i;return}i=i.return}}function QS(r,i,o){var u=Nn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(r)?kv(i,o):(o=uf(r,i,o,u),o!==null&&(hn(o,r,u),Mv(o,i,u)))}function jv(r,i,o){var u=Nn();Rl(r,i,o,u)}function Rl(r,i,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pc(r))kv(i,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,S=p(E,o);if(d.hasEagerState=!0,d.eagerState=S,xn(S,E))return _c(r,i,d,0),et===null&&vc(),!1}catch{}finally{}if(o=uf(r,i,d,u),o!==null)return hn(o,r,u),Mv(o,i,u),!0}return!1}function kf(r,i,o,u){if(u={lane:2,revertLane:Tm(),action:u,hasEagerState:!1,eagerState:null,next:null},Pc(r)){if(i)throw Error(s(479))}else i=uf(r,o,u,2),i!==null&&hn(i,r,2)}function Pc(r){var i=r.alternate;return r===Ie||i!==null&&i===Ie}function kv(r,i){to=Cc=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Mv(r,i,o){if(o&4194176){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Is(r,o)}}var Nr={readContext:Zt,use:Oc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};Nr.useCacheRefresh=mt,Nr.useMemoCache=mt,Nr.useHostTransitionStatus=mt,Nr.useFormState=mt,Nr.useActionState=mt,Nr.useOptimistic=mt;var Yi={readContext:Zt,use:Oc,useCallback:function(r,i){return gn().memoizedState=[r,i===void 0?null:i],r},useContext:Zt,useEffect:bv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,kc(4194308,4,Tv.bind(null,i,r),o)},useLayoutEffect:function(r,i){return kc(4194308,4,r,i)},useInsertionEffect:function(r,i){kc(4,2,r,i)},useMemo:function(r,i){var o=gn();i=i===void 0?null:i;var u=r();if(Qi){pr(!0);try{r()}finally{pr(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=gn();if(o!==void 0){var d=o(i);if(Qi){pr(!0);try{o(i)}finally{pr(!1)}}}else d=i;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=QS.bind(null,Ie,r),[u.memoizedState,r]},useRef:function(r){var i=gn();return r={current:r},i.memoizedState=r},useState:function(r){r=Rf(r);var i=r.queue,o=jv.bind(null,Ie,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:If,useDeferredValue:function(r,i){var o=gn();return Df(o,r,i)},useTransition:function(){var r=Rf(!1);return r=Nv.bind(null,Ie,r.queue,!0,!1),gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Ie,d=gn();if($e){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),et===null)throw Error(s(349));ze&60||sv(u,i,o)}d.memoizedState=o;var p={value:o,getSnapshot:i};return d.queue=p,bv(av.bind(null,u,p,r),[r]),u.flags|=2048,ro(9,iv.bind(null,u,p,o,i),{destroy:void 0},null),o},useId:function(){var r=gn(),i=et.identifierPrefix;if($e){var o=es,u=Jr;o=(u&~(1<<32-on(u)-1)).toString(32)+o,i=":"+i+"R"+o,o=Ic++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=FS++,i=":"+i+"r"+o.toString(32)+":";return r.memoizedState=i},useCacheRefresh:function(){return gn().memoizedState=KS.bind(null,Ie)}};Yi.useMemoCache=xf,Yi.useHostTransitionStatus=jf,Yi.useFormState=pv,Yi.useActionState=pv,Yi.useOptimistic=function(r){var i=gn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=kf.bind(null,Ie,!0,o),o.dispatch=i,[r,i]};var Hs={readContext:Zt,use:Oc,useCallback:Sv,useContext:Zt,useEffect:Cf,useImperativeHandle:xv,useInsertionEffect:Ev,useLayoutEffect:wv,useMemo:Av,useReducer:jc,useRef:_v,useState:function(){return jc(ns)},useDebugValue:If,useDeferredValue:function(r,i){var o=_t();return Rv(o,Xe.memoizedState,r,i)},useTransition:function(){var r=jc(ns)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Al(r),i]},useSyncExternalStore:rv,useId:Dv};Hs.useCacheRefresh=Ov,Hs.useMemoCache=xf,Hs.useHostTransitionStatus=jf,Hs.useFormState=gv,Hs.useActionState=gv,Hs.useOptimistic=function(r,i){var o=_t();return uv(o,Xe,r,i)};var Xi={readContext:Zt,use:Oc,useCallback:Sv,useContext:Zt,useEffect:Cf,useImperativeHandle:xv,useInsertionEffect:Ev,useLayoutEffect:wv,useMemo:Av,useReducer:Af,useRef:_v,useState:function(){return Af(ns)},useDebugValue:If,useDeferredValue:function(r,i){var o=_t();return Xe===null?Df(o,r,i):Rv(o,Xe.memoizedState,r,i)},useTransition:function(){var r=Af(ns)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Al(r),i]},useSyncExternalStore:rv,useId:Dv};Xi.useCacheRefresh=Ov,Xi.useMemoCache=xf,Xi.useHostTransitionStatus=jf,Xi.useFormState=vv,Xi.useActionState=vv,Xi.useOptimistic=function(r,i){var o=_t();return Xe!==null?uv(o,Xe,r,i):(o.baseState=r,[r,o.queue.dispatch])};function Mf(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:O({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Pf={isMounted:function(r){return(r=r._reactInternals)?ve(r)===r:!1},enqueueSetState:function(r,i,o){r=r._reactInternals;var u=Nn(),d=Ks(u);d.payload=i,o!=null&&(d.callback=o),i=Qs(r,d,u),i!==null&&(hn(i,r,u),Il(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=Nn(),d=Ks(u);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Qs(r,d,u),i!==null&&(hn(i,r,u),Il(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Nn(),u=Ks(o);u.tag=2,i!=null&&(u.callback=i),i=Qs(r,u,o),i!==null&&(hn(i,r,o),Il(i,r,o))}};function Pv(r,i,o,u,d,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):i.prototype&&i.prototype.isPureReactComponent?!ml(o,u)||!ml(d,p):!0}function Vv(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&Pf.enqueueReplaceState(i,i.state,null)}function Wi(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=O({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Vc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Lv(r){Vc(r)}function Uv(r){console.error(r)}function zv(r){Vc(r)}function Lc(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Bv(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Vf(r,i,o){return o=Ks(o),o.tag=3,o.payload={element:null},o.callback=function(){Lc(r,i)},o}function Fv(r){return r=Ks(r),r.tag=3,r}function qv(r,i,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;r.payload=function(){return d(p)},r.callback=function(){Bv(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Bv(i,o,u),typeof d!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function YS(r,i,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Cl(i,o,d,!0),o=$n.current,o!==null){switch(o.tag){case 13:return Rr===null?vm():o.alternate===null&&ht===0&&(ht=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===ff?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),bm(r,u,d)),!1;case 22:return o.flags|=65536,u===ff?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),bm(r,u,d)),!1}throw Error(s(435,o.tag))}return bm(r,u,d),vm(),!1}if($e)return i=$n.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==df&&(r=Error(s(422),{cause:u}),vl(Fn(r,o)))):(u!==df&&(i=Error(s(423),{cause:u}),vl(Fn(i,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=Fn(u,o),d=Vf(r.stateNode,u,d),Zf(r,d),ht!==4&&(ht=2)),!1;var p=Error(s(520),{cause:u});if(p=Fn(p,o),Ll===null?Ll=[p]:Ll.push(p),ht!==4&&(ht=2),i===null)return!0;u=Fn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Vf(o.stateNode,u,r),Zf(o,r),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ei===null||!ei.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Fv(d),qv(d,r,o,u),Zf(o,d),!1}o=o.return}while(o!==null);return!1}var Hv=Error(s(461)),Pt=!1;function Ht(r,i,o,u){i.child=r===null?Yy(i,null,o,u):Gi(i,r.child,o,u)}function $v(r,i,o,u,d){o=o.render;var p=i.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Ji(i),u=bf(r,i,o,E,p,d),S=Ef(),r!==null&&!Pt?(wf(r,i,d),rs(r,i,d)):($e&&S&&cf(i),i.flags|=1,Ht(r,i,u,d),i.child)}function Gv(r,i,o,u,d){if(r===null){var p=o.type;return typeof p=="function"&&!am(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,Kv(r,i,p,u,d)):(r=qc(o.type,null,u,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!Gf(r,d)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:ml,o(E,u)&&r.ref===i.ref)return rs(r,i,d)}return i.flags|=1,r=Zs(p,u),r.ref=i.ref,r.return=i,i.child=r}function Kv(r,i,o,u,d){if(r!==null){var p=r.memoizedProps;if(ml(p,u)&&r.ref===i.ref)if(Pt=!1,i.pendingProps=u=p,Gf(r,d))r.flags&131072&&(Pt=!0);else return i.lanes=r.lanes,rs(r,i,d)}return Lf(r,i,o,u,d)}function Qv(r,i,o){var u=i.pendingProps,d=u.children,p=(i.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(Nl(r,i),u.mode==="hidden"||p){if(i.flags&128){if(u=E!==null?E.baseLanes|o:o,r!==null){for(d=i.child=r.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return Yv(r,i,u,o)}if(o&536870912)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nc(i,E!==null?E.cachePool:null),E!==null?Xy(i,E):mf(),Wy(i);else return i.lanes=i.childLanes=536870912,Yv(r,i,E!==null?E.baseLanes|o:o,o)}else E!==null?(Nc(i,E.cachePool),Xy(i,E),Fs(),i.memoizedState=null):(r!==null&&Nc(i,null),mf(),Fs());return Ht(r,i,d,o),i.child}function Yv(r,i,o,u){var d=vf();return d=d===null?null:{parent:Ct._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},r!==null&&Nc(i,null),mf(),Wy(i),r!==null&&Cl(r,i,u,!0),null}function Nl(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=2097664)}}function Lf(r,i,o,u,d){return Ji(i),o=bf(r,i,o,u,void 0,d),u=Ef(),r!==null&&!Pt?(wf(r,i,d),rs(r,i,d)):($e&&u&&cf(i),i.flags|=1,Ht(r,i,o,d),i.child)}function Xv(r,i,o,u,d,p){return Ji(i),i.updateQueue=null,o=nv(i,u,o,d),tv(r),u=Ef(),r!==null&&!Pt?(wf(r,i,p),rs(r,i,p)):($e&&u&&cf(i),i.flags|=1,Ht(r,i,o,p),i.child)}function Wv(r,i,o,u,d){if(Ji(i),i.stateNode===null){var p=Qa,E=o.contextType;typeof E=="object"&&E!==null&&(p=Zt(E)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pf,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Xf(i),E=o.contextType,p.context=typeof E=="object"&&E!==null?Zt(E):Qa,p.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Mf(i,o,E,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Pf.enqueueReplaceState(p,p.state,null),Ol(i,u,p,d),Dl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){p=i.stateNode;var S=i.memoizedProps,j=Wi(o,S);p.props=j;var z=p.context,Z=o.contextType;E=Qa,typeof Z=="object"&&Z!==null&&(E=Zt(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||z!==E)&&Vv(i,p,u,E),Gs=!1;var K=i.memoizedState;p.state=K,Ol(i,u,p,d),Dl(),z=i.memoizedState,S||K!==z||Gs?(typeof ie=="function"&&(Mf(i,o,ie,u),z=i.memoizedState),(j=Gs||Pv(i,o,j,u,K,z,E))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=z),p.props=u,p.state=z,p.context=E,u=j):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Wf(r,i),E=i.memoizedProps,Z=Wi(o,E),p.props=Z,ie=i.pendingProps,K=p.context,z=o.contextType,j=Qa,typeof z=="object"&&z!==null&&(j=Zt(z)),S=o.getDerivedStateFromProps,(z=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ie||K!==j)&&Vv(i,p,u,j),Gs=!1,K=i.memoizedState,p.state=K,Ol(i,u,p,d),Dl();var W=i.memoizedState;E!==ie||K!==W||Gs||r!==null&&r.dependencies!==null&&Uc(r.dependencies)?(typeof S=="function"&&(Mf(i,o,S,u),W=i.memoizedState),(Z=Gs||Pv(i,o,Z,u,K,W,j)||r!==null&&r.dependencies!==null&&Uc(r.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,j)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),p.props=u,p.state=W,p.context=j,u=Z):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),u=!1)}return p=u,Nl(r,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&u?(i.child=Gi(i,r.child,null,d),i.child=Gi(i,null,o,d)):Ht(r,i,o,d),i.memoizedState=p.state,r=i.child):r=rs(r,i,d),r}function Zv(r,i,o,u){return yl(),i.flags|=256,Ht(r,i,o,u),i.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function zf(r){return{baseLanes:r,cachePool:ev()}}function Bf(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Yn),r}function Jv(r,i,o){var u=i.pendingProps,d=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if($e){if(d?Bs(i):Fs(),$e){var S=qt,j;if(j=S){e:{for(j=S,S=Ar;j.nodeType!==8;){if(!S){S=null;break e}if(j=ir(j.nextSibling),j===null){S=null;break e}}S=j}S!==null?(i.memoizedState={dehydrated:S,treeContext:qi!==null?{id:Jr,overflow:es}:null,retryLane:536870912},j=Qn(18,null,null,0),j.stateNode=S,j.return=i,i.child=j,cn=i,qt=null,j=!0):j=!1}j||$i(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;ts(i)}return S=u.children,u=u.fallback,d?(Fs(),d=i.mode,S=qf({mode:"hidden",children:S},d),u=ta(u,d,o,null),S.return=i,u.return=i,S.sibling=u,i.child=S,d=i.child,d.memoizedState=zf(o),d.childLanes=Bf(r,E,o),i.memoizedState=Uf,u):(Bs(i),Ff(i,S))}if(j=r.memoizedState,j!==null&&(S=j.dehydrated,S!==null)){if(p)i.flags&256?(Bs(i),i.flags&=-257,i=Hf(r,i,o)):i.memoizedState!==null?(Fs(),i.child=r.child,i.flags|=128,i=null):(Fs(),d=u.fallback,S=i.mode,u=qf({mode:"visible",children:u.children},S),d=ta(d,S,o,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,Gi(i,r.child,null,o),u=i.child,u.memoizedState=zf(o),u.childLanes=Bf(r,E,o),i.memoizedState=Uf,i=d);else if(Bs(i),S.data==="$!"){if(E=S.nextSibling&&S.nextSibling.dataset,E)var z=E.dgst;E=z,u=Error(s(419)),u.stack="",u.digest=E,vl({value:u,source:null,stack:null}),i=Hf(r,i,o)}else if(Pt||Cl(r,i,o,!1),E=(o&r.childLanes)!==0,Pt||E){if(E=et,E!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(E.suspendedLanes|o)?0:u,u!==0&&u!==j.retryLane)throw j.retryLane=u,zs(r,u),hn(E,r,u),Hv}S.data==="$?"||vm(),i=Hf(r,i,o)}else S.data==="$?"?(i.flags|=128,i.child=r.child,i=cA.bind(null,r),S._reactRetry=i,i=null):(r=j.treeContext,qt=ir(S.nextSibling),cn=i,$e=!0,rr=null,Ar=!1,r!==null&&(qn[Hn++]=Jr,qn[Hn++]=es,qn[Hn++]=qi,Jr=r.id,es=r.overflow,qi=i),i=Ff(i,u.children),i.flags|=4096);return i}return d?(Fs(),d=u.fallback,S=i.mode,j=r.child,z=j.sibling,u=Zs(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&31457280,z!==null?d=Zs(z,d):(d=ta(d,S,o,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,S=r.child.memoizedState,S===null?S=zf(o):(j=S.cachePool,j!==null?(z=Ct._currentValue,j=j.parent!==z?{parent:z,pool:z}:j):j=ev(),S={baseLanes:S.baseLanes|o,cachePool:j}),d.memoizedState=S,d.childLanes=Bf(r,E,o),i.memoizedState=Uf,u):(Bs(i),o=r.child,r=o.sibling,o=Zs(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=o,i.memoizedState=null,o)}function Ff(r,i){return i=qf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function qf(r,i){return S0(r,i,0,null)}function Hf(r,i,o){return Gi(i,r.child,null,o),r=Ff(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function e0(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Qf(r.return,i,o)}function $f(r,i,o,u,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function t0(r,i,o){var u=i.pendingProps,d=u.revealOrder,p=u.tail;if(Ht(r,i,u.children,o),u=Nt.current,u&2)u=u&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&e0(r,o,i);else if(r.tag===19)e0(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Ye(Nt,u),d){case"forwards":for(o=i.child,d=null;o!==null;)r=o.alternate,r!==null&&Rc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),$f(i,!1,d,o,p);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&Rc(r)===null){i.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}$f(i,!0,o,null,p);break;case"together":$f(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rs(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Js|=i.lanes,!(o&i.childLanes))if(r!==null){if(Cl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Zs(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Zs(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Gf(r,i){return r.lanes&i?!0:(r=r.dependencies,!!(r!==null&&Uc(r)))}function XS(r,i,o){switch(i.tag){case 3:xs(i,i.stateNode.containerInfo),$s(i,Ct,r.memoizedState.cache),yl();break;case 27:case 5:Ko(i);break;case 4:xs(i,i.stateNode.containerInfo);break;case 10:$s(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Bs(i),i.flags|=128,null):o&i.child.childLanes?Jv(r,i,o):(Bs(i),r=rs(r,i,o),r!==null?r.sibling:null);Bs(i);break;case 19:var d=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Cl(r,i,o,!1),u=(o&i.childLanes)!==0),d){if(u)return t0(r,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(Nt,Nt.current),u)break;return null;case 22:case 23:return i.lanes=0,Qv(r,i,o);case 24:$s(i,Ct,r.memoizedState.cache)}return rs(r,i,o)}function n0(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Gf(r,o)&&!(i.flags&128))return Pt=!1,XS(r,i,o);Pt=!!(r.flags&131072)}else Pt=!1,$e&&i.flags&1048576&&zy(i,wc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")am(u)?(r=Wi(u,r),i.tag=1,i=Wv(null,i,u,r,o)):(i.tag=0,i=Lf(null,i,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===N){i.tag=11,i=$v(null,i,u,r,o);break e}else if(d===B){i.tag=14,i=Gv(null,i,u,r,o);break e}}throw i=x(u)||u,Error(s(306,i,""))}}return i;case 0:return Lf(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,d=Wi(u,i.pendingProps),Wv(r,i,u,d,o);case 3:e:{if(xs(i,i.stateNode.containerInfo),r===null)throw Error(s(387));var p=i.pendingProps;d=i.memoizedState,u=d.element,Wf(r,i),Ol(i,p,null,o);var E=i.memoizedState;if(p=E.cache,$s(i,Ct,p),p!==d.cache&&Yf(i,[Ct],o,!0),Dl(),p=E.element,d.isDehydrated)if(d={element:p,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Zv(r,i,p,o);break e}else if(p!==u){u=Fn(Error(s(424)),i),vl(u),i=Zv(r,i,p,o);break e}else for(qt=ir(i.stateNode.containerInfo.firstChild),cn=i,$e=!0,rr=null,Ar=!0,o=Yy(i,null,p,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(yl(),p===u){i=rs(r,i,o);break e}Ht(r,i,p,o)}i=i.child}return i;case 26:return Nl(r,i),r===null?(o=i_(i.type,null,i.pendingProps,null))?i.memoizedState=o:$e||(o=i.type,r=i.pendingProps,u=th(kn.current).createElement(o),u[jt]=i,u[St]=r,$t(u,o,r),rt(u),i.stateNode=u):i.memoizedState=i_(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ko(i),r===null&&$e&&(u=i.stateNode=n_(i.type,i.pendingProps,kn.current),cn=i,Ar=!0,qt=ir(u.firstChild)),u=i.pendingProps.children,r!==null||$e?Ht(r,i,u,o):i.child=Gi(i,null,u,o),Nl(r,i),i.child;case 5:return r===null&&$e&&((d=u=qt)&&(u=AA(u,i.type,i.pendingProps,Ar),u!==null?(i.stateNode=u,cn=i,qt=ir(u.firstChild),Ar=!1,d=!0):d=!1),d||$i(i)),Ko(i),d=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,Om(d,p)?u=null:E!==null&&Om(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=bf(r,i,qS,null,null,o),Kl._currentValue=d),Nl(r,i),Ht(r,i,u,o),i.child;case 6:return r===null&&$e&&((r=o=qt)&&(o=RA(o,i.pendingProps,Ar),o!==null?(i.stateNode=o,cn=i,qt=null,r=!0):r=!1),r||$i(i)),null;case 13:return Jv(r,i,o);case 4:return xs(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Gi(i,null,u,o):Ht(r,i,u,o),i.child;case 11:return $v(r,i,i.type,i.pendingProps,o);case 7:return Ht(r,i,i.pendingProps,o),i.child;case 8:return Ht(r,i,i.pendingProps.children,o),i.child;case 12:return Ht(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,$s(i,i.type,u.value),Ht(r,i,u.children,o),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Ji(i),d=Zt(d),u=u(d),i.flags|=1,Ht(r,i,u,o),i.child;case 14:return Gv(r,i,i.type,i.pendingProps,o);case 15:return Kv(r,i,i.type,i.pendingProps,o);case 19:return t0(r,i,o);case 22:return Qv(r,i,o);case 24:return Ji(i),u=Zt(Ct),r===null?(d=vf(),d===null&&(d=et,p=gf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),i.memoizedState={parent:u,cache:d},Xf(i),$s(i,Ct,d)):(r.lanes&o&&(Wf(r,i),Ol(i,null,null,o),Dl()),d=r.memoizedState,p=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),$s(i,Ct,u)):(u=p.cache,$s(i,Ct,u),u!==d.cache&&Yf(i,[Ct],o,!0))),Ht(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Kf=qe(null),Zi=null,ss=null;function $s(r,i,o){Ye(Kf,i._currentValue),i._currentValue=o}function is(r){r._currentValue=Kf.current,lt(Kf)}function Qf(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function Yf(r,i,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var p=d.dependencies;if(p!==null){var E=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var j=0;j<i.length;j++)if(S.context===i[j]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Qf(p.return,o,r),u||(E=null);break e}p=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Qf(E,o,r),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===r){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Cl(r,i,o,u){r=null;for(var d=i,p=!1;d!==null;){if(!p){if(d.flags&524288)p=!0;else if(d.flags&262144)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;xn(d.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(d===Ts.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Kl):r=[Kl])}d=d.return}r!==null&&Yf(i,r,o,u),i.flags|=262144}function Uc(r){for(r=r.firstContext;r!==null;){if(!xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ji(r){Zi=r,ss=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zt(r){return r0(Zi,r)}function zc(r,i){return Zi===null&&Ji(r),r0(r,i)}function r0(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ss===null){if(r===null)throw Error(s(308));ss=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ss=ss.next=i;return o}var Gs=!1;function Xf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ks(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qs(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,it&2){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=bc(r),Ly(r,null,o),i}return _c(r,u,i,o),bc(r)}function Il(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194176)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Is(r,o)}}function Zf(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?d=p=i:p=p.next=i}else d=p=i;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Jf=!1;function Dl(){if(Jf){var r=eo;if(r!==null)throw r}}function Ol(r,i,o,u){Jf=!1;var d=r.updateQueue;Gs=!1;var p=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var j=S,z=j.next;j.next=null,E===null?p=z:E.next=z,E=j;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=z:S.next=z,Z.lastBaseUpdate=j))}if(p!==null){var ie=d.baseState;E=0,Z=z=j=null,S=p;do{var K=S.lane&-536870913,W=K!==S.lane;if(W?(ze&K)===K:(u&K)===K){K!==0&&K===Ja&&(Jf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=r,Se=S;K=i;var dt=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ie=me.call(dt,ie,K);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,K=typeof me=="function"?me.call(dt,ie,K):me,K==null)break e;ie=O({},ie,K);break e;case 2:Gs=!0}}K=S.callback,K!==null&&(r.flags|=64,W&&(r.flags|=8192),W=d.callbacks,W===null?d.callbacks=[K]:W.push(K))}else W={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(z=Z=W,j=ie):Z=Z.next=W,E|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;W=S,S=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(j=ie),d.baseState=j,d.firstBaseUpdate=z,d.lastBaseUpdate=Z,p===null&&(d.shared.lanes=0),Js|=E,r.lanes=E,r.memoizedState=ie}}function s0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function i0(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)s0(o[r],i)}function jl(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==d)}}catch(S){Ze(i,i.return,S)}}function Ys(r,i,o){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=i;var j=o;try{S()}catch(z){Ze(d,j,z)}}}u=u.next}while(u!==p)}}catch(z){Ze(i,i.return,z)}}function a0(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{i0(i,o)}catch(u){Ze(r,r.return,u)}}}function o0(r,i,o){o.props=Wi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Ze(r,i,u)}}function ea(r,i){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(p){Ze(r,i,p)}}function Sn(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Ze(r,i,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ze(r,i,d)}else o.current=null}function l0(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Ze(r,r.return,d)}}function u0(r,i,o){try{var u=r.stateNode;EA(u,r.type,o,i),u[St]=i}catch(d){Ze(r,r.return,d)}}function c0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function em(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||c0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tm(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(r,i):o.insertBefore(r,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(r,o)):(i=o,i.appendChild(r)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=eh));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(tm(r,i,o),r=r.sibling;r!==null;)tm(r,i,o),r=r.sibling}function Bc(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Bc(r,i,o),r=r.sibling;r!==null;)Bc(r,i,o),r=r.sibling}var as=!1,ct=!1,nm=!1,h0=typeof WeakSet=="function"?WeakSet:Set,Vt=null,d0=!1;function WS(r,i){if(r=r.containerInfo,Im=oh,r=Cy(r),rf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,S=-1,j=-1,z=0,Z=0,ie=r,K=null;t:for(;;){for(var W;ie!==o||d!==0&&ie.nodeType!==3||(S=E+d),ie!==p||u!==0&&ie.nodeType!==3||(j=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)K=ie,ie=W;for(;;){if(ie===r)break t;if(K===o&&++z===d&&(S=E),K===p&&++Z===u&&(j=E),(W=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=W}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dm={focusedElem:r,selectionRange:o},oh=!1,Vt=i;Vt!==null;)if(i=Vt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Vt=r;else for(;Vt!==null;){switch(i=Vt,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&p!==null){r=void 0,o=i,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var me=Wi(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(me,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Se){Ze(o,o.return,Se)}}break;case 3:if(r&1024){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Mm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Mm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Vt=r;break}Vt=i.return}return me=d0,d0=!1,me}function f0(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ls(r,o),u&4&&jl(5,o);break;case 1:if(ls(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(S){Ze(o,o.return,S)}else{var d=Wi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(d,i,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Ze(o,o.return,S)}}u&64&&a0(o),u&512&&ea(o,o.return);break;case 3:if(ls(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{i0(u,r)}catch(S){Ze(o,o.return,S)}}break;case 26:ls(r,o),u&512&&ea(o,o.return);break;case 27:case 5:ls(r,o),i===null&&u&4&&l0(o),u&512&&ea(o,o.return);break;case 12:ls(r,o);break;case 13:ls(r,o),u&4&&g0(r,o);break;case 22:if(d=o.memoizedState!==null||as,!d){i=i!==null&&i.memoizedState!==null||ct;var p=as,E=ct;as=d,(ct=i)&&!E?Xs(r,o,(o.subtreeFlags&8772)!==0):ls(r,o),as=p,ct=E}u&512&&(o.memoizedProps.mode==="manual"?ea(o,o.return):Sn(o,o.return));break;default:ls(r,o)}}function m0(r){var i=r.alternate;i!==null&&(r.alternate=null,m0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ii(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,An=!1;function os(r,i,o){for(o=o.child;o!==null;)p0(r,i,o),o=o.sibling}function p0(r,i,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Ss,o)}catch{}switch(o.tag){case 26:ct||Sn(o,i),os(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||Sn(o,i);var u=bt,d=An;for(bt=o.stateNode,os(r,i,o),o=o.stateNode,i=o.attributes;i.length;)o.removeAttributeNode(i[0]);Ii(o),bt=u,An=d;break;case 5:ct||Sn(o,i);case 6:d=bt;var p=An;if(bt=null,os(r,i,o),bt=d,An=p,bt!==null)if(An)try{r=bt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(E){Ze(o,i,E)}else try{bt.removeChild(o.stateNode)}catch(E){Ze(o,i,E)}break;case 18:bt!==null&&(An?(i=bt,o=o.stateNode,i.nodeType===8?km(i.parentNode,o):i.nodeType===1&&km(i,o),Wl(i)):km(bt,o.stateNode));break;case 4:u=bt,d=An,bt=o.stateNode.containerInfo,An=!0,os(r,i,o),bt=u,An=d;break;case 0:case 11:case 14:case 15:ct||Ys(2,o,i),ct||Ys(4,o,i),os(r,i,o);break;case 1:ct||(Sn(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&o0(o,i,u)),os(r,i,o);break;case 21:os(r,i,o);break;case 22:ct||Sn(o,i),ct=(u=ct)||o.memoizedState!==null,os(r,i,o),ct=u;break;default:os(r,i,o)}}function g0(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wl(r)}catch(o){Ze(i,i.return,o)}}function ZS(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new h0),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new h0),i;default:throw Error(s(435,r.tag))}}function rm(r,i){var o=ZS(r);i.forEach(function(u){var d=hA.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function Gn(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=r,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:case 5:bt=S.stateNode,An=!1;break e;case 3:bt=S.stateNode.containerInfo,An=!0;break e;case 4:bt=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(bt===null)throw Error(s(160));p0(p,E,d),bt=null,An=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)y0(i,r),i=i.sibling}var sr=null;function y0(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(i,r),Kn(r),u&4&&(Ys(3,r,r.return),jl(3,r),Ys(5,r,r.return));break;case 1:Gn(i,r),Kn(r),u&512&&(ct||o===null||Sn(o,o.return)),u&64&&as&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=sr;if(Gn(i,r),Kn(r),u&512&&(ct||o===null||Sn(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Os]||p[jt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),$t(p,u,o),p[jt]=r,rt(p),u=p;break e;case"link":var E=l_("link","href",d).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}p=d.createElement(u),$t(p,u,o),d.head.appendChild(p);break;case"meta":if(E=l_("meta","content",d).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}p=d.createElement(u),$t(p,u,o),d.head.appendChild(p);break;default:throw Error(s(468,u))}p[jt]=r,rt(p),u=p}r.stateNode=u}else u_(d,r.type,r.stateNode);else r.stateNode=o_(d,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?u_(d,r.type,r.stateNode):o_(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&u0(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){d=r.stateNode,p=r.memoizedProps;try{for(var j=d.firstChild;j;){var z=j.nextSibling,Z=j.nodeName;j[Os]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=z}for(var ie=r.type,K=d.attributes;K.length;)d.removeAttributeNode(K[0]);$t(d,ie,p),d[jt]=r,d[St]=p}catch(me){Ze(r,r.return,me)}}case 5:if(Gn(i,r),Kn(r),u&512&&(ct||o===null||Sn(o,o.return)),r.flags&32){d=r.stateNode;try{Vn(d,"")}catch(me){Ze(r,r.return,me)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,u0(r,d,o!==null?o.memoizedProps:d)),u&1024&&(nm=!0);break;case 6:if(Gn(i,r),Kn(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(me){Ze(r,r.return,me)}}break;case 3:if(sh=null,d=sr,sr=nh(i.containerInfo),Gn(i,r),sr=d,Kn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch(me){Ze(r,r.return,me)}nm&&(nm=!1,v0(r));break;case 4:u=sr,sr=nh(r.stateNode.containerInfo),Gn(i,r),Kn(r),sr=u;break;case 12:Gn(i,r),Kn(r);break;case 13:Gn(i,r),Kn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dm=mn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,rm(r,u)));break;case 22:if(u&512&&(ct||o===null||Sn(o,o.return)),j=r.memoizedState!==null,z=o!==null&&o.memoizedState!==null,Z=as,ie=ct,as=Z||j,ct=ie||z,Gn(i,r),ct=ie,as=Z,Kn(r),i=r.stateNode,i._current=r,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=j?i._visibility&-2:i._visibility|1,j&&(i=as||ct,o===null||z||i||so(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,i=r;;){if(i.tag===5||i.tag===26||i.tag===27){if(o===null){z=o=i;try{if(d=z.stateNode,j)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=z.stateNode,S=z.memoizedProps.style;var W=S!=null&&S.hasOwnProperty("display")?S.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){Ze(z,z.return,me)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=j?"":z.memoizedProps}catch(me){Ze(z,z.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,rm(r,o))));break;case 19:Gn(i,r),Kn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,rm(r,u)));break;case 21:break;default:Gn(i,r),Kn(r)}}function Kn(r){var i=r.flags;if(i&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(c0(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 27:var d=u.stateNode,p=em(r);Bc(r,p,d);break;case 5:var E=u.stateNode;u.flags&32&&(Vn(E,""),u.flags&=-33);var S=em(r);Bc(r,S,E);break;case 3:case 4:var j=u.stateNode.containerInfo,z=em(r);tm(r,z,j);break;default:throw Error(s(161))}}}catch(Z){Ze(r,r.return,Z)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function v0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;v0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ls(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f0(r,i.alternate,i),i=i.sibling}function so(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ys(4,i,i.return),so(i);break;case 1:Sn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&o0(i,i.return,o),so(i);break;case 26:case 27:case 5:Sn(i,i.return),so(i);break;case 22:Sn(i,i.return),i.memoizedState===null&&so(i);break;default:so(i)}r=r.sibling}}function Xs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:Xs(d,p,o),jl(4,p);break;case 1:if(Xs(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Ze(u,u.return,z)}if(u=p,d=u.updateQueue,d!==null){var S=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)s0(j[d],S)}catch(z){Ze(u,u.return,z)}}o&&E&64&&a0(p),ea(p,p.return);break;case 26:case 27:case 5:Xs(d,p,o),o&&u===null&&E&4&&l0(p),ea(p,p.return);break;case 12:Xs(d,p,o);break;case 13:Xs(d,p,o),o&&E&4&&g0(d,p);break;case 22:p.memoizedState===null&&Xs(d,p,o),ea(p,p.return);break;default:Xs(d,p,o)}i=i.sibling}}function sm(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Tl(o))}function im(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Tl(r))}function Ws(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_0(r,i,o,u),i=i.sibling}function _0(r,i,o,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ws(r,i,o,u),d&2048&&jl(9,i);break;case 3:Ws(r,i,o,u),d&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Tl(r)));break;case 12:if(d&2048){Ws(r,i,o,u),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){Ze(i,i.return,j)}}else Ws(r,i,o,u);break;case 23:break;case 22:p=i.stateNode,i.memoizedState!==null?p._visibility&4?Ws(r,i,o,u):kl(r,i):p._visibility&4?Ws(r,i,o,u):(p._visibility|=4,io(r,i,o,u,(i.subtreeFlags&10256)!==0)),d&2048&&sm(i.alternate,i);break;case 24:Ws(r,i,o,u),d&2048&&im(i.alternate,i);break;default:Ws(r,i,o,u)}}function io(r,i,o,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,S=o,j=u,z=E.flags;switch(E.tag){case 0:case 11:case 15:io(p,E,S,j,d),jl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&4?io(p,E,S,j,d):kl(p,E):(Z._visibility|=4,io(p,E,S,j,d)),d&&z&2048&&sm(E.alternate,E);break;case 24:io(p,E,S,j,d),d&&z&2048&&im(E.alternate,E);break;default:io(p,E,S,j,d)}i=i.sibling}}function kl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,d=u.flags;switch(u.tag){case 22:kl(o,u),d&2048&&sm(u.alternate,u);break;case 24:kl(o,u),d&2048&&im(u.alternate,u);break;default:kl(o,u)}i=i.sibling}}var Ml=8192;function ao(r){if(r.subtreeFlags&Ml)for(r=r.child;r!==null;)b0(r),r=r.sibling}function b0(r){switch(r.tag){case 26:ao(r),r.flags&Ml&&r.memoizedState!==null&&zA(sr,r.memoizedState,r.memoizedProps);break;case 5:ao(r);break;case 3:case 4:var i=sr;sr=nh(r.stateNode.containerInfo),ao(r),sr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Ml,Ml=16777216,ao(r),Ml=i):ao(r));break;default:ao(r)}}function E0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Pl(r){var i=r.deletions;if(r.flags&16){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Vt=u,T0(u,r)}E0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)w0(r),r=r.sibling}function w0(r){switch(r.tag){case 0:case 11:case 15:Pl(r),r.flags&2048&&Ys(9,r,r.return);break;case 3:Pl(r);break;case 12:Pl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&4&&(r.return===null||r.return.tag!==13)?(i._visibility&=-5,Fc(r)):Pl(r);break;default:Pl(r)}}function Fc(r){var i=r.deletions;if(r.flags&16){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Vt=u,T0(u,r)}E0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ys(8,i,i.return),Fc(i);break;case 22:o=i.stateNode,o._visibility&4&&(o._visibility&=-5,Fc(i));break;default:Fc(i)}r=r.sibling}}function T0(r,i){for(;Vt!==null;){var o=Vt;switch(o.tag){case 0:case 11:case 15:Ys(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Vt=u;else e:for(o=r;Vt!==null;){u=Vt;var d=u.sibling,p=u.return;if(m0(u),u===o){Vt=null;break e}if(d!==null){d.return=p,Vt=d;break e}Vt=p}}}function JS(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(r,i,o,u){return new JS(r,i,o,u)}function am(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zs(r,i){var o=r.alternate;return o===null?(o=Qn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function x0(r,i){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function qc(r,i,o,u,d,p){var E=0;if(u=r,typeof r=="function")am(r)&&(E=1);else if(typeof r=="string")E=LA(r,o,an.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case m:return ta(o.children,d,p,i);case g:E=8,d|=24;break;case _:return r=Qn(12,o,i,d|2),r.elementType=_,r.lanes=p,r;case V:return r=Qn(13,o,i,d),r.elementType=V,r.lanes=p,r;case I:return r=Qn(19,o,i,d),r.elementType=I,r.lanes=p,r;case Q:return S0(o,d,p,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case C:E=10;break e;case T:E=9;break e;case N:E=11;break e;case B:E=14;break e;case $:E=16,u=null;break e}E=29,o=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=Qn(E,o,i,d),i.elementType=r,i.type=u,i.lanes=p,i}function ta(r,i,o,u){return r=Qn(7,r,u,i),r.lanes=o,r}function S0(r,i,o,u){r=Qn(22,r,u,i),r.elementType=Q,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=d._current;if(p===null)throw Error(s(456));if(!(d._pendingVisibility&2)){var E=zs(p,2);E!==null&&(d._pendingVisibility|=2,hn(E,p,2))}},attach:function(){var p=d._current;if(p===null)throw Error(s(456));if(d._pendingVisibility&2){var E=zs(p,2);E!==null&&(d._pendingVisibility&=-3,hn(E,p,2))}}};return r.stateNode=d,r}function om(r,i,o){return r=Qn(6,r,null,i),r.lanes=o,r}function lm(r,i,o){return i=Qn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function us(r){r.flags|=4}function A0(r,i){if(i.type!=="stylesheet"||i.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!c_(i)){if(i=$n.current,i!==null&&((ze&4194176)===ze?Rr!==null:(ze&62914560)!==ze&&!(ze&536870912)||i!==Rr))throw bl=ff,qy;r.flags|=8192}}function Hc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ns():536870912,r.lanes|=i,lo|=i)}function Vl(r,i){if(!$e)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function st(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function eA(r,i,o){var u=i.pendingProps;switch(hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),is(Ct),Fr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(gl(i)?us(i):r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,rr!==null&&(gm(rr),rr=null))),st(i),null;case 26:return o=i.memoizedState,r===null?(us(i),o!==null?(st(i),A0(i,o)):(st(i),i.flags&=-16777217)):o?o!==r.memoizedState?(us(i),st(i),A0(i,o)):(st(i),i.flags&=-16777217):(r.memoizedProps!==u&&us(i),st(i),i.flags&=-16777217),null;case 27:Ra(i),o=kn.current;var d=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&us(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return st(i),null}r=an.current,gl(i)?By(i):(r=n_(d,u,o),i.stateNode=r,us(i))}return st(i),null;case 5:if(Ra(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&us(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(r=an.current,gl(i))By(i);else{switch(d=th(kn.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[jt]=i,r[St]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=r;e:switch($t(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&us(i)}}return st(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&us(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=kn.current,gl(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,d=cn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[jt]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||X0(r.nodeValue,o)),r||$i(i)}else r=th(r).createTextNode(u),r[jt]=i,i.stateNode=r}return st(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=gl(i),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[jt]=i}else yl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;st(i),d=!1}else rr!==null&&(gm(rr),rr=null),d=!0;if(!d)return i.flags&256?(ts(i),i):(ts(i),null)}if(ts(i),i.flags&128)return i.lanes=o,i;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),Hc(i,i.updateQueue),st(i),null;case 4:return Fr(),r===null&&Rm(i.stateNode.containerInfo),st(i),null;case 10:return is(i.type),st(i),null;case 19:if(lt(Nt),d=i.memoizedState,d===null)return st(i),null;if(u=(i.flags&128)!==0,p=d.rendering,p===null)if(u)Vl(d,!1);else{if(ht!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(p=Rc(r),p!==null){for(i.flags|=128,Vl(d,!1),r=p.updateQueue,i.updateQueue=r,Hc(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)x0(o,r),o=o.sibling;return Ye(Nt,Nt.current&1|2),i.child}r=r.sibling}d.tail!==null&&mn()>$c&&(i.flags|=128,u=!0,Vl(d,!1),i.lanes=4194304)}else{if(!u)if(r=Rc(p),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,Hc(i,r),Vl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!$e)return st(i),null}else 2*mn()-d.renderingStartTime>$c&&o!==536870912&&(i.flags|=128,u=!0,Vl(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(r=d.last,r!==null?r.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=mn(),i.sibling=null,r=Nt.current,Ye(Nt,u?r&1|2:r&1),i):(st(i),null);case 22:case 23:return ts(i),pf(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?o&536870912&&!(i.flags&128)&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),o=i.updateQueue,o!==null&&Hc(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&lt(Ki),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),is(Ct),st(i),null;case 25:return null}throw Error(s(156,i.tag))}function tA(r,i){switch(hf(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return is(Ct),Fr(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ra(i),null;case 13:if(ts(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return lt(Nt),null;case 4:return Fr(),null;case 10:return is(i.type),null;case 22:case 23:return ts(i),pf(),r!==null&&lt(Ki),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return is(Ct),null;case 25:return null;default:return null}}function R0(r,i){switch(hf(i),i.tag){case 3:is(Ct),Fr();break;case 26:case 27:case 5:Ra(i);break;case 4:Fr();break;case 13:ts(i);break;case 19:lt(Nt);break;case 10:is(i.type);break;case 22:case 23:ts(i),pf(),r!==null&&lt(Ki);break;case 24:is(Ct)}}var nA={getCacheForType:function(r){var i=Zt(Ct),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},rA=typeof WeakMap=="function"?WeakMap:Map,it=0,et=null,je=null,ze=0,tt=0,Rn=null,cs=!1,oo=!1,um=!1,hs=0,ht=0,Js=0,na=0,cm=0,Yn=0,lo=0,Ll=null,Cr=null,hm=!1,dm=0,$c=1/0,Gc=null,ei=null,Kc=!1,ra=null,Ul=0,fm=0,mm=null,zl=0,pm=null;function Nn(){if(it&2&&ze!==0)return ze&-ze;if(A.T!==null){var r=Ja;return r!==0?r:Tm()}return Ju()}function N0(){Yn===0&&(Yn=!(ze&536870912)||$e?Zo():536870912);var r=$n.current;return r!==null&&(r.flags|=32),Yn}function hn(r,i,o){(r===et&&tt===2||r.cancelPendingCommit!==null)&&(uo(r,0),ds(r,ze,Yn,!1)),ft(r,o),(!(it&2)||r!==et)&&(r===et&&(!(it&2)&&(na|=o),ht===4&&ds(r,ze,Yn,!1)),Ir(r))}function C0(r,i,o){if(it&6)throw Error(s(327));var u=!o&&(i&60)===0&&(i&r.expiredLanes)===0||Rs(r,i),d=u?aA(r,i):_m(r,i,!0),p=u;do{if(d===0){oo&&!u&&ds(r,i,0,!1);break}else if(d===6)ds(r,i,0,!cs);else{if(o=r.current.alternate,p&&!sA(o)){d=_m(r,i,!1),p=!1;continue}if(d===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=r;d=Ll;var j=S.current.memoizedState.isDehydrated;if(j&&(uo(S,E).flags|=256),E=_m(S,E,!1),E!==2){if(um&&!j){S.errorRecoveryDisabledLanes|=p,na|=p,d=4;break e}p=Cr,Cr=d,p!==null&&gm(p)}d=E}if(p=!1,d!==2)continue}}if(d===1){uo(r,0),ds(r,i,0,!0);break}e:{switch(u=r,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ds(u,i,Yn,!cs);break e}break;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=o,u.finishedLanes=i,(i&62914560)===i&&(p=dm+300-mn(),10<p)){if(ds(u,i,Yn,!cs),Mn(u,0)!==0)break e;u.timeoutHandle=J0(I0.bind(null,u,o,Cr,Gc,hm,i,Yn,na,lo,cs,2,-0,0),p);break e}I0(u,o,Cr,Gc,hm,i,Yn,na,lo,cs,0,-0,0)}}break}while(!0);Ir(r)}function gm(r){Cr===null?Cr=r:Cr.push.apply(Cr,r)}function I0(r,i,o,u,d,p,E,S,j,z,Z,ie,K){var W=i.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:UA},b0(i),i=BA(),i!==null)){r.cancelPendingCommit=i(V0.bind(null,r,o,u,d,E,S,j,1,ie,K)),ds(r,p,E,!z);return}V0(r,o,u,d,E,S,j,Z,ie,K)}function sA(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!xn(p(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ds(r,i,o,u){i&=~cm,i&=~na,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var d=i;0<d;){var p=31-on(d),E=1<<p;u[p]=-1,d&=~E}o!==0&&Cs(r,o,i)}function Qc(){return it&6?!0:(Bl(0),!1)}function ym(){if(je!==null){if(tt===0)var r=je.return;else r=je,ss=Zi=null,Tf(r),Wa=null,El=0,r=je;for(;r!==null;)R0(r.alternate,r),r=r.return;je=null}}function uo(r,i){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,TA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ym(),et=r,je=o=Zs(r.current,null),ze=i,tt=0,Rn=null,cs=!1,oo=Rs(r,i),um=!1,lo=Yn=cm=na=Js=ht=0,Cr=Ll=null,hm=!1,i&8&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var d=31-on(u),p=1<<d;i|=r[d],u&=~p}return hs=i,vc(),o}function D0(r,i){Ie=null,A.H=Nr,i===_l?(i=Gy(),tt=3):i===qy?(i=Gy(),tt=4):tt=i===Hv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,je===null&&(ht=1,Lc(r,Fn(i,r.current)))}function O0(){var r=A.H;return A.H=Nr,r===null?Nr:r}function j0(){var r=A.A;return A.A=nA,r}function vm(){ht=4,cs||(ze&4194176)!==ze&&$n.current!==null||(oo=!0),!(Js&134217727)&&!(na&134217727)||et===null||ds(et,ze,Yn,!1)}function _m(r,i,o){var u=it;it|=2;var d=O0(),p=j0();(et!==r||ze!==i)&&(Gc=null,uo(r,i)),i=!1;var E=ht;e:do try{if(tt!==0&&je!==null){var S=je,j=Rn;switch(tt){case 8:ym(),E=6;break e;case 3:case 2:case 6:$n.current===null&&(i=!0);var z=tt;if(tt=0,Rn=null,co(r,S,j,z),o&&oo){E=0;break e}break;default:z=tt,tt=0,Rn=null,co(r,S,j,z)}}iA(),E=ht;break}catch(Z){D0(r,Z)}while(!0);return i&&r.shellSuspendCounter++,ss=Zi=null,it=u,A.H=d,A.A=p,je===null&&(et=null,ze=0,vc()),E}function iA(){for(;je!==null;)k0(je)}function aA(r,i){var o=it;it|=2;var u=O0(),d=j0();et!==r||ze!==i?(Gc=null,$c=mn()+500,uo(r,i)):oo=Rs(r,i);e:do try{if(tt!==0&&je!==null){i=je;var p=Rn;t:switch(tt){case 1:tt=0,Rn=null,co(r,i,p,1);break;case 2:if(Hy(p)){tt=0,Rn=null,M0(i);break}i=function(){tt===2&&et===r&&(tt=7),Ir(r)},p.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Hy(p)?(tt=0,Rn=null,M0(i)):(tt=0,Rn=null,co(r,i,p,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var S=je;if(!E||c_(E)){tt=0,Rn=null;var j=S.sibling;if(j!==null)je=j;else{var z=S.return;z!==null?(je=z,Yc(z)):je=null}break t}}tt=0,Rn=null,co(r,i,p,5);break;case 6:tt=0,Rn=null,co(r,i,p,6);break;case 8:ym(),ht=6;break e;default:throw Error(s(462))}}oA();break}catch(Z){D0(r,Z)}while(!0);return ss=Zi=null,A.H=u,A.A=d,it=o,je!==null?0:(et=null,ze=0,vc(),ht)}function oA(){for(;je!==null&&!Gd();)k0(je)}function k0(r){var i=n0(r.alternate,r,hs);r.memoizedProps=r.pendingProps,i===null?Yc(r):je=i}function M0(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=Xv(o,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Xv(o,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Tf(i);default:R0(o,i),i=je=x0(i,hs),i=n0(o,i,hs)}r.memoizedProps=r.pendingProps,i===null?Yc(r):je=i}function co(r,i,o,u){ss=Zi=null,Tf(i),Wa=null,El=0;var d=i.return;try{if(YS(r,d,i,o,ze)){ht=1,Lc(r,Fn(o,r.current)),je=null;return}}catch(p){if(d!==null)throw je=d,p;ht=1,Lc(r,Fn(o,r.current)),je=null;return}i.flags&32768?($e||u===1?r=!0:oo||ze&536870912?r=!1:(cs=r=!0,(u===2||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),P0(i,r)):Yc(i)}function Yc(r){var i=r;do{if(i.flags&32768){P0(i,cs);return}r=i.return;var o=eA(i.alternate,i,hs);if(o!==null){je=o;return}if(i=i.sibling,i!==null){je=i;return}je=i=r}while(i!==null);ht===0&&(ht=5)}function P0(r,i){do{var o=tA(r.alternate,r);if(o!==null){o.flags&=32767,je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){je=r;return}je=r=o}while(r!==null);ht=6,je=null}function V0(r,i,o,u,d,p,E,S,j,z){var Z=A.T,ie=he.p;try{he.p=2,A.T=null,lA(r,i,o,u,ie,d,p,E,S,j,z)}finally{A.T=Z,he.p=ie}}function lA(r,i,o,u,d,p,E,S){do ho();while(ra!==null);if(it&6)throw Error(s(327));var j=r.finishedWork;if(u=r.finishedLanes,j===null)return null;if(r.finishedWork=null,r.finishedLanes=0,j===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var z=j.lanes|j.childLanes;if(z|=lf,Wu(r,u,z,p,E,S),r===et&&(je=et=null,ze=0),!(j.subtreeFlags&10256)&&!(j.flags&10256)||Kc||(Kc=!0,fm=z,mm=o,dA(qr,function(){return ho(),null})),o=(j.flags&15990)!==0,j.subtreeFlags&15990||o?(o=A.T,A.T=null,p=he.p,he.p=2,E=it,it|=4,WS(r,j),y0(j,r),OS(Dm,r.containerInfo),oh=!!Im,Dm=Im=null,r.current=j,f0(r,j.alternate,j),Qo(),it=E,he.p=p,A.T=o):r.current=j,Kc?(Kc=!1,ra=r,Ul=u):L0(r,z),z=r.pendingLanes,z===0&&(ei=null),Xo(j.stateNode),Ir(r),i!==null)for(d=r.onRecoverableError,j=0;j<i.length;j++)z=i[j],d(z.value,{componentStack:z.stack});return Ul&3&&ho(),z=r.pendingLanes,u&4194218&&z&42?r===pm?zl++:(zl=0,pm=r):zl=0,Bl(0),null}function L0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Tl(i)))}function ho(){if(ra!==null){var r=ra,i=fm;fm=0;var o=Zu(Ul),u=A.T,d=he.p;try{if(he.p=32>o?32:o,A.T=null,ra===null)var p=!1;else{o=mm,mm=null;var E=ra,S=Ul;if(ra=null,Ul=0,it&6)throw Error(s(331));var j=it;if(it|=4,w0(E.current),_0(E,E.current,S,o),it=j,Bl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Ss,E)}catch{}p=!0}return p}finally{he.p=d,A.T=u,L0(r,i)}}return!1}function U0(r,i,o){i=Fn(o,i),i=Vf(r.stateNode,i,2),r=Qs(r,i,2),r!==null&&(ft(r,2),Ir(r))}function Ze(r,i,o){if(r.tag===3)U0(r,r,o);else for(;i!==null;){if(i.tag===3){U0(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ei===null||!ei.has(u))){r=Fn(o,r),o=Fv(2),u=Qs(i,o,2),u!==null&&(qv(o,u,i,r),ft(u,2),Ir(u));break}}i=i.return}}function bm(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new rA;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(o)||(um=!0,d.add(o),r=uA.bind(null,r,i,o),i.then(r,r))}function uA(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,et===r&&(ze&o)===o&&(ht===4||ht===3&&(ze&62914560)===ze&&300>mn()-dm?!(it&2)&&uo(r,0):cm|=o,lo===ze&&(lo=0)),Ir(r)}function z0(r,i){i===0&&(i=Ns()),r=zs(r,i),r!==null&&(ft(r,i),Ir(r))}function cA(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),z0(r,o)}function hA(r,i){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),z0(r,o)}function dA(r,i){return Ri(r,i)}var Xc=null,fo=null,Em=!1,Wc=!1,wm=!1,sa=0;function Ir(r){r!==fo&&r.next===null&&(fo===null?Xc=fo=r:fo=fo.next=r),Wc=!0,Em||(Em=!0,mA(fA))}function Bl(r,i){if(!wm&&Wc){wm=!0;do for(var o=!1,u=Xc;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-on(42|r)+1)-1,p&=d&~(E&~S),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,q0(u,p))}else p=ze,p=Mn(u,u===et?p:0),!(p&3)||Rs(u,p)||(o=!0,q0(u,p));u=u.next}while(o);wm=!1}}function fA(){Wc=Em=!1;var r=0;sa!==0&&(wA()&&(r=sa),sa=0);for(var i=mn(),o=null,u=Xc;u!==null;){var d=u.next,p=B0(u,i);p===0?(u.next=null,o===null?Xc=d:o.next=d,d===null&&(fo=o)):(o=u,(r!==0||p&3)&&(Wc=!0)),u=d}Bl(r)}function B0(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-on(p),S=1<<E,j=d[E];j===-1?(!(S&o)||S&u)&&(d[E]=Ia(S,i)):j<=i&&(r.expiredLanes|=S),p&=~S}if(i=et,o=ze,o=Mn(r,r===i?o:0),u=r.callbackNode,o===0||r===i&&tt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ca(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||Rs(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&Ca(u),Zu(o)){case 2:case 8:o=Ot;break;case 32:o=qr;break;case 268435456:o=Yo;break;default:o=qr}return u=F0.bind(null,r),o=Ri(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&Ca(u),r.callbackPriority=2,r.callbackNode=null,2}function F0(r,i){var o=r.callbackNode;if(ho()&&r.callbackNode!==o)return null;var u=ze;return u=Mn(r,r===et?u:0),u===0?null:(C0(r,u,i),B0(r,mn()),r.callbackNode!=null&&r.callbackNode===o?F0.bind(null,r):null)}function q0(r,i){if(ho())return null;C0(r,i,!0)}function mA(r){xA(function(){it&6?Ri(xt,r):r()})}function Tm(){return sa===0&&(sa=Zo()),sa}function H0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:_r(""+r)}function $0(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function pA(r,i,o,u,d){if(i==="submit"&&o&&o.stateNode===d){var p=H0((d[St]||null).action),E=u.submitter;E&&(i=(i=E[St]||null)?H0(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var S=new Va("action","action",null,u,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sa!==0){var j=E?$0(d,E):new FormData(d);Of(o,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(S.preventDefault(),j=E?$0(d,E):new FormData(d),Of(o,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var xm=0;xm<Vy.length;xm++){var Sm=Vy[xm],gA=Sm.toLowerCase(),yA=Sm[0].toUpperCase()+Sm.slice(1);nr(gA,"on"+yA)}nr(Oy,"onAnimationEnd"),nr(jy,"onAnimationIteration"),nr(ky,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(kS,"onTransitionRun"),nr(MS,"onTransitionStart"),nr(PS,"onTransitionCancel"),nr(My,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function G0(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var E=u.length-1;0<=E;E--){var S=u[E],j=S.instance,z=S.currentTarget;if(S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=z;try{p(d)}catch(Z){Vc(Z)}d.currentTarget=null,p=j}else for(E=0;E<u.length;E++){if(S=u[E],j=S.instance,z=S.currentTarget,S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=z;try{p(d)}catch(Z){Vc(Z)}d.currentTarget=null,p=j}}}}function Pe(r,i){var o=i[Ci];o===void 0&&(o=i[Ci]=new Set);var u=r+"__bubble";o.has(u)||(K0(i,r,2,!1),o.add(u))}function Am(r,i,o){var u=0;i&&(u|=4),K0(o,r,u,i)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Rm(r){if(!r[Zc]){r[Zc]=!0,el.forEach(function(o){o!=="selectionchange"&&(vA.has(o)||Am(o,!1,r),Am(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Zc]||(i[Zc]=!0,Am("selectionchange",!1,i))}}function K0(r,i,o,u){switch(g_(i)){case 2:var d=HA;break;case 8:d=$A;break;default:d=zm}o=d.bind(null,i,o,r),d=void 0,!Un||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(i,o,{capture:!0,passive:d}):r.addEventListener(i,o,!0):d!==void 0?r.addEventListener(i,o,{passive:d}):r.addEventListener(i,o,!1)}function Nm(r,i,o,u,d){var p=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(E===4)for(E=u.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;E=E.return}for(;S!==null;){if(E=tr(S),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){u=p=E;continue e}S=S.parentNode}}u=u.return}rc(function(){var z=p,Z=Pa(o),ie=[];e:{var K=Py.get(r);if(K!==void 0){var W=Va,me=r;switch(r){case"keypress":if(Er(o)===0)break e;case"keydown":case"keyup":W=qa;break;case"focusin":me="focus",W=za;break;case"focusout":me="blur",W=za;break;case"beforeblur":case"afterblur":W=za;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=hc;break;case Oy:case jy:case ky:W=Ba;break;case My:W=fc;break;case"scroll":case"scrollend":W=sc;break;case"wheel":W=Ha;break;case"copy":case"cut":case"paste":W=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=dl;break;case"toggle":case"beforetoggle":W=pc}var Se=(i&4)!==0,dt=!Se&&(r==="scroll"||r==="scrollend"),q=Se?K!==null?K+"Capture":null:K;Se=[];for(var U=z,G;U!==null;){var ne=U;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||q===null||(ne=ki(U,q),ne!=null&&Se.push(ql(U,ne,G))),dt)break;U=U.return}0<Se.length&&(K=new W(K,me,null,o,Z),ie.push({event:K,listeners:Se}))}}if(!(i&7)){e:{if(K=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",K&&o!==Ln&&(me=o.relatedTarget||o.fromElement)&&(tr(me)||me[Hr]))break e;if((W||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=z,me=me?tr(me):null,me!==null&&(dt=ve(me),Se=me.tag,me!==dt||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(W=null,me=z),W!==me)){if(Se=zn,ne="onMouseLeave",q="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Se=dl,ne="onPointerLeave",q="onPointerEnter",U="pointer"),dt=W==null?K:js(W),G=me==null?K:js(me),K=new Se(ne,U+"leave",W,o,Z),K.target=dt,K.relatedTarget=G,ne=null,tr(Z)===z&&(Se=new Se(q,U+"enter",me,o,Z),Se.target=G,Se.relatedTarget=dt,ne=Se),dt=ne,W&&me)t:{for(Se=W,q=me,U=0,G=Se;G;G=mo(G))U++;for(G=0,ne=q;ne;ne=mo(ne))G++;for(;0<U-G;)Se=mo(Se),U--;for(;0<G-U;)q=mo(q),G--;for(;U--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=mo(Se),q=mo(q)}Se=null}else Se=null;W!==null&&Q0(ie,K,W,Se,!1),me!==null&&dt!==null&&Q0(ie,dt,me,Se,!0)}}e:{if(K=z?js(z):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var fe=Ey;else if(Rt(K))if(wy)fe=IS;else{fe=NS;var Oe=RS}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?z&&il(z.elementType)&&(fe=Ey):fe=CS;if(fe&&(fe=fe(r,z))){Zr(ie,fe,o,Z);break e}Oe&&Oe(r,K,z),r==="focusout"&&z&&K.type==="number"&&z.memoizedProps.value!=null&&Ma(K,"number",K.value)}switch(Oe=z?js(z):window,r){case"focusin":(Rt(Oe)||Oe.contentEditable==="true")&&($a=Oe,sf=z,pl=null);break;case"focusout":pl=sf=$a=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Iy(ie,o,Z);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":Iy(ie,o,Z)}var ge;if(xr)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?Y(r,o)&&(be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(b&&o.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(ge=ol()):(br=Z,Us="value"in br?br.value:br.textContent,Le=!0)),Oe=Jc(z,be),0<Oe.length&&(be=new cl(be,r,null,o,Z),ie.push({event:be,listeners:Oe}),ge?be.data=ge:(ge=oe(o),ge!==null&&(be.data=ge)))),(ge=v?At(r,o):Ue(r,o))&&(be=Jc(z,"onBeforeInput"),0<be.length&&(Oe=new cl("onBeforeInput","beforeinput",null,o,Z),ie.push({event:Oe,listeners:be}),Oe.data=ge)),pA(ie,r,z,o,Z)}G0(ie,i)})}function ql(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Jc(r,i){for(var o=i+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=ki(r,o),d!=null&&u.unshift(ql(r,d,p)),d=ki(r,i),d!=null&&u.push(ql(r,d,p))),r=r.return}return u}function mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Q0(r,i,o,u,d){for(var p=i._reactName,E=[];o!==null&&o!==u;){var S=o,j=S.alternate,z=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||z===null||(j=z,d?(z=ki(o,p),z!=null&&E.unshift(ql(o,z,j))):d||(z=ki(o,p),z!=null&&E.push(ql(o,z,j)))),o=o.return}E.length!==0&&r.push({event:i,listeners:E})}var _A=/\r\n?/g,bA=/\u0000|\uFFFD/g;function Y0(r){return(typeof r=="string"?r:""+r).replace(_A,`
`).replace(bA,"")}function X0(r,i){return i=Y0(i),Y0(r)===i}function eh(){}function We(r,i,o,u,d,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Vn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Vn(r,""+u);break;case"className":Ps(r,"class",u);break;case"tabIndex":Ps(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(r,o,u);break;case"style":nc(r,u,p);break;case"data":if(i!=="object"){Ps(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=_r(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&We(r,i,"name",d.name,d,null),We(r,i,"formEncType",d.formEncType,d,null),We(r,i,"formMethod",d.formMethod,d,null),We(r,i,"formTarget",d.formTarget,d,null)):(We(r,i,"encType",d.encType,d,null),We(r,i,"method",d.method,d,null),We(r,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=_r(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=eh);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=_r(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Ms(r,"popover",u);break;case"xlinkActuate":Pn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ms(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wd.get(o)||o,Ms(r,o,u))}}function Cm(r,i,o,u,d,p){switch(o){case"style":nc(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Vn(r,u):(typeof u=="number"||typeof u=="bigint")&&Vn(r,""+u);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),p=r[St]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(i,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ms(r,o,u)}}}function $t(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(r,i,p,E,o,null)}}d&&We(r,i,"srcSet",o.srcSet,o,null),u&&We(r,i,"src",o.src,o,null);return;case"input":Pe("invalid",r);var S=p=E=d=null,j=null,z=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":E=Z;break;case"checked":j=Z;break;case"defaultChecked":z=Z;break;case"value":p=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:We(r,i,u,Z,o,null)}}Oi(r,p,S,j,z,E,d,!1),Di(r);return;case"select":Pe("invalid",r),u=E=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:We(r,i,d,S,o,null)}i=p,o=E,r.multiple=!!u,i!=null?He(r,!!u,i,!1):o!=null&&He(r,!!u,o,!0);return;case"textarea":Pe("invalid",r),p=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(r,i,E,S,o,null)}Ls(r,u,d,p),Di(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(r,i,j,u,o,null)}return;case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(u=0;u<Fl.length;u++)Pe(Fl[u],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(u=o[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(r,i,z,u,o,null)}return;default:if(il(i)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Cm(r,i,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&We(r,i,S,u,o,null))}function EA(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,E=null,S=null,j=null,z=null,Z=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=ie;default:u.hasOwnProperty(W)||We(r,i,W,null,u,ie)}}for(var K in u){var W=u[K];if(ie=o[K],u.hasOwnProperty(K)&&(W!=null||ie!=null))switch(K){case"type":p=W;break;case"name":d=W;break;case"checked":z=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==ie&&We(r,i,K,W,u,ie)}}Vs(r,E,S,j,z,Z,p,d);return;case"select":W=E=S=K=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":W=j;default:u.hasOwnProperty(p)||We(r,i,p,null,u,j)}for(d in u)if(p=u[d],j=o[d],u.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==j&&We(r,i,d,p,u,j)}i=S,o=E,u=W,K!=null?He(r,!!o,K,!1):!!u!=!!o&&(i!=null?He(r,!!o,i,!0):He(r,!!o,o?[]:"",!1));return;case"textarea":W=K=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(r,i,S,null,u,d)}for(E in u)if(d=u[E],p=o[E],u.hasOwnProperty(E)&&(d!=null||p!=null))switch(E){case"value":K=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&We(r,i,E,d,u,p)}ji(r,K,W);return;case"option":for(var me in o)if(K=o[me],o.hasOwnProperty(me)&&K!=null&&!u.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:We(r,i,me,null,u,K)}for(j in u)if(K=u[j],W=o[j],u.hasOwnProperty(j)&&K!==W&&(K!=null||W!=null))switch(j){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:We(r,i,j,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!u.hasOwnProperty(Se)&&We(r,i,Se,null,u,K);for(z in u)if(K=u[z],W=o[z],u.hasOwnProperty(z)&&K!==W&&(K!=null||W!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:We(r,i,z,K,u,W)}return;default:if(il(i)){for(var dt in o)K=o[dt],o.hasOwnProperty(dt)&&K!==void 0&&!u.hasOwnProperty(dt)&&Cm(r,i,dt,void 0,u,K);for(Z in u)K=u[Z],W=o[Z],!u.hasOwnProperty(Z)||K===W||K===void 0&&W===void 0||Cm(r,i,Z,K,u,W);return}}for(var q in o)K=o[q],o.hasOwnProperty(q)&&K!=null&&!u.hasOwnProperty(q)&&We(r,i,q,null,u,K);for(ie in u)K=u[ie],W=o[ie],!u.hasOwnProperty(ie)||K===W||K==null&&W==null||We(r,i,ie,K,u,W)}var Im=null,Dm=null;function th(r){return r.nodeType===9?r:r.ownerDocument}function W0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Om(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jm=null;function wA(){var r=window.event;return r&&r.type==="popstate"?r===jm?!1:(jm=r,!0):(jm=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(r){return e_.resolve(null).then(r).catch(SA)}:J0;function SA(r){setTimeout(function(){throw r})}function km(r,i){var o=i,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){r.removeChild(d),Wl(i);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Wl(i)}function Mm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mm(o),Ii(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function AA(r,i,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Os])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=ir(r.nextSibling),r===null)break}return null}function RA(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ir(r.nextSibling),r===null))return null;return r}function ir(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}function t_(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function n_(r,i,o){switch(i=th(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}var Xn=new Map,r_=new Set;function nh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var fs=he.d;he.d={f:NA,r:CA,D:IA,C:DA,L:OA,m:jA,X:MA,S:kA,M:PA};function NA(){var r=fs.f(),i=Qc();return r||i}function CA(r){var i=$r(r);i!==null&&i.tag===5&&i.type==="form"?Iv(i):fs.r(r)}var po=typeof document>"u"?null:document;function s_(r,i,o){var u=po;if(u&&typeof i=="string"&&i){var d=ut(i);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),r_.has(d)||(r_.add(d),r={rel:r,crossOrigin:o,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),$t(i,"link",r),rt(i),u.head.appendChild(i)))}}function IA(r){fs.D(r),s_("dns-prefetch",r,null)}function DA(r,i){fs.C(r,i),s_("preconnect",r,i)}function OA(r,i,o){fs.L(r,i,o);var u=po;if(u&&r&&i){var d='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+ut(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+ut(o.imageSizes)+'"]')):d+='[href="'+ut(r)+'"]';var p=d;switch(i){case"style":p=go(r);break;case"script":p=yo(r)}Xn.has(p)||(r=O({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Xn.set(p,r),u.querySelector(d)!==null||i==="style"&&u.querySelector(Hl(p))||i==="script"&&u.querySelector($l(p))||(i=u.createElement("link"),$t(i,"link",r),rt(i),u.head.appendChild(i)))}}function jA(r,i){fs.m(r,i);var o=po;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+ut(u)+'"][href="'+ut(r)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=yo(r)}if(!Xn.has(p)&&(r=O({rel:"modulepreload",href:r},i),Xn.set(p,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($l(p)))return}u=o.createElement("link"),$t(u,"link",r),rt(u),o.head.appendChild(u)}}}function kA(r,i,o){fs.S(r,i,o);var u=po;if(u&&r){var d=ks(u).hoistableStyles,p=go(r);i=i||"default";var E=d.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Hl(p)))S.loading=5;else{r=O({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Xn.get(p))&&Pm(r,o);var j=E=u.createElement("link");rt(j),$t(j,"link",r),j._p=new Promise(function(z,Z){j.onload=z,j.onerror=Z}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rh(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(p,E)}}}function MA(r,i){fs.X(r,i);var o=po;if(o&&r){var u=ks(o).hoistableScripts,d=yo(r),p=u.get(d);p||(p=o.querySelector($l(d)),p||(r=O({src:r,async:!0},i),(i=Xn.get(d))&&Vm(r,i),p=o.createElement("script"),rt(p),$t(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function PA(r,i){fs.M(r,i);var o=po;if(o&&r){var u=ks(o).hoistableScripts,d=yo(r),p=u.get(d);p||(p=o.querySelector($l(d)),p||(r=O({src:r,async:!0,type:"module"},i),(i=Xn.get(d))&&Vm(r,i),p=o.createElement("script"),rt(p),$t(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function i_(r,i,o,u){var d=(d=kn.current)?nh(d):null;if(!d)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=go(o.href),o=ks(d).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=go(o.href);var p=ks(d).hoistableStyles,E=p.get(r);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=d.querySelector(Hl(r)))&&!p._p&&(E.instance=p,E.state.loading=5),Xn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(r,o),p||VA(d,r,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(o),o=ks(d).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function go(r){return'href="'+ut(r)+'"'}function Hl(r){return'link[rel="stylesheet"]['+r+"]"}function a_(r){return O({},r,{"data-precedence":r.precedence,precedence:null})}function VA(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),$t(i,"link",o),rt(i),r.head.appendChild(i))}function yo(r){return'[src="'+ut(r)+'"]'}function $l(r){return"script[async]"+r}function o_(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+ut(o.href)+'"]');if(u)return i.instance=u,rt(u),u;var d=O({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),rt(u),$t(u,"style",d),rh(u,o.precedence,r),i.instance=u;case"stylesheet":d=go(o.href);var p=r.querySelector(Hl(d));if(p)return i.state.loading|=4,i.instance=p,rt(p),p;u=a_(o),(d=Xn.get(d))&&Pm(u,d),p=(r.ownerDocument||r).createElement("link"),rt(p);var E=p;return E._p=new Promise(function(S,j){E.onload=S,E.onerror=j}),$t(p,"link",u),i.state.loading|=4,rh(p,o.precedence,r),i.instance=p;case"script":return p=yo(o.src),(d=r.querySelector($l(p)))?(i.instance=d,rt(d),d):(u=o,(d=Xn.get(p))&&(u=O({},o),Vm(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),rt(d),$t(d,"link",u),r.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(u=i.instance,i.state.loading|=4,rh(u,o.precedence,r));return i.instance}function rh(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===i)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Pm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Vm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var sh=null;function l_(r,i,o){if(sh===null){var u=new Map,d=sh=new Map;d.set(o,u)}else d=sh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var p=o[d];if(!(p[Os]||p[jt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function u_(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function LA(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c_(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Gl=null;function UA(){}function zA(r,i,o){if(Gl===null)throw Error(s(475));var u=Gl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var d=go(o.href),p=r.querySelector(Hl(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=ih.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=p,rt(p);return}p=r.ownerDocument||r,o=a_(o),(d=Xn.get(d))&&Pm(o,d),p=p.createElement("link"),rt(p);var E=p;E._p=new Promise(function(S,j){E.onload=S,E.onerror=j}),$t(p,"link",o),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&!(i.state.loading&3)&&(u.count++,i=ih.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function BA(){if(Gl===null)throw Error(s(475));var r=Gl;return r.stylesheets&&r.count===0&&Lm(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Lm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ah=null;function Lm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ah=new Map,i.forEach(FA,r),ah=null,ih.call(r))}function FA(r,i){if(!(i.state.loading&4)){var o=ah.get(r);if(o)var u=o.get(null);else{o=new Map,ah.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var E=d[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=i.instance,E=d.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,d),o.set(E,d),this.count++,u=ih.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),i.state.loading|=4}}var Kl={$$typeof:C,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function qA(r,i,o,u,d,p,E,S){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function h_(r,i,o,u,d,p,E,S,j,z,Z,ie){return r=new qA(r,i,o,E,S,j,z,ie),i=1,p===!0&&(i|=24),p=Qn(3,null,null,i),r.current=p,p.stateNode=r,i=gf(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},Xf(p),r}function d_(r){return r?(r=Qa,r):Qa}function f_(r,i,o,u,d,p){d=d_(d),u.context===null?u.context=d:u.pendingContext=d,u=Ks(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Qs(r,u,i),o!==null&&(hn(o,r,i),Il(o,r,i))}function m_(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Um(r,i){m_(r,i),(r=r.alternate)&&m_(r,i)}function p_(r){if(r.tag===13){var i=zs(r,67108864);i!==null&&hn(i,r,67108864),Um(r,67108864)}}var oh=!0;function HA(r,i,o,u){var d=A.T;A.T=null;var p=he.p;try{he.p=2,zm(r,i,o,u)}finally{he.p=p,A.T=d}}function $A(r,i,o,u){var d=A.T;A.T=null;var p=he.p;try{he.p=8,zm(r,i,o,u)}finally{he.p=p,A.T=d}}function zm(r,i,o,u){if(oh){var d=Bm(u);if(d===null)Nm(r,i,u,lh,o),y_(r,u);else if(KA(d,r,i,o,u))u.stopPropagation();else if(y_(r,u),i&4&&-1<GA.indexOf(r)){for(;d!==null;){var p=$r(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=er(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var j=1<<31-on(E);S.entanglements[1]|=j,E&=~j}Ir(p),!(it&6)&&($c=mn()+500,Bl(0))}}break;case 13:S=zs(p,2),S!==null&&hn(S,p,2),Qc(),Um(p,2)}if(p=Bm(u),p===null&&Nm(r,i,u,lh,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Nm(r,i,u,null,o)}}function Bm(r){return r=Pa(r),Fm(r)}var lh=null;function Fm(r){if(lh=null,r=tr(r),r!==null){var i=ve(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=Ke(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return lh=r,null}function g_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ku()){case xt:return 2;case Ot:return 8;case qr:case Qu:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var qm=!1,ti=null,ni=null,ri=null,Ql=new Map,Yl=new Map,si=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(r,i){switch(r){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Xl(r,i,o,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},i!==null&&(i=$r(i),i!==null&&p_(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function KA(r,i,o,u,d){switch(i){case"focusin":return ti=Xl(ti,r,i,o,u,d),!0;case"dragenter":return ni=Xl(ni,r,i,o,u,d),!0;case"mouseover":return ri=Xl(ri,r,i,o,u,d),!0;case"pointerover":var p=d.pointerId;return Ql.set(p,Xl(Ql.get(p)||null,r,i,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Yl.set(p,Xl(Yl.get(p)||null,r,i,o,u,d)),!0}return!1}function v_(r){var i=tr(r.target);if(i!==null){var o=ve(i);if(o!==null){if(i=o.tag,i===13){if(i=Ke(o),i!==null){r.blockedOn=i,Ds(r.priority,function(){if(o.tag===13){var u=Nn(),d=zs(o,u);d!==null&&hn(d,o,u),Um(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function uh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Bm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ln=u,o.target.dispatchEvent(u),Ln=null}else return i=$r(o),i!==null&&p_(i),r.blockedOn=o,!1;i.shift()}return!0}function __(r,i,o){uh(r)&&o.delete(i)}function QA(){qm=!1,ti!==null&&uh(ti)&&(ti=null),ni!==null&&uh(ni)&&(ni=null),ri!==null&&uh(ri)&&(ri=null),Ql.forEach(__),Yl.forEach(__)}function ch(r,i){r.blockedOn===i&&(r.blockedOn=null,qm||(qm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QA)))}var hh=null;function b_(r){hh!==r&&(hh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hh===r&&(hh=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],d=r[i+2];if(typeof u!="function"){if(Fm(u||o)===null)continue;break}var p=$r(o);p!==null&&(r.splice(i,3),i-=3,Of(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Wl(r){function i(j){return ch(j,r)}ti!==null&&ch(ti,r),ni!==null&&ch(ni,r),ri!==null&&ch(ri,r),Ql.forEach(i),Yl.forEach(i);for(var o=0;o<si.length;o++){var u=si[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<si.length&&(o=si[0],o.blockedOn===null);)v_(o),o.blockedOn===null&&si.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],E=d[St]||null;if(typeof p=="function")E||b_(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,E=p[St]||null)S=E.formAction;else if(Fm(d)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),b_(o)}}}function Hm(r){this._internalRoot=r}dh.prototype.render=Hm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Nn();f_(o,u,r,i,null,null)},dh.prototype.unmount=Hm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;r.tag===0&&ho(),f_(r.current,2,null,r,null,null),Qc(),i[Hr]=null}};function dh(r){this._internalRoot=r}dh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ju();r={blockedOn:null,target:r,priority:i};for(var o=0;o<si.length&&i!==0&&i<si[o].priority;o++);si.splice(o,0,r),o===0&&v_(r)}};var E_=e.version;if(E_!=="19.0.0")throw Error(s(527,E_,"19.0.0"));he.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=ae(i),r=r!==null?pe(r):null,r=r===null?null:r.stateNode,r};var YA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:tr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Ss=fh.inject(YA),Wt=fh}catch{}}return Jl.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,u="",d=Lv,p=Uv,E=zv,S=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=h_(r,1,!1,null,null,o,u,d,p,E,S,null),r[Hr]=i.current,Rm(r.nodeType===8?r.parentNode:r),new Hm(i)},Jl.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var u=!1,d="",p=Lv,E=Uv,S=zv,j=null,z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(z=o.formState)),i=h_(r,1,!0,i,o??null,u,d,p,E,S,j,z),i.context=d_(null),o=i.current,u=Nn(),d=Ks(u),d.callback=null,Qs(o,d,u),i.current.lanes=u,ft(i,u),Ir(i),r[Hr]=i.current,Rm(r),new dh(i)},Jl.version="19.0.0",Jl}var D_;function aR(){if(D_)return Km.exports;D_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Km.exports=iR(),Km.exports}var oR=aR();const lR=BE(oR);var eu={},O_;function uR(){if(O_)return eu;O_=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.parse=c,eu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,C){const N=new l,V=T.length;if(V<2)return N;const I=(C==null?void 0:C.decode)||_;let B=0;do{const $=T.indexOf("=",B);if($===-1)break;const Q=T.indexOf(";",B),ee=Q===-1?V:Q;if($>ee){B=T.lastIndexOf(";",$-1)+1;continue}const re=f(T,B,$),te=m(T,$,re),D=T.slice(re,te);if(N[D]===void 0){let x=f(T,$+1,ee),A=m(T,ee,x);const O=I(T.slice(x,A));N[D]=O}B=ee+1}while(B<V);return N}function f(T,C,N){do{const V=T.charCodeAt(C);if(V!==32&&V!==9)return C}while(++C<N);return N}function m(T,C,N){for(;C>N;){const V=T.charCodeAt(--C);if(V!==32&&V!==9)return C+1}return N}function g(T,C,N){const V=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const I=V(C);if(!e.test(I))throw new TypeError(`argument val is invalid: ${C}`);let B=T+"="+I;if(!N)return B;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);B+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);B+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);B+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);B+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(B+="; HttpOnly"),N.secure&&(B+="; Secure"),N.partitioned&&(B+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return B}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return a.call(T)==="[object Date]"}return eu}uR();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j_="popstate";function cR(n={}){function e(a,l){let{pathname:c="/",search:f="",hash:m=""}=_a(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),wp("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");f=g===-1?m:m.slice(0,g)}return f+"#"+(typeof l=="string"?l:vu(l))}function s(a,l){jn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return dR(e,t,s,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hR(){return Math.random().toString(36).substring(2,10)}function k_(n,e){return{usr:n.state,key:n.key,idx:e}}function wp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:t,key:e&&e.key||s||hR()}}function vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _a(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function dR(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function w(){f="POP";let I=_(),B=I==null?null:I-g;g=I,m&&m({action:f,location:V.location,delta:B})}function T(I,B){f="PUSH";let $=wp(V.location,I,B);t&&t($,I),g=_()+1;let Q=k_($,g),ee=V.createHref($);try{c.pushState(Q,"",ee)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(ee)}l&&m&&m({action:f,location:V.location,delta:1})}function C(I,B){f="REPLACE";let $=wp(V.location,I,B);t&&t($,I),g=_();let Q=k_($,g),ee=V.createHref($);c.replaceState(Q,"",ee),l&&m&&m({action:f,location:V.location,delta:0})}function N(I){let B=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof I=="string"?I:vu(I);return $=$.replace(/ $/,"%20"),nt(B,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,B)}let V={get action(){return f},get location(){return n(a,c)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(j_,w),m=I,()=>{a.removeEventListener(j_,w),m=null}},createHref(I){return e(a,I)},createURL:N,encodeLocation(I){let B=N(I);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:C,go(I){return c.go(I)}};return V}function FE(n,e,t="/"){return fR(n,e,t,!1)}function fR(n,e,t,s){let a=typeof e=="string"?_a(e):e,l=gi(a.pathname||"/",t);if(l==null)return null;let c=qE(n);mR(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=SR(l);f=TR(c[m],g,s)}return f}function qE(n,e=[],t=[],s=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(nt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ys([s,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qE(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:ER(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of HE(l.path))a(l,c,m)}),e}function HE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=HE(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function mR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pR=/^:[\w-]+$/,gR=3,yR=2,vR=1,_R=10,bR=-2,M_=n=>n==="*";function ER(n,e){let t=n.split("/"),s=t.length;return t.some(M_)&&(s+=bR),e&&(s+=yR),t.filter(a=>!M_(a)).reduce((a,l)=>a+(pR.test(l)?gR:l===""?vR:_R),s)}function wR(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function TR(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],g=f===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),T=m.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:ys([l,w.pathname]),pathnameBase:CR(ys([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=ys([l,w.pathnameBase]))}return c}function Vh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=xR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},T)=>{if(_==="*"){let N=f[T]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const C=f[T];return w&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function xR(n,e=!1,t=!0){jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function SR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function AR(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?_a(n):n;return{pathname:t?t.startsWith("/")?t:RR(t,e):e,search:IR(s),hash:DR(a)}}function RR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wm(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ig(n){let e=NR(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ag(n,e,t,s=!1){let a;typeof n=="string"?a=_a(n):(a={...n},nt(!a.pathname||!a.pathname.includes("?"),Wm("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),Wm("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),Wm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let w=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),w-=1;a.pathname=T.join("/")}f=w>=0?e[w]:"/"}let m=AR(a,f),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ys=n=>n.join("/").replace(/\/\/+/g,"/"),CR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function OR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var jR=["GET",...$E];new Set(jR);var Po=k.createContext(null);Po.displayName="DataRouter";var hd=k.createContext(null);hd.displayName="DataRouterState";var GE=k.createContext({isTransitioning:!1});GE.displayName="ViewTransition";var kR=k.createContext(new Map);kR.displayName="Fetchers";var MR=k.createContext(null);MR.displayName="Await";var cr=k.createContext(null);cr.displayName="Navigation";var Nu=k.createContext(null);Nu.displayName="Location";var hr=k.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var og=k.createContext(null);og.displayName="RouteError";function PR(n,{relative:e}={}){nt(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=k.useContext(cr),{hash:a,pathname:l,search:c}=Cu(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ys([t,l])),s.createHref({pathname:f,search:c,hash:a})}function Vo(){return k.useContext(Nu)!=null}function zr(){return nt(Vo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Nu).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(n){k.useContext(cr).static||k.useLayoutEffect(n)}function sn(){let{isDataRoute:n}=k.useContext(hr);return n?XR():VR()}function VR(){nt(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(Po),{basename:e,navigator:t}=k.useContext(cr),{matches:s}=k.useContext(hr),{pathname:a}=zr(),l=JSON.stringify(ig(s)),c=k.useRef(!1);return QE(()=>{c.current=!0}),k.useCallback((m,g={})=>{if(jn(c.current,KE),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=ag(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ys([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}k.createContext(null);function LR(){let{matches:n}=k.useContext(hr),e=n[n.length-1];return e?e.params:{}}function Cu(n,{relative:e}={}){let{matches:t}=k.useContext(hr),{pathname:s}=zr(),a=JSON.stringify(ig(t));return k.useMemo(()=>ag(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function UR(n,e){return YE(n,e)}function YE(n,e,t,s){var $;nt(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=k.useContext(cr),{matches:c}=k.useContext(hr),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",w=f&&f.route;{let Q=w&&w.path||"";XE(g,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let T=zr(),C;if(e){let Q=typeof e=="string"?_a(e):e;nt(_==="/"||(($=Q.pathname)==null?void 0:$.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),C=Q}else C=T;let N=C.pathname||"/",V=N;if(_!=="/"){let Q=_.replace(/^\//,"").split("/");V="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let I=!l&&t&&t.matches&&t.matches.length>0?t.matches:FE(n,{pathname:V});jn(w||I!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),jn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=HR(I&&I.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:ys([_,a.encodeLocation?a.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?_:ys([_,a.encodeLocation?a.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,t,s);return e&&B?k.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},B):B}function zR(){let n=YR(),e=OR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:a},t):null,c)}var BR=k.createElement(zR,null),FR=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?k.createElement(hr.Provider,{value:this.props.routeContext},k.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qR({routeContext:n,match:e,children:t}){let s=k.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(hr.Provider,{value:n},t)}function HR(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:_,errors:w}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,g,_)=>{let w,T=!1,C=null,N=null;t&&(w=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||BR,c&&(f<0&&_===0?(XE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):f===_&&(T=!0,N=g.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,_+1)),I=()=>{let B;return w?B=C:T?B=N:g.route.Component?B=k.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=m,k.createElement(qR,{match:g,routeContext:{outlet:m,matches:V,isDataRoute:t!=null},children:B})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?k.createElement(FR,{location:t.location,revalidation:t.revalidation,component:C,error:w,children:I(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):I()},null)}function lg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $R(n){let e=k.useContext(Po);return nt(e,lg(n)),e}function GR(n){let e=k.useContext(hd);return nt(e,lg(n)),e}function KR(n){let e=k.useContext(hr);return nt(e,lg(n)),e}function ug(n){let e=KR(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QR(){return ug("useRouteId")}function YR(){var s;let n=k.useContext(og),e=GR("useRouteError"),t=ug("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function XR(){let{router:n}=$R("useNavigate"),e=ug("useNavigate"),t=k.useRef(!1);return QE(()=>{t.current=!0}),k.useCallback(async(a,l={})=>{jn(t.current,KE),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var P_={};function XE(n,e,t){!e&&!P_[n]&&(P_[n]=!0,jn(!1,t))}k.memo(WR);function WR({routes:n,future:e,state:t}){return YE(n,void 0,t,e)}function ZR({to:n,replace:e,state:t,relative:s}){nt(Vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(cr);jn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(hr),{pathname:c}=zr(),f=sn(),m=ag(n,ig(l),c,s==="path"),g=JSON.stringify(m);return k.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:s})},[f,g,s,e,t]),null}function Wn(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JR({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){nt(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=_a(t));let{pathname:m="/",search:g="",hash:_="",state:w=null,key:T="default"}=t,C=k.useMemo(()=>{let N=gi(m,c);return N==null?null:{location:{pathname:N,search:g,hash:_,state:w,key:T},navigationType:s}},[c,m,g,_,w,T,s]);return jn(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:k.createElement(cr.Provider,{value:f},k.createElement(Nu.Provider,{children:e,value:C}))}function e1({children:n,location:e}){return UR(Tp(n),e)}function Tp(n,e=[]){let t=[];return k.Children.forEach(n,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){t.push.apply(t,Tp(s.props.children,l));return}nt(s.type===Wn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Tp(s.props.children,l)),t.push(c)}),t}var wh="get",Th="application/x-www-form-urlencoded";function dd(n){return n!=null&&typeof n.tagName=="string"}function t1(n){return dd(n)&&n.tagName.toLowerCase()==="button"}function n1(n){return dd(n)&&n.tagName.toLowerCase()==="form"}function r1(n){return dd(n)&&n.tagName.toLowerCase()==="input"}function s1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function i1(n,e){return n.button===0&&(!e||e==="_self")&&!s1(n)}function xp(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(a=>[t,a]):[[t,s]])},[]))}function a1(n,e){let t=xp(n);return e&&e.forEach((s,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var mh=null;function o1(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var l1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zm(n){return n!=null&&!l1.has(n)?(jn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):n}function u1(n,e){let t,s,a,l,c;if(n1(n)){let f=n.getAttribute("action");s=f?gi(f,e):null,t=n.getAttribute("method")||wh,a=Zm(n.getAttribute("enctype"))||Th,l=new FormData(n)}else if(t1(n)||r1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(s=m?gi(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||wh,a=Zm(n.getAttribute("formenctype"))||Zm(f.getAttribute("enctype"))||Th,l=new FormData(f,n),!o1()){let{name:g,type:_,value:w}=n;if(_==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,w)}}else{if(dd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,s=null,a=Th,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function cg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function c1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function d1(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await c1(l,t);return c.links?c.links():[]}return[]}));return g1(s.flat(1).filter(h1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function V_(n,e,t,s,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,f=(m,g)=>{var _;return t[g].pathname!==m.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{var w;let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function f1(n,e){return m1(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function m1(n){return[...new Set(n)]}function p1(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function g1(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(p1(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function y1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function v1(){let n=k.useContext(Po);return cg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _1(){let n=k.useContext(hd);return cg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hg=k.createContext(void 0);hg.displayName="FrameworkContext";function WE(){let n=k.useContext(hg);return cg(n,"You must render this element inside a <HydratedRouter> element"),n}function b1(n,e){let t=k.useContext(hg),[s,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,T=k.useRef(null);k.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let V=B=>{B.forEach($=>{c($.isIntersecting)})},I=new IntersectionObserver(V,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[n]),k.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let C=()=>{a(!0)},N=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:tu(f,C),onBlur:tu(m,N),onMouseEnter:tu(g,C),onMouseLeave:tu(_,N),onTouchStart:tu(w,C)}]:[!1,T,{}]}function tu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function E1({page:n,...e}){let{router:t}=v1(),s=k.useMemo(()=>FE(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?k.createElement(T1,{page:n,matches:s,...e}):null}function w1(n){let{manifest:e,routeModules:t}=WE(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return d1(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),s}function T1({page:n,matches:e,...t}){let s=zr(),{manifest:a,routeModules:l}=WE(),{loaderData:c,matches:f}=_1(),m=k.useMemo(()=>V_(n,e,f,a,s,"data"),[n,e,f,a,s]),g=k.useMemo(()=>V_(n,e,f,a,s,"assets"),[n,e,f,a,s]),_=k.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let C=new Set,N=!1;if(e.forEach(I=>{var $;let B=a.routes[I.route.id];!B||!B.hasLoader||(!m.some(Q=>Q.route.id===I.route.id)&&I.route.id in c&&(($=l[I.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?N=!0:C.add(I.route.id))}),C.size===0)return[];let V=y1(n);return N&&C.size>0&&V.searchParams.set("_routes",e.filter(I=>C.has(I.route.id)).map(I=>I.route.id).join(",")),[V.pathname+V.search]},[c,s,a,m,e,n,l]),w=k.useMemo(()=>f1(g,a),[g,a]),T=w1(g);return k.createElement(k.Fragment,null,_.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:N})=>k.createElement("link",{key:C,...N})))}function x1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.1.5")}catch{}function S1({basename:n,children:e,window:t}){let s=k.useRef();s.current==null&&(s.current=cR({window:t,v5Compat:!0}));let a=s.current,[l,c]=k.useState({action:a.action,location:a.location}),f=k.useCallback(m=>{k.startTransition(()=>c(m))},[c]);return k.useLayoutEffect(()=>a.listen(f),[a,f]),k.createElement(JR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=k.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:_,viewTransition:w,...T},C){let{basename:N}=k.useContext(cr),V=typeof g=="string"&&JE.test(g),I,B=!1;if(typeof g=="string"&&V&&(I=g,ZE))try{let A=new URL(window.location.href),O=g.startsWith("//")?new URL(A.protocol+g):new URL(g),P=gi(O.pathname,N);O.origin===A.origin&&P!=null?g=P+O.search+O.hash:B=!0}catch{jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=PR(g,{relative:a}),[Q,ee,re]=b1(s,T),te=C1(g,{replace:c,state:f,target:m,preventScrollReset:_,relative:a,viewTransition:w});function D(A){e&&e(A),A.defaultPrevented||te(A)}let x=k.createElement("a",{...T,...re,href:I||$,onClick:B||l?e:D,ref:x1(C,ee),target:m,"data-discover":!V&&t==="render"?"true":void 0});return Q&&!V?k.createElement(k.Fragment,null,x,k.createElement(E1,{page:$})):x});Ut.displayName="Link";var A1=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},_){let w=Cu(c,{relative:g.relative}),T=zr(),C=k.useContext(hd),{navigator:N,basename:V}=k.useContext(cr),I=C!=null&&k1(w)&&f===!0,B=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,$=T.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||($=$.toLowerCase(),Q=Q?Q.toLowerCase():null,B=B.toLowerCase()),Q&&V&&(Q=gi(Q,V)||Q);const ee=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=$===B||!a&&$.startsWith(B)&&$.charAt(ee)==="/",te=Q!=null&&(Q===B||!a&&Q.startsWith(B)&&Q.charAt(B.length)==="/"),D={isActive:re,isPending:te,isTransitioning:I},x=re?e:void 0,A;typeof s=="function"?A=s(D):A=[s,re?"active":null,te?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(D):l;return k.createElement(Ut,{...g,"aria-current":x,className:A,ref:_,style:O,to:c,viewTransition:f},typeof m=="function"?m(D):m)});A1.displayName="NavLink";var R1=k.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=wh,action:f,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:w,...T},C)=>{let N=O1(),V=j1(f,{relative:g}),I=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&JE.test(f),$=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,re=(ee==null?void 0:ee.getAttribute("formmethod"))||c;N(ee||Q.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:w})};return k.createElement("form",{ref:C,method:I,action:V,onSubmit:s?m:$,...T,"data-discover":!B&&n==="render"?"true":void 0})});R1.displayName="Form";function N1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ew(n){let e=k.useContext(Po);return nt(e,N1(n)),e}function C1(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=sn(),m=zr(),g=Cu(n,{relative:l});return k.useCallback(_=>{if(i1(_,e)){_.preventDefault();let w=t!==void 0?t:vu(m)===vu(g);f(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,g,t,s,e,n,a,l,c])}function dg(n){jn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(xp(n)),t=k.useRef(!1),s=zr(),a=k.useMemo(()=>a1(s.search,t.current?null:e.current),[s.search]),l=sn(),c=k.useCallback((f,m)=>{const g=xp(typeof f=="function"?f(a):f);t.current=!0,l("?"+g,m)},[l,a]);return[a,c]}var I1=0,D1=()=>`__${String(++I1)}__`;function O1(){let{router:n}=ew("useSubmit"),{basename:e}=k.useContext(cr),t=QR();return k.useCallback(async(s,a={})=>{let{action:l,method:c,encType:f,formData:m,body:g}=u1(s,e);if(a.navigate===!1){let _=a.fetcherKey||D1();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function j1(n,{relative:e}={}){let{basename:t}=k.useContext(cr),s=k.useContext(hr);nt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Cu(n||".",{relative:e})},c=zr();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(w=>w).forEach(w=>f.append("index",w));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ys([t,l.pathname])),vu(l)}function k1(n,e={}){let t=k.useContext(GE);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ew("useViewTransitionState"),a=Cu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=gi(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=gi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(a.pathname,c)!=null||Vh(a.pathname,l)!=null}new TextEncoder;function tw(n,e){return function(){return n.apply(e,arguments)}}const{toString:M1}=Object.prototype,{getPrototypeOf:fg}=Object,fd=(n=>e=>{const t=M1.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),dr=n=>(n=n.toLowerCase(),e=>fd(e)===n),md=n=>e=>typeof e===n,{isArray:Lo}=Array,_u=md("undefined");function P1(n){return n!==null&&!_u(n)&&n.constructor!==null&&!_u(n.constructor)&&In(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const nw=dr("ArrayBuffer");function V1(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&nw(n.buffer),e}const L1=md("string"),In=md("function"),rw=md("number"),pd=n=>n!==null&&typeof n=="object",U1=n=>n===!0||n===!1,xh=n=>{if(fd(n)!=="object")return!1;const e=fg(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},z1=dr("Date"),B1=dr("File"),F1=dr("Blob"),q1=dr("FileList"),H1=n=>pd(n)&&In(n.pipe),$1=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||In(n.append)&&((e=fd(n))==="formdata"||e==="object"&&In(n.toString)&&n.toString()==="[object FormData]"))},G1=dr("URLSearchParams"),[K1,Q1,Y1,X1]=["ReadableStream","Request","Response","Headers"].map(dr),W1=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Iu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,a;if(typeof n!="object"&&(n=[n]),Lo(n))for(s=0,a=n.length;s<a;s++)e.call(null,n[s],s,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let f;for(s=0;s<c;s++)f=l[s],e.call(null,n[f],f,n)}}function sw(n,e){e=e.toLowerCase();const t=Object.keys(n);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iw=n=>!_u(n)&&n!==aa;function Sp(){const{caseless:n}=iw(this)&&this||{},e={},t=(s,a)=>{const l=n&&sw(e,a)||a;xh(e[l])&&xh(s)?e[l]=Sp(e[l],s):xh(s)?e[l]=Sp({},s):Lo(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Iu(arguments[s],t);return e}const Z1=(n,e,t,{allOwnKeys:s}={})=>(Iu(e,(a,l)=>{t&&In(a)?n[l]=tw(a,t):n[l]=a},{allOwnKeys:s}),n),J1=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),eN=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},tN=(n,e,t,s)=>{let a,l,c;const f={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)c=a[l],(!s||s(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&fg(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},nN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},rN=n=>{if(!n)return null;if(Lo(n))return n;let e=n.length;if(!rw(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},sN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&fg(Uint8Array)),iN=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},aN=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},oN=dr("HTMLFormElement"),lN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),L_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),uN=dr("RegExp"),aw=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};Iu(t,(a,l)=>{let c;(c=e(a,l,n))!==!1&&(s[l]=c||a)}),Object.defineProperties(n,s)},cN=n=>{aw(n,(e,t)=>{if(In(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(In(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},hN=(n,e)=>{const t={},s=a=>{a.forEach(l=>{t[l]=!0})};return Lo(n)?s(n):s(String(n).split(e)),t},dN=()=>{},fN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Jm="abcdefghijklmnopqrstuvwxyz",U_="0123456789",ow={DIGIT:U_,ALPHA:Jm,ALPHA_DIGIT:Jm+Jm.toUpperCase()+U_},mN=(n=16,e=ow.ALPHA_DIGIT)=>{let t="";const{length:s}=e;for(;n--;)t+=e[Math.random()*s|0];return t};function pN(n){return!!(n&&In(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const gN=n=>{const e=new Array(10),t=(s,a)=>{if(pd(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=Lo(s)?[]:{};return Iu(s,(c,f)=>{const m=t(c,a+1);!_u(m)&&(l[f]=m)}),e[a]=void 0,l}}return s};return t(n,0)},yN=dr("AsyncFunction"),vN=n=>n&&(pd(n)||In(n))&&In(n.then)&&In(n.catch),lw=((n,e)=>n?setImmediate:e?((t,s)=>(aa.addEventListener("message",({source:a,data:l})=>{a===aa&&l===t&&s.length&&s.shift()()},!1),a=>{s.push(a),aa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",In(aa.postMessage)),_N=typeof queueMicrotask<"u"?queueMicrotask.bind(aa):typeof process<"u"&&process.nextTick||lw,X={isArray:Lo,isArrayBuffer:nw,isBuffer:P1,isFormData:$1,isArrayBufferView:V1,isString:L1,isNumber:rw,isBoolean:U1,isObject:pd,isPlainObject:xh,isReadableStream:K1,isRequest:Q1,isResponse:Y1,isHeaders:X1,isUndefined:_u,isDate:z1,isFile:B1,isBlob:F1,isRegExp:uN,isFunction:In,isStream:H1,isURLSearchParams:G1,isTypedArray:sN,isFileList:q1,forEach:Iu,merge:Sp,extend:Z1,trim:W1,stripBOM:J1,inherits:eN,toFlatObject:tN,kindOf:fd,kindOfTest:dr,endsWith:nN,toArray:rN,forEachEntry:iN,matchAll:aN,isHTMLForm:oN,hasOwnProperty:L_,hasOwnProp:L_,reduceDescriptors:aw,freezeMethods:cN,toObjectSet:hN,toCamelCase:lN,noop:dN,toFiniteNumber:fN,findKey:sw,global:aa,isContextDefined:iw,ALPHABET:ow,generateString:mN,isSpecCompliantForm:pN,toJSONObject:gN,isAsyncFn:yN,isThenable:vN,setImmediate:lw,asap:_N};function Ae(n,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}X.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const uw=Ae.prototype,cw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{cw[n]={value:n}});Object.defineProperties(Ae,cw);Object.defineProperty(uw,"isAxiosError",{value:!0});Ae.from=(n,e,t,s,a,l)=>{const c=Object.create(uw);return X.toFlatObject(n,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),Ae.call(c,n.message,e,t,s,a),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const bN=null;function Ap(n){return X.isPlainObject(n)||X.isArray(n)}function hw(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function z_(n,e,t){return n?n.concat(e).map(function(a,l){return a=hw(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function EN(n){return X.isArray(n)&&!n.some(Ap)}const wN=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function gd(n,e,t){if(!X.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,I){return!X.isUndefined(I[V])});const s=t.metaTokens,a=t.visitor||_,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(a))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(X.isDate(N))return N.toISOString();if(!m&&X.isBlob(N))throw new Ae("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(N)||X.isTypedArray(N)?m&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function _(N,V,I){let B=N;if(N&&!I&&typeof N=="object"){if(X.endsWith(V,"{}"))V=s?V:V.slice(0,-2),N=JSON.stringify(N);else if(X.isArray(N)&&EN(N)||(X.isFileList(N)||X.endsWith(V,"[]"))&&(B=X.toArray(N)))return V=hw(V),B.forEach(function(Q,ee){!(X.isUndefined(Q)||Q===null)&&e.append(c===!0?z_([V],ee,l):c===null?V:V+"[]",g(Q))}),!1}return Ap(N)?!0:(e.append(z_(I,V,l),g(N)),!1)}const w=[],T=Object.assign(wN,{defaultVisitor:_,convertValue:g,isVisitable:Ap});function C(N,V){if(!X.isUndefined(N)){if(w.indexOf(N)!==-1)throw Error("Circular reference detected in "+V.join("."));w.push(N),X.forEach(N,function(B,$){(!(X.isUndefined(B)||B===null)&&a.call(e,B,X.isString($)?$.trim():$,V,T))===!0&&C(B,V?V.concat($):[$])}),w.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return C(n),e}function B_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function mg(n,e){this._pairs=[],n&&gd(n,this,e)}const dw=mg.prototype;dw.append=function(e,t){this._pairs.push([e,t])};dw.toString=function(e){const t=e?function(s){return e.call(this,s,B_)}:B_;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function TN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fw(n,e,t){if(!e)return n;const s=t&&t.encode||TN;X.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=X.isURLSearchParams(e)?e.toString():new mg(e,t).toString(s),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class F_{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(s){s!==null&&e(s)})}}const mw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xN=typeof URLSearchParams<"u"?URLSearchParams:mg,SN=typeof FormData<"u"?FormData:null,AN=typeof Blob<"u"?Blob:null,RN={isBrowser:!0,classes:{URLSearchParams:xN,FormData:SN,Blob:AN},protocols:["http","https","file","blob","url","data"]},pg=typeof window<"u"&&typeof document<"u",Rp=typeof navigator=="object"&&navigator||void 0,NN=pg&&(!Rp||["ReactNative","NativeScript","NS"].indexOf(Rp.product)<0),CN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IN=pg&&window.location.href||"http://localhost",DN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pg,hasStandardBrowserEnv:NN,hasStandardBrowserWebWorkerEnv:CN,navigator:Rp,origin:IN},Symbol.toStringTag,{value:"Module"})),nn={...DN,...RN};function ON(n,e){return gd(n,new nn.classes.URLSearchParams,Object.assign({visitor:function(t,s,a,l){return nn.isNode&&X.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function jN(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kN(n){const e={},t=Object.keys(n);let s;const a=t.length;let l;for(s=0;s<a;s++)l=t[s],e[l]=n[l];return e}function pw(n){function e(t,s,a,l){let c=t[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),m=l>=t.length;return c=!c&&X.isArray(a)?a.length:c,m?(X.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!f):((!a[c]||!X.isObject(a[c]))&&(a[c]=[]),e(t,s,a[c],l)&&X.isArray(a[c])&&(a[c]=kN(a[c])),!f)}if(X.isFormData(n)&&X.isFunction(n.entries)){const t={};return X.forEachEntry(n,(s,a)=>{e(jN(s),a,t,0)}),t}return null}function MN(n,e,t){if(X.isString(n))try{return(e||JSON.parse)(n),X.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const Du={transitional:mw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,l=X.isObject(e);if(l&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return a?JSON.stringify(pw(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ON(e,this.formSerializer).toString();if((f=X.isFileList(e))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return gd(f?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),MN(e)):e}],transformResponse:[function(e){const t=this.transitional||Du.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(s&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?Ae.from(f,Ae.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],n=>{Du.headers[n]={}});const PN=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VN=n=>{const e={};let t,s,a;return n&&n.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!t||e[t]&&PN[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},q_=Symbol("internals");function nu(n){return n&&String(n).trim().toLowerCase()}function Sh(n){return n===!1||n==null?n:X.isArray(n)?n.map(Sh):String(n)}function LN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const UN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ep(n,e,t,s,a){if(X.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!X.isString(e)){if(X.isString(s))return e.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(e)}}function zN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function BN(n,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(a,l,c){return this[s].call(this,e,a,l,c)},configurable:!0})})}let _n=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function l(f,m,g){const _=nu(m);if(!_)throw new Error("header name must be a non-empty string");const w=X.findKey(a,_);(!w||a[w]===void 0||g===!0||g===void 0&&a[w]!==!1)&&(a[w||m]=Sh(f))}const c=(f,m)=>X.forEach(f,(g,_)=>l(g,_,m));if(X.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(X.isString(e)&&(e=e.trim())&&!UN(e))c(VN(e),t);else if(X.isHeaders(e))for(const[f,m]of e.entries())l(m,f,s);else e!=null&&l(t,e,s);return this}get(e,t){if(e=nu(e),e){const s=X.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return LN(a);if(X.isFunction(t))return t.call(this,a,s);if(X.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nu(e),e){const s=X.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||ep(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function l(c){if(c=nu(c),c){const f=X.findKey(s,c);f&&(!t||ep(s,s[f],f,t))&&(delete s[f],a=!0)}}return X.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const l=t[s];(!e||ep(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,s={};return X.forEach(this,(a,l)=>{const c=X.findKey(s,l);if(c){t[c]=Sh(a),delete t[l];return}const f=e?zN(l):String(l).trim();f!==l&&delete t[l],t[f]=Sh(a),s[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&X.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[q_]=this[q_]={accessors:{}}).accessors,a=this.prototype;function l(c){const f=nu(c);s[f]||(BN(a,c),s[f]=!0)}return X.isArray(e)?e.forEach(l):l(e),this}};_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(_n.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});X.freezeMethods(_n);function tp(n,e){const t=this||Du,s=e||t,a=_n.from(s.headers);let l=s.data;return X.forEach(n,function(f){l=f.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function gw(n){return!!(n&&n.__CANCEL__)}function Uo(n,e,t){Ae.call(this,n??"canceled",Ae.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(Uo,Ae,{__CANCEL__:!0});function yw(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Ae("Request failed with status code "+t.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function FN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function qN(n,e){n=n||10;const t=new Array(n),s=new Array(n);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),_=s[l];c||(c=g),t[a]=m,s[a]=g;let w=l,T=0;for(;w!==a;)T+=t[w++],w=w%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),g-c<e)return;const C=_&&g-_;return C?Math.round(T*1e3/C):void 0}}function HN(n,e){let t=0,s=1e3/e,a,l;const c=(g,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),n.apply(null,g)};return[(...g)=>{const _=Date.now(),w=_-t;w>=s?c(g,_):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},s-w)))},()=>a&&c(a)]}const Lh=(n,e,t=3)=>{let s=0;const a=qN(50,250);return HN(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,m=c-s,g=a(m),_=c<=f;s=c;const w={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:g||void 0,estimated:g&&f&&_?(f-c)/g:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(w)},t)},H_=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},$_=n=>(...e)=>X.asap(()=>n(...e)),$N=nn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,nn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,GN=nn.hasStandardBrowserEnv?{write(n,e,t,s,a,l){const c=[n+"="+encodeURIComponent(e)];X.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),X.isString(s)&&c.push("path="+s),X.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KN(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function QN(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function vw(n,e){return n&&!KN(e)?QN(n,e):e}const G_=n=>n instanceof _n?{...n}:n;function ca(n,e){e=e||{};const t={};function s(g,_,w,T){return X.isPlainObject(g)&&X.isPlainObject(_)?X.merge.call({caseless:T},g,_):X.isPlainObject(_)?X.merge({},_):X.isArray(_)?_.slice():_}function a(g,_,w,T){if(X.isUndefined(_)){if(!X.isUndefined(g))return s(void 0,g,w,T)}else return s(g,_,w,T)}function l(g,_){if(!X.isUndefined(_))return s(void 0,_)}function c(g,_){if(X.isUndefined(_)){if(!X.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function f(g,_,w){if(w in e)return s(g,_);if(w in n)return s(void 0,g)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(g,_,w)=>a(G_(g),G_(_),w,!0)};return X.forEach(Object.keys(Object.assign({},n,e)),function(_){const w=m[_]||a,T=w(n[_],e[_],_);X.isUndefined(T)&&w!==f||(t[_]=T)}),t}const _w=n=>{const e=ca({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:f}=e;e.headers=c=_n.from(c),e.url=fw(vw(e.baseURL,e.url),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let m;if(X.isFormData(t)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[g,..._]=m?m.split(";").map(w=>w.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",..._].join("; "))}}if(nn.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(e)),s||s!==!1&&$N(e.url))){const g=a&&l&&GN.read(l);g&&c.set(a,g)}return e},YN=typeof XMLHttpRequest<"u",XN=YN&&function(n){return new Promise(function(t,s){const a=_w(n);let l=a.data;const c=_n.from(a.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:g}=a,_,w,T,C,N;function V(){C&&C(),N&&N(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let I=new XMLHttpRequest;I.open(a.method.toUpperCase(),a.url,!0),I.timeout=a.timeout;function B(){if(!I)return;const Q=_n.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),re={data:!f||f==="text"||f==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:Q,config:n,request:I};yw(function(D){t(D),V()},function(D){s(D),V()},re),I=null}"onloadend"in I?I.onloadend=B:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(B)},I.onabort=function(){I&&(s(new Ae("Request aborted",Ae.ECONNABORTED,n,I)),I=null)},I.onerror=function(){s(new Ae("Network Error",Ae.ERR_NETWORK,n,I)),I=null},I.ontimeout=function(){let ee=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const re=a.transitional||mw;a.timeoutErrorMessage&&(ee=a.timeoutErrorMessage),s(new Ae(ee,re.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,n,I)),I=null},l===void 0&&c.setContentType(null),"setRequestHeader"in I&&X.forEach(c.toJSON(),function(ee,re){I.setRequestHeader(re,ee)}),X.isUndefined(a.withCredentials)||(I.withCredentials=!!a.withCredentials),f&&f!=="json"&&(I.responseType=a.responseType),g&&([T,N]=Lh(g,!0),I.addEventListener("progress",T)),m&&I.upload&&([w,C]=Lh(m),I.upload.addEventListener("progress",w),I.upload.addEventListener("loadend",C)),(a.cancelToken||a.signal)&&(_=Q=>{I&&(s(!Q||Q.type?new Uo(null,n,I):Q),I.abort(),I=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const $=FN(a.url);if($&&nn.protocols.indexOf($)===-1){s(new Ae("Unsupported protocol "+$+":",Ae.ERR_BAD_REQUEST,n));return}I.send(l||null)})},WN=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,a;const l=function(g){if(!a){a=!0,f();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof Ae?_:new Uo(_ instanceof Error?_.message:_))}};let c=e&&setTimeout(()=>{c=null,l(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),n=null)};n.forEach(g=>g.addEventListener("abort",l));const{signal:m}=s;return m.unsubscribe=()=>X.asap(f),m}},ZN=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,a;for(;s<t;)a=s+e,yield n.slice(s,a),s=a},JN=async function*(n,e){for await(const t of eC(n))yield*ZN(t,e)},eC=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},K_=(n,e,t,s)=>{const a=JN(n,e);let l=0,c,f=m=>{c||(c=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:g,value:_}=await a.next();if(g){f(),m.close();return}let w=_.byteLength;if(t){let T=l+=w;t(T)}m.enqueue(new Uint8Array(_))}catch(g){throw f(g),g}},cancel(m){return f(m),a.return()}},{highWaterMark:2})},yd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bw=yd&&typeof ReadableStream=="function",tC=yd&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Ew=(n,...e)=>{try{return!!n(...e)}catch{return!1}},nC=bw&&Ew(()=>{let n=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Q_=64*1024,Np=bw&&Ew(()=>X.isReadableStream(new Response("").body)),Uh={stream:Np&&(n=>n.body)};yd&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Uh[e]&&(Uh[e]=X.isFunction(n[e])?t=>t[e]():(t,s)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,s)})})})(new Response);const rC=async n=>{if(n==null)return 0;if(X.isBlob(n))return n.size;if(X.isSpecCompliantForm(n))return(await new Request(nn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(X.isArrayBufferView(n)||X.isArrayBuffer(n))return n.byteLength;if(X.isURLSearchParams(n)&&(n=n+""),X.isString(n))return(await tC(n)).byteLength},sC=async(n,e)=>{const t=X.toFiniteNumber(n.getContentLength());return t??rC(e)},iC=yd&&(async n=>{let{url:e,method:t,data:s,signal:a,cancelToken:l,timeout:c,onDownloadProgress:f,onUploadProgress:m,responseType:g,headers:_,withCredentials:w="same-origin",fetchOptions:T}=_w(n);g=g?(g+"").toLowerCase():"text";let C=WN([a,l&&l.toAbortSignal()],c),N;const V=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let I;try{if(m&&nC&&t!=="get"&&t!=="head"&&(I=await sC(_,s))!==0){let re=new Request(e,{method:"POST",body:s,duplex:"half"}),te;if(X.isFormData(s)&&(te=re.headers.get("content-type"))&&_.setContentType(te),re.body){const[D,x]=H_(I,Lh($_(m)));s=K_(re.body,Q_,D,x)}}X.isString(w)||(w=w?"include":"omit");const B="credentials"in Request.prototype;N=new Request(e,{...T,signal:C,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:B?w:void 0});let $=await fetch(N);const Q=Np&&(g==="stream"||g==="response");if(Np&&(f||Q&&V)){const re={};["status","statusText","headers"].forEach(A=>{re[A]=$[A]});const te=X.toFiniteNumber($.headers.get("content-length")),[D,x]=f&&H_(te,Lh($_(f),!0))||[];$=new Response(K_($.body,Q_,D,()=>{x&&x(),V&&V()}),re)}g=g||"text";let ee=await Uh[X.findKey(Uh,g)||"text"]($,n);return!Q&&V&&V(),await new Promise((re,te)=>{yw(re,te,{data:ee,headers:_n.from($.headers),status:$.status,statusText:$.statusText,config:n,request:N})})}catch(B){throw V&&V(),B&&B.name==="TypeError"&&/fetch/i.test(B.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,n,N),{cause:B.cause||B}):Ae.from(B,B&&B.code,n,N)}}),Cp={http:bN,xhr:XN,fetch:iC};X.forEach(Cp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Y_=n=>`- ${n}`,aC=n=>X.isFunction(n)||n===null||n===!1,ww={getAdapter:n=>{n=X.isArray(n)?n:[n];const{length:e}=n;let t,s;const a={};for(let l=0;l<e;l++){t=n[l];let c;if(s=t,!aC(t)&&(s=Cp[(c=String(t)).toLowerCase()],s===void 0))throw new Ae(`Unknown adapter '${c}'`);if(s)break;a[c||"#"+l]=s}if(!s){const l=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(Y_).join(`
`):" "+Y_(l[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Cp};function np(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Uo(null,n)}function X_(n){return np(n),n.headers=_n.from(n.headers),n.data=tp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ww.getAdapter(n.adapter||Du.adapter)(n).then(function(s){return np(n),s.data=tp.call(n,n.transformResponse,s),s.headers=_n.from(s.headers),s},function(s){return gw(s)||(np(n),s&&s.response&&(s.response.data=tp.call(n,n.transformResponse,s.response),s.response.headers=_n.from(s.response.headers))),Promise.reject(s)})}const Tw="1.7.9",vd={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{vd[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const W_={};vd.transitional=function(e,t,s){function a(l,c){return"[Axios v"+Tw+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,f)=>{if(e===!1)throw new Ae(a(c," has been removed"+(t?" in "+t:"")),Ae.ERR_DEPRECATED);return t&&!W_[c]&&(W_[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,f):!0}};vd.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function oC(n,e,t){if(typeof n!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let a=s.length;for(;a-- >0;){const l=s[a],c=e[l];if(c){const f=n[l],m=f===void 0||c(f,l,n);if(m!==!0)throw new Ae("option "+l+" must be "+m,Ae.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ae("Unknown option "+l,Ae.ERR_BAD_OPTION)}}const Ah={assertOptions:oC,validators:vd},Dr=Ah.validators;let ua=class{constructor(e){this.defaults=e,this.interceptors={request:new F_,response:new F_}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ca(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:l}=t;s!==void 0&&Ah.assertOptions(s,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),a!=null&&(X.isFunction(a)?t.paramsSerializer={serialize:a}:Ah.assertOptions(a,{encode:Dr.function,serialize:Dr.function},!0)),Ah.assertOptions(t,{baseUrl:Dr.spelling("baseURL"),withXsrfToken:Dr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&X.merge(l.common,l[t.method]);l&&X.forEach(["delete","get","head","post","put","patch","common"],N=>{delete l[N]}),t.headers=_n.concat(c,l);const f=[];let m=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(t)===!1||(m=m&&V.synchronous,f.unshift(V.fulfilled,V.rejected))});const g=[];this.interceptors.response.forEach(function(V){g.push(V.fulfilled,V.rejected)});let _,w=0,T;if(!m){const N=[X_.bind(this),void 0];for(N.unshift.apply(N,f),N.push.apply(N,g),T=N.length,_=Promise.resolve(t);w<T;)_=_.then(N[w++],N[w++]);return _}T=f.length;let C=t;for(w=0;w<T;){const N=f[w++],V=f[w++];try{C=N(C)}catch(I){V.call(this,I);break}}try{_=X_.call(this,C)}catch(N){return Promise.reject(N)}for(w=0,T=g.length;w<T;)_=_.then(g[w++],g[w++]);return _}getUri(e){e=ca(this.defaults,e);const t=vw(e.baseURL,e.url);return fw(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){ua.prototype[e]=function(t,s){return this.request(ca(s||{},{method:e,url:t,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(s){return function(l,c,f){return this.request(ca(f||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}ua.prototype[e]=t(),ua.prototype[e+"Form"]=t(!0)});let lC=class xw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(f=>{s.subscribe(f),l=f}).then(a);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,f){s.reason||(s.reason=new Uo(l,c,f),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xw(function(a){e=a}),cancel:e}}};function uC(n){return function(t){return n.apply(null,t)}}function cC(n){return X.isObject(n)&&n.isAxiosError===!0}const Ip={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ip).forEach(([n,e])=>{Ip[e]=n});function Sw(n){const e=new ua(n),t=tw(ua.prototype.request,e);return X.extend(t,ua.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return Sw(ca(n,a))},t}const De=Sw(Du);De.Axios=ua;De.CanceledError=Uo;De.CancelToken=lC;De.isCancel=gw;De.VERSION=Tw;De.toFormData=gd;De.AxiosError=Ae;De.Cancel=De.CanceledError;De.all=function(e){return Promise.all(e)};De.spread=uC;De.isAxiosError=cC;De.mergeConfig=ca;De.AxiosHeaders=_n;De.formToJSON=n=>pw(X.isHTMLForm(n)?new FormData(n):n);De.getAdapter=ww.getAdapter;De.HttpStatusCode=Ip;De.default=De;const{Axios:TP,AxiosError:xP,CanceledError:SP,isCancel:AP,CancelToken:RP,VERSION:NP,all:CP,Cancel:IP,isAxiosError:DP,spread:OP,toFormData:jP,AxiosHeaders:kP,HttpStatusCode:MP,formToJSON:PP,getAdapter:VP,mergeConfig:LP}=De;function zo({id:n,title:e,poster:t,rating:s}){const a=sn(),[l,c]=k.useState(!1),f=()=>{a(`/movie/${n}`)},m=w=>{w.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"},g=Number(s).toFixed(1),_=()=>s>=8?"bg-green-600":s>=6?"bg-yellow-600":"bg-red-600";return y.jsxs("div",{className:"relative overflow-hidden bg-gray-900 rounded-lg shadow-lg transition-all duration-300 hover:shadow-2xl",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:f,children:[y.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-end p-4 transform transition-opacity duration-300 z-10 ${l?"opacity-100":"opacity-0"}`,children:y.jsxs("div",{className:"text-white",children:[y.jsx("h3",{className:"text-xl font-bold mb-1",children:e}),y.jsx("button",{className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md w-full transition-colors",children:"Ver detalles"})]})}),y.jsx("div",{className:`absolute top-2 right-2 ${_()} text-white text-sm font-bold rounded-full h-9 w-9 flex items-center justify-center z-20 shadow-md`,children:g}),y.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[y.jsx("img",{src:t,alt:e,className:`w-full h-full object-cover transition-transform duration-300 ${l?"scale-110":"scale-100"}`,onError:m}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-70"})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-white font-semibold text-lg truncate",children:e}),y.jsxs("div",{className:"flex items-center text-yellow-400",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{className:"text-sm text-gray-300",children:g})]})]})]})}var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},hC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,_=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|g>>6,C=g&63;m||(C=64,c||(T=64)),s.push(t[_],t[w],t[T],t[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Aw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||w==null)throw new dC;const T=l<<2|f>>4;if(s.push(T),g!==64){const C=f<<4&240|g>>2;if(s.push(C),w!==64){const N=g<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fC=function(n){const e=Aw(n);return Rw.encodeByteArray(e,!0)},zh=function(n){return fC(n).replace(/\./g,"")},Nw=function(n){try{return Rw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=()=>mC().__FIREBASE_DEFAULTS__,gC=()=>{if(typeof process>"u"||typeof Z_>"u")return;const n=Z_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Nw(n[1]);return e&&JSON.parse(e)},_d=()=>{try{return pC()||gC()||yC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Cw=n=>{var e,t;return(t=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vC=n=>{const e=Cw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Iw=()=>{var n;return(n=_d())===null||n===void 0?void 0:n.config},Dw=n=>{var e;return(e=_d())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zh(JSON.stringify(t)),zh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function wC(){var n;const e=(n=_d())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ow(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SC(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AC(){return!wC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jw(){try{return typeof indexedDB=="object"}catch{return!1}}function kw(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function RC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="FirebaseError";class fr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=NC,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?CC(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new fr(a,f,s)}}function CC(n,e){return n.replace(IC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const IC=/\{\$([^}]+)}/g;function DC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ha(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],c=e[a];if(J_(l)&&J_(c)){if(!ha(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function J_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function au(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function OC(n,e){const t=new jC(n,e);return t.subscribe.bind(t)}class jC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");kC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=rp),a.error===void 0&&(a.error=rp),a.complete===void 0&&(a.complete=rp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,PC=2,VC=4*60*60*1e3,LC=.5;function eb(n,e=MC,t=PC){const s=e*Math.pow(t,n),a=Math.round(LC*s*(Math.random()-.5)*2);return Math.min(VC,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class or{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _C;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BC(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zC(n){return n===ia?void 0:n}function BC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const qC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},HC=ke.INFO,$C={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},GC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=$C[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bd{constructor(e){this.name=e,this._logLevel=HC,this._logHandler=GC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const KC=(n,e)=>e.some(t=>n instanceof t);let tb,nb;function QC(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YC(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mw=new WeakMap,Dp=new WeakMap,Pw=new WeakMap,sp=new WeakMap,gg=new WeakMap;function XC(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(di(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Mw.set(t,n)}).catch(()=>{}),gg.set(e,n),e}function WC(n){if(Dp.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Dp.set(n,e)}let Op={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Pw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return di(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZC(n){Op=n(Op)}function JC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(ip(this),e,...t);return Pw.set(s,e.sort?e.sort():[e]),di(s)}:YC().includes(n)?function(...e){return n.apply(ip(this),e),di(Mw.get(this))}:function(...e){return di(n.apply(ip(this),e))}}function eI(n){return typeof n=="function"?JC(n):(n instanceof IDBTransaction&&WC(n),KC(n,QC())?new Proxy(n,Op):n)}function di(n){if(n instanceof IDBRequest)return XC(n);if(sp.has(n))return sp.get(n);const e=eI(n);return e!==n&&(sp.set(n,e),gg.set(e,n)),e}const ip=n=>gg.get(n);function Vw(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=di(c);return s&&c.addEventListener("upgradeneeded",m=>{s(di(c.result),m.oldVersion,m.newVersion,di(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const tI=["get","getKey","getAll","getAllKeys","count"],nI=["put","add","delete","clear"],ap=new Map;function rb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=nI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||tI.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&m.done]))[0]};return ap.set(e,l),l}ZC(n=>({...n,get:(e,t,s)=>rb(e,t)||n.get(e,t,s),has:(e,t)=>!!rb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function sI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jp="@firebase/app",sb="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new bd("@firebase/app"),iI="@firebase/app-compat",aI="@firebase/analytics-compat",oI="@firebase/analytics",lI="@firebase/app-check-compat",uI="@firebase/app-check",cI="@firebase/auth",hI="@firebase/auth-compat",dI="@firebase/database",fI="@firebase/data-connect",mI="@firebase/database-compat",pI="@firebase/functions",gI="@firebase/functions-compat",yI="@firebase/installations",vI="@firebase/installations-compat",_I="@firebase/messaging",bI="@firebase/messaging-compat",EI="@firebase/performance",wI="@firebase/performance-compat",TI="@firebase/remote-config",xI="@firebase/remote-config-compat",SI="@firebase/storage",AI="@firebase/storage-compat",RI="@firebase/firestore",NI="@firebase/vertexai",CI="@firebase/firestore-compat",II="firebase",DI="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",OI={[jp]:"fire-core",[iI]:"fire-core-compat",[oI]:"fire-analytics",[aI]:"fire-analytics-compat",[uI]:"fire-app-check",[lI]:"fire-app-check-compat",[cI]:"fire-auth",[hI]:"fire-auth-compat",[dI]:"fire-rtdb",[fI]:"fire-data-connect",[mI]:"fire-rtdb-compat",[pI]:"fire-fn",[gI]:"fire-fn-compat",[yI]:"fire-iid",[vI]:"fire-iid-compat",[_I]:"fire-fcm",[bI]:"fire-fcm-compat",[EI]:"fire-perf",[wI]:"fire-perf-compat",[TI]:"fire-rc",[xI]:"fire-rc-compat",[SI]:"fire-gcs",[AI]:"fire-gcs-compat",[RI]:"fire-fst",[CI]:"fire-fst-compat",[NI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,jI=new Map,Mp=new Map;function ib(n,e){try{n.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vr(n){const e=n.name;if(Mp.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Mp.set(e,n);for(const t of Bh.values())ib(t,n);for(const t of jI.values())ib(t,n);return!0}function Ea(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new ba("app","Firebase",kI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=DI;function Lw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw fi.create("bad-app-name",{appName:String(a)});if(t||(t=Iw()),!t)throw fi.create("no-options");const l=Bh.get(a);if(l){if(ha(t,l.options)&&ha(s,l.config))return l;throw fi.create("duplicate-app",{appName:a})}const c=new FC(a);for(const m of Mp.values())c.addComponent(m);const f=new MI(t,s,c);return Bh.set(a,f),f}function yg(n=kp){const e=Bh.get(n);if(!e&&n===kp&&Iw())return Lw();if(!e)throw fi.create("no-app",{appName:n});return e}function Jn(n,e,t){var s;let a=(s=OI[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(f.join(" "));return}Vr(new or(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebase-heartbeat-database",VI=1,bu="firebase-heartbeat-store";let op=null;function Uw(){return op||(op=Vw(PI,VI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fi.create("idb-open",{originalErrorMessage:n.message})})),op}async function LI(n){try{const t=(await Uw()).transaction(bu),s=await t.objectStore(bu).get(zw(n));return await t.done,s}catch(e){if(e instanceof fr)_s.warn(e.message);else{const t=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(t.message)}}}async function ab(n,e){try{const s=(await Uw()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,zw(n)),await s.done}catch(t){if(t instanceof fr)_s.warn(t.message);else{const s=fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_s.warn(s.message)}}}function zw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1024,zI=30;class BI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ob();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>zI){const c=HI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_s.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ob(),{heartbeatsToSend:s,unsentEntries:a}=FI(this._heartbeatsCache.heartbeats),l=zh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return _s.warn(t),""}}}function ob(){return new Date().toISOString().substring(0,10)}function FI(n,e=UI){const t=[];let s=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),lb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),lb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class qI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jw()?kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return ab(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return ab(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function lb(n){return zh(JSON.stringify({version:2,heartbeats:n})).length}function HI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){Vr(new or("platform-logger",e=>new rI(e),"PRIVATE")),Vr(new or("heartbeat",e=>new BI(e),"PRIVATE")),Jn(jp,sb,n),Jn(jp,sb,"esm2017"),Jn("fire-js","")}$I("");function vg(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GI=Bw,Fw=new ba("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new bd("@firebase/auth");function KI(n,...e){Fh.logLevel<=ke.WARN&&Fh.warn(`Auth (${Bo}): ${n}`,...e)}function Rh(n,...e){Fh.logLevel<=ke.ERROR&&Fh.error(`Auth (${Bo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw _g(n,...e)}function jr(n,...e){return _g(n,...e)}function qw(n,e,t){const s=Object.assign(Object.assign({},GI()),{[e]:t});return new ba("auth","Firebase",s).create(e,{appName:n.name})}function vs(n){return qw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Fw.create(n,...e)}function Te(n,e,...t){if(!n)throw _g(e,...t)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Rh(e),new Error(e)}function bs(n,e){n||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function QI(){return ub()==="http:"||ub()==="https:"}function ub(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QI()||Ow()||"connection"in navigator)?navigator.onLine:!0}function XI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,bs(t>e,"Short delay should be less than long delay!"),this.isMobile=EC()||xC()}get(){return YI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(n,e){bs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new ju(3e4,6e4);function Ti(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xi(n,e,t,s,a={}){return $w(n,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Ou(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return TC()||(g.referrerPolicy="no-referrer"),Hw.fetch()(Gw(n,n.config.apiHost,t,f),g)})}async function $w(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},WI),e);try{const a=new e2(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ph(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ph(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw ph(n,"user-disabled",c);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qw(n,_,g);lr(n,_)}}catch(a){if(a instanceof fr)throw a;lr(n,"network-request-failed",{message:String(a)})}}async function ku(n,e,t,s,a={}){const l=await xi(n,e,t,s,a);return"mfaPendingCredential"in l&&lr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Gw(n,e,t,s){const a=`${e}${t}?${s}`;return n.config.emulator?bg(n.config,a):`${n.config.apiScheme}://${a}`}function JI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(jr(this.auth,"network-request-failed")),ZI.get())})}}function ph(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=jr(n,e,s);return a.customData._tokenResponse=t,a}function cb(n){return n!==void 0&&n.enterprise!==void 0}class t2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n2(n,e){return xi(n,"GET","/v2/recaptchaConfig",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(n,e){return xi(n,"POST","/v1/accounts:delete",e)}async function Kw(n,e){return xi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s2(n,e=!1){const t=at(n),s=await t.getIdToken(e),a=Eg(s);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:hu(lp(a.auth_time)),issuedAtTime:hu(lp(a.iat)),expirationTime:hu(lp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function lp(n){return Number(n)*1e3}function Eg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Nw(t);return a?JSON.parse(a):(Rh("Failed to decode base64 JWT payload"),null)}catch(a){return Rh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function hb(n){const e=Eg(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof fr&&i2(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function i2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(n){var e;const t=n.auth,s=await n.getIdToken(),a=await Eu(n,Kw(t,{idToken:s}));Te(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Qw(l.providerUserInfo):[],f=l2(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=m?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Vp(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function o2(n){const e=at(n);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l2(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Qw(n){return n.map(e=>{var{providerId:t}=e,s=vg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(n,e){const t=await $w(n,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=Gw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Hw.fetch()(c,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function c2(n,e){return xi(n,"POST","/v2/accounts:revokeToken",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=hb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await u2(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new xo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return s2(this,e)}reload(){return o2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Eu(this,r2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,c,f,m,g,_;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,B=(g=t.createdAt)!==null&&g!==void 0?g:void 0,$=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:ee,isAnonymous:re,providerData:te,stsTokenManager:D}=t;Te(Q&&D,e,"internal-error");const x=xo.fromJSON(this.name,D);Te(typeof Q=="string",e,"internal-error"),ai(w,e.name),ai(T,e.name),Te(typeof ee=="boolean",e,"internal-error"),Te(typeof re=="boolean",e,"internal-error"),ai(C,e.name),ai(N,e.name),ai(V,e.name),ai(I,e.name),ai(B,e.name),ai($,e.name);const A=new ps({uid:Q,auth:e,email:T,emailVerified:ee,displayName:w,isAnonymous:re,photoURL:N,phoneNumber:C,tenantId:V,stsTokenManager:x,createdAt:B,lastLoginAt:$});return te&&Array.isArray(te)&&(A.providerData=te.map(O=>Object.assign({},O))),I&&(A._redirectEventId=I),A}static async _fromIdTokenResponse(e,t,s=!1){const a=new xo;a.updateFromServerResponse(t);const l=new ps({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await qh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Qw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new xo;f.updateFromIdToken(s);const m=new ps({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new Map;function gs(n){bs(n instanceof Function,"Expected a class definition");let e=db.get(n);return e?(bs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,db.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yw.type="NONE";const fb=Yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n,e,t){return`firebase:${n}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Nh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Nh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(gs(fb),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||gs(fb);const c=Nh(s,e.config.apiKey,e.name);let f=null;for(const g of t)try{const _=await g._get(c);if(_){const w=ps._fromJSON(e,_);g!==l&&(f=w),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new So(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new So(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tT(e))return"Blackberry";if(nT(e))return"Webos";if(Ww(e))return"Safari";if((e.includes("chrome/")||Zw(e))&&!e.includes("edge/"))return"Chrome";if(eT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Xw(n=rn()){return/firefox\//i.test(n)}function Ww(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zw(n=rn()){return/crios\//i.test(n)}function Jw(n=rn()){return/iemobile/i.test(n)}function eT(n=rn()){return/android/i.test(n)}function tT(n=rn()){return/blackberry/i.test(n)}function nT(n=rn()){return/webos/i.test(n)}function wg(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function h2(n=rn()){var e;return wg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d2(){return SC()&&document.documentMode===10}function rT(n=rn()){return wg(n)||eT(n)||nT(n)||tT(n)||/windows phone/i.test(n)||Jw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n,e=[]){let t;switch(n){case"Browser":t=mb(rn());break;case"Worker":t=`${mb(rn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(n,e={}){return xi(n,"GET","/v2/passwordPolicy",Ti(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=6;class g2{constructor(e){var t,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:p2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pb(this),this.idTokenSubscription=new pb(this),this.beforeStateQueue=new f2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kw(this,{idToken:e}),s=await ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(vs(this));const t=e?at(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m2(this),t=new g2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await c2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wa(n){return at(n)}class pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=OC(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v2(n){Ed=n}function iT(n){return Ed.loadJS(n)}function _2(){return Ed.recaptchaEnterpriseScript}function b2(){return Ed.gapiScript}function E2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class w2{constructor(){this.enterprise=new T2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class T2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const x2="recaptcha-enterprise",aT="NO_RECAPTCHA";class S2{constructor(e){this.type=x2,this.auth=wa(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{n2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new t2(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;cb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(aT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!t&&cb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=_2();m.length!==0&&(m+=f),iT(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function gb(n,e,t,s=!1,a=!1){const l=new S2(n);let c;if(a)c=aT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Lp(n,e,t,s,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await gb(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await gb(n,e,t,t==="getOobCode");return s(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n,e){const t=Ea(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ha(l,e??{}))return a;lr(a,"already-initialized")}return t.initialize({options:e})}function R2(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(gs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function N2(n,e,t){const s=wa(n);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=oT(e),{host:c,port:f}=C2(e),m=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${c}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),I2()}function oT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function C2(n){const e=oT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:yb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:yb(c)}}}function yb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function I2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function D2(n,e){return xi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(n,e){return ku(n,"POST","/v1/accounts:signInWithPassword",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(n,e){return ku(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,e))}async function k2(n,e){return ku(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Tg{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new wu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new wu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,t,"signInWithPassword",O2);case"emailLink":return j2(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,s,"signUpPassword",D2);case"emailLink":return k2(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(n,e){return ku(n,"POST","/v1/accounts:signInWithIdp",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="http://localhost";class da extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=vg(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new da(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:M2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V2(n){const e=iu(au(n)).link,t=e?iu(au(e)).deep_link_id:null,s=iu(au(n)).deep_link_id;return(s?iu(au(s)).link:null)||s||t||e||n}class xg{constructor(e){var t,s,a,l,c,f;const m=iu(au(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,_=(s=m.oobCode)!==null&&s!==void 0?s:null,w=P2((a=m.mode)!==null&&a!==void 0?a:null);Te(g&&_&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=_,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=V2(e);try{return new xg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,t){return wu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=xg.parseLink(t);return Te(s,"argument-error"),wu._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends lT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Mu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return li.credential(t,s)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Mu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Mu{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ci.credential(t,s)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(n,e){return ku(n,"POST","/v1/accounts:signUp",Ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await ps._fromIdTokenResponse(e,s,a),c=vb(s);return new fa({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=vb(s);return new fa({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function vb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends fr{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Hh(e,t,s,a)}}function uT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(n,l,e,s):l})}async function U2(n,e,t=!1){const s=await Eu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fa._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e,t=!1){const{auth:s}=n;if(Zn(s.app))return Promise.reject(vs(s));const a="reauthenticate";try{const l=await Eu(n,uT(s,a,e,n),t);Te(l.idToken,s,"internal-error");const c=Eg(l.idToken);Te(c,s,"internal-error");const{sub:f}=c;return Te(n.uid===f,s,"user-mismatch"),fa._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&lr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(n,e,t=!1){if(Zn(n.app))return Promise.reject(vs(n));const s="signIn",a=await uT(n,s,e),l=await fa._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function B2(n,e){return cT(wa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(n){const e=wa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F2(n,e,t){if(Zn(n.app))return Promise.reject(vs(n));const s=wa(n),c=await Lp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&hT(n),m}),f=await fa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function q2(n,e,t){return Zn(n.app)?Promise.reject(vs(n)):B2(at(n),Fo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hT(n),s})}function H2(n,e,t,s){return at(n).onIdTokenChanged(e,t,s)}function $2(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function G2(n,e,t,s){return at(n).onAuthStateChanged(e,t,s)}function K2(n){return at(n).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1e3,Y2=10;class fT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);d2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Y2):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fT.type="LOCAL";const X2=fT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mT.type="SESSION";const pT=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,l)),m=await W2(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=Sg("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function J2(n){kr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function eD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nD(){return gT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",rD=1,Gh="firebaseLocalStorage",vT="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(n,e){return n.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function sD(){const n=indexedDB.deleteDatabase(yT);return new Pu(n).toPromise()}function Up(){const n=indexedDB.open(yT,rD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Gh,{keyPath:vT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Gh)?e(s):(s.close(),await sD(),e(await Up()))})})}async function _b(n,e,t){const s=Td(n,!0).put({[vT]:e,value:t});return new Pu(s).toPromise()}async function iD(n,e){const t=Td(n,!1).get(e),s=await new Pu(t).toPromise();return s===void 0?null:s.value}function bb(n,e){const t=Td(n,!0).delete(e);return new Pu(t).toPromise()}const aD=800,oD=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>oD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(nD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eD(),!this.activeServiceWorker)return;this.sender=new Z2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await _b(e,$h,"1"),await bb(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>_b(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>iD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Td(a,!1).getAll();return new Pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const lD=_T;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n,e){return e?gs(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cD(n){return cT(n.auth,new Ag(n),n.bypassAuthState)}function hD(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),z2(t,new Ag(n),n.bypassAuthState)}async function dD(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),U2(t,new Ag(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cD;case"linkViaPopup":case"linkViaRedirect":return dD;case"reauthViaPopup":case"reauthViaRedirect":return hD;default:lr(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new ju(2e3,1e4);class wo extends bT{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fD.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="pendingRedirect",Ch=new Map;class pD extends bT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await gD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gD(n,e){const t=_D(e),s=vD(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function yD(n,e){Ch.set(n._key(),e)}function vD(n){return gs(n._redirectPersistence)}function _D(n){return Nh(mD,n.config.apiKey,n.name)}async function bD(n,e,t=!1){if(Zn(n.app))return Promise.reject(vs(n));const s=wa(n),a=uD(s,e),c=await new pD(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=10*60*1e3;class wD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ET(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ED&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eb(e))}saveEventToCache(e){this.cachedEventUids.add(Eb(e)),this.lastProcessedEventTime=Date.now()}}function Eb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ET({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e={}){return xi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AD=/^https?/;async function RD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xD(n);for(const t of e)try{if(ND(t))return}catch{}lr(n,"unauthorized-domain")}function ND(n){const e=Pp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!AD.test(t))return!1;if(SD.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new ju(3e4,6e4);function wb(){const n=kr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ID(n){return new Promise((e,t)=>{var s,a,l;function c(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),t(jr(n,"network-request-failed"))},timeout:CD.get()})}if(!((a=(s=kr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=kr().gapi)===null||l===void 0)&&l.load)c();else{const f=E2("iframefcb");return kr()[f]=()=>{gapi.load?c():t(jr(n,"network-request-failed"))},iT(`${b2()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function DD(n){return Ih=Ih||ID(n),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new ju(5e3,15e3),jD="__/auth/iframe",kD="emulator/auth/iframe",MD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VD(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?bg(e,kD):`https://${n.config.authDomain}/${jD}`,s={apiKey:e.apiKey,appName:n.name,v:Bo},a=PD.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ou(s).slice(1)}`}async function LD(n){const e=await DD(n),t=kr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:VD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=jr(n,"network-request-failed"),f=kr().setTimeout(()=>{l(c)},OD.get());function m(){kr().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zD=500,BD=600,FD="_blank",qD="http://localhost";class Tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HD(n,e,t,s=zD,a=BD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},UD),{width:s.toString(),height:a.toString(),top:l,left:c}),g=rn().toLowerCase();t&&(f=Zw(g)?FD:t),Xw(g)&&(e=e||qD,m.scrollbars="yes");const _=Object.entries(m).reduce((T,[C,N])=>`${T}${C}=${N},`,"");if(h2(g)&&f!=="_self")return $D(e||"",f),new Tb(null);const w=window.open(e||"",f,_);Te(w,n,"popup-blocked");try{w.focus()}catch{}return new Tb(w)}function $D(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="__/auth/handler",KD="emulator/auth/handler",QD=encodeURIComponent("fac");async function xb(n,e,t,s,a,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Bo,eventId:a};if(e instanceof lT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",DC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof Mu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await n._getAppCheckToken(),g=m?`#${QD}=${encodeURIComponent(m)}`:"";return`${YD(n)}?${Ou(f).slice(1)}${g}`}function YD({config:n}){return n.emulator?bg(n,KD):`https://${n.authDomain}/${GD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="webStorageSupport";class XD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=bD,this._overrideRedirectResult=yD}async _openPopup(e,t,s,a){var l;bs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await xb(e,t,s,Pp(),a);return HD(e,c,Sg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await xb(e,t,s,Pp(),a);return J2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(bs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await LD(e),s=new wD(e);return t.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(up,{type:up},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[up];c!==void 0&&t(!!c),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rT()||Ww()||wg()}}const WD=XD;var Sb="@firebase/auth",Ab="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(n){Vr(new or("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(n)},g=new y2(s,a,l,m);return R2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Vr(new or("auth-internal",e=>{const t=wa(e.getProvider("auth").getImmediate());return(s=>new ZD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(Sb,Ab,JD(n)),Jn(Sb,Ab,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=5*60,nO=Dw("authIdTokenMaxAge")||tO;let Rb=null;const rO=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>nO)return;const a=t==null?void 0:t.token;Rb!==a&&(Rb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sO(n=yg()){const e=Ea(n,"auth");if(e.isInitialized())return e.getImmediate();const t=A2(n,{popupRedirectResolver:WD,persistence:[lD,X2,pT]}),s=Dw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=rO(l.toString());$2(t,c,()=>c(t.currentUser)),H2(t,f=>c(f))}}const a=Cw("auth");return a&&N2(t,`http://${a}`),t}function iO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}v2({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=jr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",iO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var aO="firebase",oO="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(aO,oO,"app");const wT="@firebase/installations",Rg="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=1e4,xT=`w:${Rg}`,ST="FIS_v2",lO="https://firebaseinstallations.googleapis.com/v1",uO=60*60*1e3,cO="installations",hO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new ba(cO,hO,dO);function AT(n){return n instanceof fr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT({projectId:n}){return`${lO}/projects/${n}/installations`}function NT(n){return{token:n.token,requestStatus:2,expiresIn:mO(n.expiresIn),creationTime:Date.now()}}async function CT(n,e){const s=(await e.json()).error;return ma.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function IT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function fO(n,{refreshToken:e}){const t=IT(n);return t.append("Authorization",pO(e)),t}async function DT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function mO(n){return Number(n.replace("s","000"))}function pO(n){return`${ST} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=RT(n),a=IT(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:t,authVersion:ST,appId:n.appId,sdkVersion:xT},f={method:"POST",headers:a,body:JSON.stringify(c)},m=await DT(()=>fetch(s,f));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:NT(g.authToken)}}else throw await CT("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^[cdef][\w-]{21}$/,zp="";function _O(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=bO(n);return vO.test(t)?t:zp}catch{return zp}}function bO(n){return yO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;function kT(n,e){const t=xd(n);MT(t,e),EO(t,e)}function MT(n,e){const t=jT.get(n);if(t)for(const s of t)s(e)}function EO(n,e){const t=wO();t&&t.postMessage({key:n,fid:e}),TO()}let oa=null;function wO(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=n=>{MT(n.data.key,n.data.fid)}),oa}function TO(){jT.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firebase-installations-database",SO=1,pa="firebase-installations-store";let cp=null;function Ng(){return cp||(cp=Vw(xO,SO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(pa)}}})),cp}async function Kh(n,e){const t=xd(n),a=(await Ng()).transaction(pa,"readwrite"),l=a.objectStore(pa),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&kT(n,e.fid),e}async function PT(n){const e=xd(n),s=(await Ng()).transaction(pa,"readwrite");await s.objectStore(pa).delete(e),await s.done}async function Sd(n,e){const t=xd(n),a=(await Ng()).transaction(pa,"readwrite"),l=a.objectStore(pa),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await a.done,f&&(!c||c.fid!==f.fid)&&kT(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(n){let e;const t=await Sd(n.appConfig,s=>{const a=AO(s),l=RO(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===zp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function AO(n){const e=n||{fid:_O(),registrationStatus:0};return VT(e)}function RO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ma.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=NO(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CO(n)}:{installationEntry:e}}async function NO(n,e){try{const t=await gO(n,e);return Kh(n.appConfig,t)}catch(t){throw AT(t)&&t.customData.serverCode===409?await PT(n.appConfig):await Kh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function CO(n){let e=await Nb(n.appConfig);for(;e.registrationStatus===1;)await OT(100),e=await Nb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Cg(n);return s||t}return e}function Nb(n){return Sd(n,e=>{if(!e)throw ma.create("installation-not-found");return VT(e)})}function VT(n){return IO(n)?{fid:n.fid,registrationStatus:0}:n}function IO(n){return n.registrationStatus===1&&n.registrationTime+TT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO({appConfig:n,heartbeatServiceProvider:e},t){const s=OO(n,t),a=fO(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:xT,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},m=await DT(()=>fetch(s,f));if(m.ok){const g=await m.json();return NT(g)}else throw await CT("Generate Auth Token",m)}function OO(n,{fid:e}){return`${RT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(n,e=!1){let t;const s=await Sd(n.appConfig,l=>{if(!LT(l))throw ma.create("not-registered");const c=l.authToken;if(!e&&MO(c))return l;if(c.requestStatus===1)return t=jO(n,e),l;{if(!navigator.onLine)throw ma.create("app-offline");const f=VO(l);return t=kO(n,f),f}});return t?await t:s.authToken}async function jO(n,e){let t=await Cb(n.appConfig);for(;t.authToken.requestStatus===1;)await OT(100),t=await Cb(n.appConfig);const s=t.authToken;return s.requestStatus===0?Ig(n,e):s}function Cb(n){return Sd(n,e=>{if(!LT(e))throw ma.create("not-registered");const t=e.authToken;return LO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kO(n,e){try{const t=await DO(n,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Kh(n.appConfig,s),t}catch(t){if(AT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await PT(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kh(n.appConfig,s)}throw t}}function LT(n){return n!==void 0&&n.registrationStatus===2}function MO(n){return n.requestStatus===2&&!PO(n)}function PO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+uO}function VO(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function LO(n){return n.requestStatus===1&&n.requestTime+TT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n){const e=n,{installationEntry:t,registrationPromise:s}=await Cg(e);return s?s.catch(console.error):Ig(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(n,e=!1){const t=n;return await BO(t),(await Ig(t,e)).token}async function BO(n){const{registrationPromise:e}=await Cg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n){if(!n||!n.options)throw hp("App Configuration");if(!n.name)throw hp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw hp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function hp(n){return ma.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="installations",qO="installations-internal",HO=n=>{const e=n.getProvider("app").getImmediate(),t=FO(e),s=Ea(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},$O=n=>{const e=n.getProvider("app").getImmediate(),t=Ea(e,UT).getImmediate();return{getId:()=>UO(t),getToken:a=>zO(t,a)}};function GO(){Vr(new or(UT,HO,"PUBLIC")),Vr(new or(qO,$O,"PRIVATE"))}GO();Jn(wT,Rg);Jn(wT,Rg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="analytics",KO="firebase_id",QO="origin",YO=60*1e3,XO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new bd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new ba("analytics","Analytics",WO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n){if(!n.startsWith(Dg)){const e=Dn.create("invalid-gtag-resource",{gtagURL:n});return bn.warn(e.message),""}return n}function zT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function JO(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function ej(n,e){const t=JO("firebase-js-sdk-policy",{createScriptURL:ZO}),s=document.createElement("script"),a=`${Dg}?l=${n}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function tj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function nj(n,e,t,s,a,l){const c=s[a];try{if(c)await e[c];else{const m=(await zT(t)).find(g=>g.measurementId===a);m&&await e[m.appId]}}catch(f){bn.error(f)}n("config",a,l)}async function rj(n,e,t,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await zT(t);for(const m of c){const g=f.find(w=>w.measurementId===m),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,a||{})}catch(l){bn.error(l)}}function sj(n,e,t,s){async function a(l,...c){try{if(l==="event"){const[f,m]=c;await rj(n,e,t,f,m)}else if(l==="config"){const[f,m]=c;await nj(n,e,t,s,f,m)}else if(l==="consent"){const[f,m]=c;n("consent",f,m)}else if(l==="get"){const[f,m,g]=c;n("get",f,m,g)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){bn.error(f)}}return a}function ij(n,e,t,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=sj(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function aj(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Dg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=30,lj=1e3;class uj{constructor(e={},t=lj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BT=new uj;function cj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function hj(n){var e;const{appId:t,apiKey:s}=n,a={method:"GET",headers:cj(s)},l=XO.replace("{app-id}",t),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();!((e=m.error)===null||e===void 0)&&e.message&&(f=m.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function dj(n,e=BT,t){const{appId:s,apiKey:a,measurementId:l}=n.options;if(!s)throw Dn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Dn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new pj;return setTimeout(async()=>{f.abort()},YO),FT({appId:s,apiKey:a,measurementId:l},c,f,e)}async function FT(n,{throttleEndTimeMillis:e,backoffCount:t},s,a=BT){var l;const{appId:c,measurementId:f}=n;try{await fj(s,e)}catch(m){if(f)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:f};throw m}try{const m=await hj(n);return a.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!mj(g)){if(a.deleteThrottleMetadata(c),f)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:f};throw m}const _=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?eb(t,a.intervalMillis,oj):eb(t,a.intervalMillis),w={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return a.setThrottleMetadata(c,w),bn.debug(`Calling attemptFetch again in ${_} millis`),FT(n,w,s,a)}}function fj(n,e){return new Promise((t,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),s(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mj(n){if(!(n instanceof fr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class pj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gj(n,e,t,s,a){if(a&&a.global){n("event",t,s);return}else{const l=await e,c=Object.assign(Object.assign({},s),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(){if(jw())try{await kw()}catch(n){return bn.warn(Dn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return bn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vj(n,e,t,s,a,l,c){var f;const m=dj(n);m.then(C=>{t[C.measurementId]=C.appId,n.options.measurementId&&C.measurementId!==n.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>bn.error(C)),e.push(m);const g=yj().then(C=>{if(C)return s.getId()}),[_,w]=await Promise.all([m,g]);aj(l)||ej(l,_.measurementId),a("js",new Date);const T=(f=c==null?void 0:c.config)!==null&&f!==void 0?f:{};return T[QO]="firebase",T.update=!0,w!=null&&(T[KO]=w),a("config",_.measurementId,T),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.app=e}_delete(){return delete du[this.app.options.appId],Promise.resolve()}}let du={},Ib=[];const Db={};let dp="dataLayer",bj="gtag",Ob,qT,jb=!1;function Ej(){const n=[];if(Ow()&&n.push("This is a browser extension environment."),RC()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,a)=>`(${a+1}) ${s}`).join(" "),t=Dn.create("invalid-analytics-context",{errorInfo:e});bn.warn(t.message)}}function wj(n,e,t){Ej();const s=n.options.appId;if(!s)throw Dn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(du[s]!=null)throw Dn.create("already-exists",{id:s});if(!jb){tj(dp);const{wrappedGtag:l,gtagCore:c}=ij(du,Ib,Db,dp,bj);qT=l,Ob=c,jb=!0}return du[s]=vj(n,Ib,Db,e,Ob,dp,t),new _j(n)}function Tj(n=yg()){n=at(n);const e=Ea(n,Qh);return e.isInitialized()?e.getImmediate():xj(n)}function xj(n,e={}){const t=Ea(n,Qh);if(t.isInitialized()){const a=t.getImmediate();if(ha(e,t.getOptions()))return a;throw Dn.create("already-initialized")}return t.initialize({options:e})}function Sj(n,e,t,s){n=at(n),gj(qT,du[n.app.options.appId],e,t,s).catch(a=>bn.error(a))}const kb="@firebase/analytics",Mb="0.10.11";function Aj(){Vr(new or(Qh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return wj(s,a,t)},"PUBLIC")),Vr(new or("analytics-internal",n,"PRIVATE")),Jn(kb,Mb),Jn(kb,Mb,"esm2017");function n(e){try{const t=e.getProvider(Qh).getImmediate();return{logEvent:(s,a,l)=>Sj(t,s,a,l)}}catch(t){throw Dn.create("interop-component-reg-failed",{reason:t})}}}Aj();var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mi,HT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function A(){}A.prototype=x.prototype,D.D=x.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(O,P,F){for(var M=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)M[Tt-2]=arguments[Tt];return x.prototype[P].apply(O,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,A){A||(A=0);var O=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)O[P]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(P=0;16>P;++P)O[P]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=D.g[0],A=D.g[1],P=D.g[2];var F=D.g[3],M=x+(F^A&(P^F))+O[0]+3614090360&4294967295;x=A+(M<<7&4294967295|M>>>25),M=F+(P^x&(A^P))+O[1]+3905402710&4294967295,F=x+(M<<12&4294967295|M>>>20),M=P+(A^F&(x^A))+O[2]+606105819&4294967295,P=F+(M<<17&4294967295|M>>>15),M=A+(x^P&(F^x))+O[3]+3250441966&4294967295,A=P+(M<<22&4294967295|M>>>10),M=x+(F^A&(P^F))+O[4]+4118548399&4294967295,x=A+(M<<7&4294967295|M>>>25),M=F+(P^x&(A^P))+O[5]+1200080426&4294967295,F=x+(M<<12&4294967295|M>>>20),M=P+(A^F&(x^A))+O[6]+2821735955&4294967295,P=F+(M<<17&4294967295|M>>>15),M=A+(x^P&(F^x))+O[7]+4249261313&4294967295,A=P+(M<<22&4294967295|M>>>10),M=x+(F^A&(P^F))+O[8]+1770035416&4294967295,x=A+(M<<7&4294967295|M>>>25),M=F+(P^x&(A^P))+O[9]+2336552879&4294967295,F=x+(M<<12&4294967295|M>>>20),M=P+(A^F&(x^A))+O[10]+4294925233&4294967295,P=F+(M<<17&4294967295|M>>>15),M=A+(x^P&(F^x))+O[11]+2304563134&4294967295,A=P+(M<<22&4294967295|M>>>10),M=x+(F^A&(P^F))+O[12]+1804603682&4294967295,x=A+(M<<7&4294967295|M>>>25),M=F+(P^x&(A^P))+O[13]+4254626195&4294967295,F=x+(M<<12&4294967295|M>>>20),M=P+(A^F&(x^A))+O[14]+2792965006&4294967295,P=F+(M<<17&4294967295|M>>>15),M=A+(x^P&(F^x))+O[15]+1236535329&4294967295,A=P+(M<<22&4294967295|M>>>10),M=x+(P^F&(A^P))+O[1]+4129170786&4294967295,x=A+(M<<5&4294967295|M>>>27),M=F+(A^P&(x^A))+O[6]+3225465664&4294967295,F=x+(M<<9&4294967295|M>>>23),M=P+(x^A&(F^x))+O[11]+643717713&4294967295,P=F+(M<<14&4294967295|M>>>18),M=A+(F^x&(P^F))+O[0]+3921069994&4294967295,A=P+(M<<20&4294967295|M>>>12),M=x+(P^F&(A^P))+O[5]+3593408605&4294967295,x=A+(M<<5&4294967295|M>>>27),M=F+(A^P&(x^A))+O[10]+38016083&4294967295,F=x+(M<<9&4294967295|M>>>23),M=P+(x^A&(F^x))+O[15]+3634488961&4294967295,P=F+(M<<14&4294967295|M>>>18),M=A+(F^x&(P^F))+O[4]+3889429448&4294967295,A=P+(M<<20&4294967295|M>>>12),M=x+(P^F&(A^P))+O[9]+568446438&4294967295,x=A+(M<<5&4294967295|M>>>27),M=F+(A^P&(x^A))+O[14]+3275163606&4294967295,F=x+(M<<9&4294967295|M>>>23),M=P+(x^A&(F^x))+O[3]+4107603335&4294967295,P=F+(M<<14&4294967295|M>>>18),M=A+(F^x&(P^F))+O[8]+1163531501&4294967295,A=P+(M<<20&4294967295|M>>>12),M=x+(P^F&(A^P))+O[13]+2850285829&4294967295,x=A+(M<<5&4294967295|M>>>27),M=F+(A^P&(x^A))+O[2]+4243563512&4294967295,F=x+(M<<9&4294967295|M>>>23),M=P+(x^A&(F^x))+O[7]+1735328473&4294967295,P=F+(M<<14&4294967295|M>>>18),M=A+(F^x&(P^F))+O[12]+2368359562&4294967295,A=P+(M<<20&4294967295|M>>>12),M=x+(A^P^F)+O[5]+4294588738&4294967295,x=A+(M<<4&4294967295|M>>>28),M=F+(x^A^P)+O[8]+2272392833&4294967295,F=x+(M<<11&4294967295|M>>>21),M=P+(F^x^A)+O[11]+1839030562&4294967295,P=F+(M<<16&4294967295|M>>>16),M=A+(P^F^x)+O[14]+4259657740&4294967295,A=P+(M<<23&4294967295|M>>>9),M=x+(A^P^F)+O[1]+2763975236&4294967295,x=A+(M<<4&4294967295|M>>>28),M=F+(x^A^P)+O[4]+1272893353&4294967295,F=x+(M<<11&4294967295|M>>>21),M=P+(F^x^A)+O[7]+4139469664&4294967295,P=F+(M<<16&4294967295|M>>>16),M=A+(P^F^x)+O[10]+3200236656&4294967295,A=P+(M<<23&4294967295|M>>>9),M=x+(A^P^F)+O[13]+681279174&4294967295,x=A+(M<<4&4294967295|M>>>28),M=F+(x^A^P)+O[0]+3936430074&4294967295,F=x+(M<<11&4294967295|M>>>21),M=P+(F^x^A)+O[3]+3572445317&4294967295,P=F+(M<<16&4294967295|M>>>16),M=A+(P^F^x)+O[6]+76029189&4294967295,A=P+(M<<23&4294967295|M>>>9),M=x+(A^P^F)+O[9]+3654602809&4294967295,x=A+(M<<4&4294967295|M>>>28),M=F+(x^A^P)+O[12]+3873151461&4294967295,F=x+(M<<11&4294967295|M>>>21),M=P+(F^x^A)+O[15]+530742520&4294967295,P=F+(M<<16&4294967295|M>>>16),M=A+(P^F^x)+O[2]+3299628645&4294967295,A=P+(M<<23&4294967295|M>>>9),M=x+(P^(A|~F))+O[0]+4096336452&4294967295,x=A+(M<<6&4294967295|M>>>26),M=F+(A^(x|~P))+O[7]+1126891415&4294967295,F=x+(M<<10&4294967295|M>>>22),M=P+(x^(F|~A))+O[14]+2878612391&4294967295,P=F+(M<<15&4294967295|M>>>17),M=A+(F^(P|~x))+O[5]+4237533241&4294967295,A=P+(M<<21&4294967295|M>>>11),M=x+(P^(A|~F))+O[12]+1700485571&4294967295,x=A+(M<<6&4294967295|M>>>26),M=F+(A^(x|~P))+O[3]+2399980690&4294967295,F=x+(M<<10&4294967295|M>>>22),M=P+(x^(F|~A))+O[10]+4293915773&4294967295,P=F+(M<<15&4294967295|M>>>17),M=A+(F^(P|~x))+O[1]+2240044497&4294967295,A=P+(M<<21&4294967295|M>>>11),M=x+(P^(A|~F))+O[8]+1873313359&4294967295,x=A+(M<<6&4294967295|M>>>26),M=F+(A^(x|~P))+O[15]+4264355552&4294967295,F=x+(M<<10&4294967295|M>>>22),M=P+(x^(F|~A))+O[6]+2734768916&4294967295,P=F+(M<<15&4294967295|M>>>17),M=A+(F^(P|~x))+O[13]+1309151649&4294967295,A=P+(M<<21&4294967295|M>>>11),M=x+(P^(A|~F))+O[4]+4149444226&4294967295,x=A+(M<<6&4294967295|M>>>26),M=F+(A^(x|~P))+O[11]+3174756917&4294967295,F=x+(M<<10&4294967295|M>>>22),M=P+(x^(F|~A))+O[2]+718787259&4294967295,P=F+(M<<15&4294967295|M>>>17),M=A+(F^(P|~x))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+F&4294967295}s.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var A=x-this.blockSize,O=this.B,P=this.h,F=0;F<x;){if(P==0)for(;F<=A;)a(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<x;)if(O[P++]=D.charCodeAt(F++),P==this.blockSize){a(this,O),P=0;break}}else for(;F<x;)if(O[P++]=D[F++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=x},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var A=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=A&255,A/=256;for(this.u(D),D=Array(16),x=A=0;4>x;++x)for(var O=0;32>O;O+=8)D[A++]=this.g[x]>>>O&255;return D};function l(D,x){var A=f;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=x(D)}function c(D,x){this.h=x;for(var A=[],O=!0,P=D.length-1;0<=P;P--){var F=D[P]|0;O&&F==x||(A[P]=F,O=!1)}this.g=A}var f={};function m(D){return-128<=D&&128>D?l(D,function(x){return new c([x|0],0>x?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return I(g(-D));for(var x=[],A=1,O=0;D>=A;O++)x[O]=D/A|0,A*=4294967296;return new c(x,0)}function _(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return I(_(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(x,8)),O=w,P=0;P<D.length;P+=8){var F=Math.min(8,D.length-P),M=parseInt(D.substring(P,P+F),x);8>F?(F=g(Math.pow(x,F)),O=O.j(F).add(g(M))):(O=O.j(A),O=O.add(g(M)))}return O}var w=m(0),T=m(1),C=m(16777216);n=c.prototype,n.m=function(){if(V(this))return-I(this).m();for(var D=0,x=1,A=0;A<this.g.length;A++){var O=this.i(A);D+=(0<=O?O:4294967296+O)*x,x*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(V(this))return"-"+I(this).toString(D);for(var x=g(Math.pow(D,6)),A=this,O="";;){var P=ee(A,x).g;A=B(A,P.j(x));var F=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=P,N(A))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function V(D){return D.h==-1}n.l=function(D){return D=B(this,D),V(D)?-1:N(D)?0:1};function I(D){for(var x=D.g.length,A=[],O=0;O<x;O++)A[O]=~D.g[O];return new c(A,~D.h).add(T)}n.abs=function(){return V(this)?I(this):this},n.add=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],O=0,P=0;P<=x;P++){var F=O+(this.i(P)&65535)+(D.i(P)&65535),M=(F>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);O=M>>>16,F&=65535,M&=65535,A[P]=M<<16|F}return new c(A,A[A.length-1]&-2147483648?-1:0)};function B(D,x){return D.add(I(x))}n.j=function(D){if(N(this)||N(D))return w;if(V(this))return V(D)?I(this).j(I(D)):I(I(this).j(D));if(V(D))return I(this.j(I(D)));if(0>this.l(C)&&0>D.l(C))return g(this.m()*D.m());for(var x=this.g.length+D.g.length,A=[],O=0;O<2*x;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<D.g.length;P++){var F=this.i(O)>>>16,M=this.i(O)&65535,Tt=D.i(P)>>>16,gt=D.i(P)&65535;A[2*O+2*P]+=M*gt,$(A,2*O+2*P),A[2*O+2*P+1]+=F*gt,$(A,2*O+2*P+1),A[2*O+2*P+1]+=M*Tt,$(A,2*O+2*P+1),A[2*O+2*P+2]+=F*Tt,$(A,2*O+2*P+2)}for(O=0;O<x;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=x;O<2*x;O++)A[O]=0;return new c(A,0)};function $(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function Q(D,x){this.g=D,this.h=x}function ee(D,x){if(N(x))throw Error("division by zero");if(N(D))return new Q(w,w);if(V(D))return x=ee(I(D),x),new Q(I(x.g),I(x.h));if(V(x))return x=ee(D,I(x)),new Q(I(x.g),x.h);if(30<D.g.length){if(V(D)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var A=T,O=x;0>=O.l(D);)A=re(A),O=re(O);var P=te(A,1),F=te(O,1);for(O=te(O,2),A=te(A,2);!N(O);){var M=F.add(O);0>=M.l(D)&&(P=P.add(A),F=M),O=te(O,1),A=te(A,1)}return x=B(D,P.j(x)),new Q(P,x)}for(P=w;0<=D.l(x);){for(A=Math.max(1,Math.floor(D.m()/x.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=g(A),M=F.j(x);V(M)||0<M.l(D);)A-=O,F=g(A),M=F.j(x);N(F)&&(F=T),P=P.add(F),D=B(D,M)}return new Q(P,D)}n.A=function(D){return ee(this,D).h},n.and=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],O=0;O<x;O++)A[O]=this.i(O)&D.i(O);return new c(A,this.h&D.h)},n.or=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],O=0;O<x;O++)A[O]=this.i(O)|D.i(O);return new c(A,this.h|D.h)},n.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],O=0;O<x;O++)A[O]=this.i(O)^D.i(O);return new c(A,this.h^D.h)};function re(D){for(var x=D.g.length+1,A=[],O=0;O<x;O++)A[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(A,D.h)}function te(D,x){var A=x>>5;x%=32;for(var O=D.g.length-A,P=[],F=0;F<O;F++)P[F]=0<x?D.i(F+A)>>>x|D.i(F+A+1)<<32-x:D.i(F+A);return new c(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HT=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,mi=c}).apply(typeof Pb<"u"?Pb:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,ou,GT,Dh,Bp,KT,QT,YT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function a(h,v){if(v)e:{var b=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var H=h[R];if(!(H in b))break e;b=b[H]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var b=0,R=!1,H={next:function(){if(!R&&b<h.length){var Y=b++;return{value:v(Y,h[Y]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,b){return h.call.apply(h.bind,arguments)}function w(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function T(h,v,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function C(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function N(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,H,Y){for(var oe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)oe[Le-2]=arguments[Le];return v.prototype[H].apply(R,oe)}}function V(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function I(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(m(R)){const H=h.length||0,Y=R.length||0;h.length=H+Y;for(let oe=0;oe<Y;oe++)h[H+oe]=R[oe]}else h.push(R)}}class B{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ee(h){return ee[" "](h),h}ee[" "]=function(){};var re=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function te(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function D(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function x(h){const v={};for(const b in h)v[b]=h[b];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let b,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(b in R)h[b]=R[b];for(let Y=0;Y<A.length;Y++)b=A[Y],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function P(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function F(h){f.setTimeout(()=>{throw h},0)}function M(){var h=Ke;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Tt{constructor(){this.h=this.g=null}add(v,b){const R=gt.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var gt=new B(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ve=!1,Ke=new Tt,L=()=>{const h=f.Promise.resolve(void 0);we=()=>{h.then(ae)}};var ae=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(b){F(b)}var v=gt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ve=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h}();function Ce(h,v){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(re){e:{try{ee(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ce);var Re={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function lt(h,v,b,R,H){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=H,this.key=++qe,this.da=this.fa=!1}function Ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function an(h){this.src=h,this.g={},this.h=0}an.prototype.add=function(h,v,b,R,H){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var oe=kn(h,v,R,H);return-1<oe?(v=h[oe],b||(v.fa=!1)):(v=new lt(v,this.src,Y,!!R,H),v.fa=b,h.push(v)),v};function Br(h,v){var b=v.type;if(b in h.g){var R=h.g[b],H=Array.prototype.indexOf.call(R,v,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(R,H,1),Y&&(Ye(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function kn(h,v,b,R){for(var H=0;H<h.length;++H){var Y=h[H];if(!Y.da&&Y.listener==v&&Y.capture==!!b&&Y.ha==R)return H}return-1}var Ts="closure_lm_"+(1e6*Math.random()|0),xs={};function Fr(h,v,b,R,H){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)Fr(h,v[Y],b,R,H);return null}return b=Ku(b),h&&h[yt]?h.K(v,b,g(R)?!!R.capture:!1,H):Ko(h,v,b,!1,R,H)}function Ko(h,v,b,R,H,Y){if(!v)throw Error("Invalid event type");var oe=g(H)?!!H.capture:!!H,Le=Qo(h);if(Le||(h[Ts]=Le=new an(h)),b=Le.add(v,b,R,oe,Y),b.proxy)return b;if(R=Ra(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)he||(H=oe),H===void 0&&(H=!1),h.addEventListener(v.toString(),R,H);else if(h.attachEvent)h.attachEvent(Ca(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ra(){function h(b){return v.call(h.src,h.listener,b)}const v=Gd;return h}function Na(h,v,b,R,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Na(h,v[Y],b,R,H);else R=g(R)?!!R.capture:!!R,b=Ku(b),h&&h[yt]?(h=h.i,v=String(v).toString(),v in h.g&&(Y=h.g[v],b=kn(Y,b,R,H),-1<b&&(Ye(Y[b]),Array.prototype.splice.call(Y,b,1),Y.length==0&&(delete h.g[v],h.h--)))):h&&(h=Qo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=kn(v,b,R,H)),(b=-1<h?v[h]:null)&&Ri(b))}function Ri(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[yt])Br(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Ca(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=Qo(v))?(Br(b,h),b.h==0&&(b.src=null,v[Ts]=null)):Ye(h)}}}function Ca(h){return h in xs?xs[h]:xs[h]="on"+h}function Gd(h,v){if(h.da)h=!0;else{v=new Ce(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&Ri(h),h=b.call(R,v)}return h}function Qo(h){return h=h[Ts],h instanceof an?h:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(h){return typeof h=="function"?h:(h[mn]||(h[mn]=function(v){return h.handleEvent(v)}),h[mn])}function xt(){pe.call(this),this.i=new an(this),this.M=this,this.F=null}N(xt,pe),xt.prototype[yt]=!0,xt.prototype.removeEventListener=function(h,v,b,R){Na(this,h,v,b,R)};function Ot(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new ce(v,h);else if(v instanceof ce)v.target=v.target||h;else{var H=v;v=new ce(R,h),O(v,H)}if(H=!0,b)for(var Y=b.length-1;0<=Y;Y--){var oe=v.g=b[Y];H=qr(oe,R,!0,v)&&H}if(oe=v.g=h,H=qr(oe,R,!0,v)&&H,H=qr(oe,R,!1,v)&&H,b)for(Y=0;Y<b.length;Y++)oe=v.g=b[Y],H=qr(oe,R,!1,v)&&H}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Ye(b[R]);delete h.g[v],h.h--}}this.F=null},xt.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},xt.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function qr(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Y=0;Y<v.length;++Y){var oe=v[Y];if(oe&&!oe.da&&oe.capture==b){var Le=oe.listener,At=oe.ha||oe.src;oe.fa&&Br(h.i,oe),H=Le.call(At,R)!==!1&&H}}return H&&!R.defaultPrevented}function Qu(h,v,b){if(typeof h=="function")b&&(h=T(h,b));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Yo(h){h.g=Qu(()=>{h.g=null,h.i&&(h.i=!1,Yo(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Kd extends pe{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(h){pe.call(this),this.h=h,this.g={}}N(Ni,pe);var Ss=[];function Wt(h){te(h.g,function(v,b){this.g.hasOwnProperty(b)&&Ri(v)},h),h.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),Wt(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=f.JSON.stringify,pr=f.JSON.parse,on=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Wo(){}Wo.prototype.h=null;function Yu(h){return h.h||(h.h=h.i())}function Xu(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function As(){ce.call(this,"d")}N(As,ce);function er(){ce.call(this,"c")}N(er,ce);var Mn={},Rs=null;function Ia(){return Rs=Rs||new xt}Mn.La="serverreachability";function Zo(h){ce.call(this,Mn.La,h)}N(Zo,ce);function Ns(h){const v=Ia();Ot(v,new Zo(v))}Mn.STAT_EVENT="statevent";function Da(h,v){ce.call(this,Mn.STAT_EVENT,h),this.stat=v}N(Da,ce);function ft(h){const v=Ia();Ot(v,new Da(v,h))}Mn.Ma="timingevent";function Wu(h,v){ce.call(this,Mn.Ma,h),this.size=v}N(Wu,ce);function Cs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function Zu(h,v,b,R,H,Y){h.info(function(){if(h.g)if(Y)for(var oe="",Le=Y.split("&"),At=0;At<Le.length;At++){var Ue=Le[At].split("=");if(1<Ue.length){var Mt=Ue[0];Ue=Ue[1];var Rt=Mt.split("_");oe=2<=Rt.length&&Rt[1]=="type"?oe+(Mt+"="+Ue+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+b+`
`+oe})}function Ju(h,v,b,R,H,Y,oe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+b+`
`+Y+" "+oe})}function Ds(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+jt(h,b)+(R?" "+R:"")})}function yr(h,v){h.info(function(){return"TIMEOUT: "+v})}Is.prototype.info=function(){};function jt(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return Xo(b)}catch{return v}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function Oa(){}N(Oa,Wo),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Ci=new Oa;function vr(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var Os={},Ii={};function tr(h,v,b){h.L=1,h.v=ji(ut(v)),h.m=b,h.P=!0,$r(h,null)}function $r(h,v){h.F=Date.now(),rt(h),h.A=ut(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Qr(b.i,"t",R),h.C=0,b=h.j.J,h.h=new Jo,h.g=fc(h.j,b?v:null,!h.m),0<h.O&&(h.M=new Kd(T(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ss[0]=H.toString()),H=Ss);for(var Y=0;Y<H.length;Y++){var oe=Fr(b,H[Y],R||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ns(),Zu(h.i,h.u,h.A,h.l,h.R,h.m)}vr.prototype.ca=function(h){h=h.target;const v=this.M;v&&zn(h)==3?v.j():this.Y(h)},vr.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=zn(this.g);var v=this.g.Ba();const Zr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||Rt!=4||v==7||(v==8||0>=Zr?Ns(3):Ns(2)),ja(this);var b=this.g.Z();this.X=b;t:if(js(this)){var R=ic(this.g);h="";var H=R.length,Y=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),wn(this);var oe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(Y&&v==H-1)});R.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=b==200,Ju(this.i,this.u,this.A,this.l,this.R,Rt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,At=this.g;if((Le=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Le)){var Ue=Le;break t}}Ue=null}if(b=Ue)Ds(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tn(this,b);else{this.o=!1,this.s=3,ft(12),pn(this),wn(this);break e}}if(this.P){b=!0;let Ft;for(;!this.J&&this.C<oe.length;)if(Ft=ks(this,oe),Ft==Ii){Rt==4&&(this.s=4,ft(14),b=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Os){this.s=4,ft(15),Ds(this.i,this.l,oe,"[Invalid Chunk]"),b=!1;break}else Ds(this.i,this.l,Ft,null),Tn(this,Ft);if(js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||oe.length!=0||this.h.h||(this.s=1,ft(16),b=!1),this.o=this.o&&b,!b)Ds(this.i,this.l,oe,"[Invalid Chunked Response]"),pn(this),wn(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),zi(Mt),Mt.M=!0,ft(11))}}else Ds(this.i,this.l,oe,null),Tn(this,oe);Rt==4&&pn(this),this.o&&!this.J&&(Rt==4?cc(this.j,this):(this.o=!1,rt(this)))}else Jd(this.g),b==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),pn(this),wn(this)}}}catch{}finally{}};function js(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ks(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?Ii:(b=Number(v.substring(b,R)),isNaN(b)?Os:(R+=1,R+b>v.length?Ii:(v=v.slice(R,R+b),h.C=R+b,v)))}vr.prototype.cancel=function(){this.J=!0,pn(this)};function rt(h){h.S=Date.now()+h.I,el(h,h.I)}function el(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Cs(T(h.ba,h),v)}function ja(h){h.B&&(f.clearTimeout(h.B),h.B=null)}vr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(yr(this.i,this.A),this.L!=2&&(Ns(),ft(17)),pn(this),this.s=2,wn(this)):el(this,this.S-h)};function wn(h){h.j.G==0||h.J||cc(h.j,h)}function pn(h){ja(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Wt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Tn(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||Ms(b.h,h))){if(!h.K&&Ms(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)qa(b),Ba(b);else break e;hl(b),ft(18)}}else b.za=H[1],0<b.za-b.T&&37500>H[2]&&b.F&&b.v==0&&!b.C&&(b.C=Cs(T(b.Za,b),6e3));if(1>=ec(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Wr(b,11)}else if((h.K||b.g==h)&&qa(b),!$(v))for(H=b.Da.g.parse(v),v=0;v<H.length;v++){let Ue=H[v];if(b.T=Ue[0],Ue=Ue[1],b.G==2)if(Ue[0]=="c"){b.K=Ue[1],b.ia=Ue[2];const Mt=Ue[3];Mt!=null&&(b.la=Mt,b.j.info("VER="+b.la));const Rt=Ue[4];Rt!=null&&(b.Aa=Rt,b.j.info("SVER="+b.Aa));const Zr=Ue[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(R=1.5*Zr,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Ft=h.g;if(Ft){const Sr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var Y=R.h;Y.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ps(Y,Y.h),Y.h=null))}if(R.D){const fl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(R.ya=fl,He(R.I,R.D,fl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var oe=h;if(R.qa=dc(R,R.J?R.ia:null,R.W),oe.K){Pn(R.h,oe);var Le=oe,At=R.L;At&&(Le.I=At),Le.B&&(ja(Le),rt(Le)),R.g=oe}else lc(R);0<b.i.length&&Fa(b)}else Ue[0]!="stop"&&Ue[0]!="close"||Wr(b,7);else b.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Wr(b,7):ul(b):Ue[0]!="noop"&&b.l&&b.l.ta(Ue),b.v=0)}}Ns(4)}catch{}}var Qd=class{constructor(h,v){this.g=h,this.map=v}};function tl(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ec(h){return h.h?1:h.g?h.g.size:0}function Ms(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ps(h,v){h.g?h.g.add(v):h.h=v}function Pn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}tl.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ln(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return V(h.i)}function tc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function Yd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function Di(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=Yd(h),R=tc(h),H=R.length,Y=0;Y<H;Y++)v.call(void 0,R[Y],b&&b[Y],h)}var rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),H=null;if(0<=R){var Y=h[b].substring(0,R);H=h[b].substring(R+1)}else Y=h[b];v(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Gr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Gr){this.h=h.h,Vs(this,h.j),this.o=h.o,this.g=h.g,Oi(this,h.s),this.l=h.l;var v=h.i,b=new _r;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Ma(this,b),this.m=h.m}else h&&(v=String(h).match(rl))?(this.h=!1,Vs(this,v[1]||"",!0),this.o=Ls(v[2]||""),this.g=Ls(v[3]||"",!0),Oi(this,v[4]),this.l=Ls(v[5]||"",!0),Ma(this,v[6]||"",!0),this.m=Ls(v[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}Gr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Vn(v,sl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Vn(v,sl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Vn(b,b.charAt(0)=="/"?il:nc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Vn(b,Zd)),h.join("")};function ut(h){return new Gr(h)}function Vs(h,v,b){h.j=b?Ls(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Oi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ma(h,v,b){v instanceof _r?(h.i=v,al(h.i,h.h)):(b||(v=Vn(v,Wd)),h.i=new _r(v,h.h))}function He(h,v,b){h.i.set(v,b)}function ji(h){return He(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ls(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vn(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,Xd),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Xd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var sl=/[#\/\?@]/g,nc=/[#\?:]/g,il=/[#\?]/g,Wd=/[#\?@]/g,Zd=/#/g;function _r(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Ln(h){h.g||(h.g=new Map,h.h=0,h.i&&ka(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=_r.prototype,n.add=function(h,v){Ln(this),this.i=null,h=Yr(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Pa(h,v){Ln(h),v=Yr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Kr(h,v){return Ln(h),v=Yr(h,v),h.g.has(v)}n.forEach=function(h,v){Ln(this),this.g.forEach(function(b,R){b.forEach(function(H){h.call(v,H,R,this)},this)},this)},n.na=function(){Ln(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const H=h[R];for(let Y=0;Y<H.length;Y++)b.push(v[R])}return b},n.V=function(h){Ln(this);let v=[];if(typeof h=="string")Kr(this,h)&&(v=v.concat(this.g.get(Yr(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},n.set=function(h,v){return Ln(this),this.i=null,h=Yr(this,h),Kr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Qr(h,v,b){Pa(h,v),0<b.length&&(h.i=null,h.g.set(Yr(h,v),V(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const Y=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var H=Y;oe[R]!==""&&(H+="="+encodeURIComponent(String(oe[R]))),h.push(H)}}return this.i=h.join("&")};function Yr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function al(h,v){v&&!h.j&&(Ln(h),h.i=null,h.g.forEach(function(b,R){var H=R.toLowerCase();R!=H&&(Pa(this,R),Qr(this,H,b))},h)),h.j=v}function rc(h,v){const b=new Is;if(f.Image){const R=new Image;R.onload=C(Un,b,"TestLoadImage: loaded",!0,v,R),R.onerror=C(Un,b,"TestLoadImage: error",!1,v,R),R.onabort=C(Un,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=C(Un,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function ki(h,v){const b=new Is,R=new AbortController,H=setTimeout(()=>{R.abort(),Un(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(Y=>{clearTimeout(H),Y.ok?Un(b,"TestPingServer: ok",!0,v):Un(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Un(b,"TestPingServer: error",!1,v)})}function Un(h,v,b,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(b)}catch{}}function Mi(){this.g=new on}function br(h,v,b){const R=b||"";try{Di(h,function(H,Y){let oe=H;g(H)&&(oe=Xo(H)),v.push(R+Y+"="+encodeURIComponent(oe))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function Us(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Us,Wo),Us.prototype.g=function(){return new Xr(this.l,this.j)},Us.prototype.i=function(h){return function(){return h}}({});function Xr(h,v){xt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Xr,xt),n=Xr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,wr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Er(this):wr(this),this.readyState==3&&ol(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Er(this))},n.Qa=function(h){this.g&&(this.response=h,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(h){h.readyState=4,h.l=null,h.j=null,h.v=null,wr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function wr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ll(h){let v="";return te(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function kt(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ll(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):He(h,v,b))}function Qe(h){xt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Qe,xt);var Va=/^https?$/i,Pi=["POST","PUT"];n=Qe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?Yu(this.o):Yu(Ci),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){sc(this,Y);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)b.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())b.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Pi,v,void 0))||R||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of b)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vi(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){sc(this,Y)}};function sc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,La(h),Tr(h)}function La(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),Tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(h){if(h.h&&typeof c<"u"&&(!h.v[1]||zn(h)!=4||h.Z()!=2)){if(h.u&&zn(h)==4)Qu(h.Ea,0,h);else if(Ot(h,"readystatechange"),zn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=oe===0){var H=String(h.D).match(rl)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),R=!Va.test(H?H.toLowerCase():"")}b=R}if(b)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var Y=2<zn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",La(h)}}finally{Tr(h)}}}}function Tr(h,v){if(h.g){Vi(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ot(h,"ready");try{b.onreadystatechange=R}catch{}}}function Vi(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function zn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),pr(v)}};function ic(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Jd(h){const v={};h=(h.g&&2<=zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if($(h[R]))continue;var b=P(h[R]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=v[H]||[];v[H]=Y,Y.push(b)}D(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function za(h){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Li("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Li("baseRetryDelayMs",5e3,h),this.cb=Li("retryDelaySeedMs",1e4,h),this.Wa=Li("forwardChannelMaxRetries",2,h),this.wa=Li("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(h&&h.concurrentRequestLimit),this.Da=new Mi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=za.prototype,n.la=8,n.G=1,n.connect=function(h,v,b,R){ft(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=dc(this,null,this.W),Fa(this)};function ul(h){if(ac(h),h.G==3){var v=h.U++,b=ut(h.I);if(He(b,"SID",h.K),He(b,"RID",v),He(b,"TYPE","terminate"),Ui(h,b),v=new vr(h,h.j,v),v.L=2,v.v=ji(ut(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=fc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),rt(v)}hc(h)}function Ba(h){h.g&&(zi(h),h.g.cancel(),h.g=null)}function ac(h){Ba(h),h.u&&(f.clearTimeout(h.u),h.u=null),qa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Fa(h){if(!nl(h.h)&&!h.s){h.s=!0;var v=h.Ga;we||L(),ve||(we(),ve=!0),Ke.add(v,h),h.B=0}}function ef(h,v){return ec(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Cs(T(h.Ga,h,v),dl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new vr(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=x(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=oc(this,H,v),b=ut(this.I),He(b,"RID",h),He(b,"CVER",22),this.D&&He(b,"X-HTTP-Session-Id",this.D),Ui(this,b),Y&&(this.O?v="headers="+encodeURIComponent(String(ll(Y)))+"&"+v:this.m&&kt(b,this.m,Y)),Ps(this.h,H),this.Ua&&He(b,"TYPE","init"),this.P?(He(b,"$req",v),He(b,"SID","null"),H.T=!0,tr(H,b,null)):tr(H,b,v),this.G=2}}else this.G==3&&(h?cl(this,h):this.i.length==0||nl(this.h)||cl(this))};function cl(h,v){var b;v?b=v.l:b=h.U++;const R=ut(h.I);He(R,"SID",h.K),He(R,"RID",b),He(R,"AID",h.T),Ui(h,R),h.m&&h.o&&kt(R,h.m,h.o),b=new vr(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=oc(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ps(h.h,b),tr(b,R,v)}function Ui(h,v){h.H&&te(h.H,function(b,R){He(v,R,b)}),h.l&&Di({},function(b,R){He(v,R,b)})}function oc(h,v,b){b=Math.min(h.i.length,b);var R=h.l?T(h.l.Na,h.l,h):null;e:{var H=h.i;let Y=-1;for(;;){const oe=["count="+b];Y==-1?0<b?(Y=H[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Le=!0;for(let At=0;At<b;At++){let Ue=H[At].g;const Mt=H[At].map;if(Ue-=Y,0>Ue)Y=Math.max(0,H[At].g-100),Le=!1;else try{br(Mt,oe,"req"+Ue+"_")}catch{R&&R(Mt)}}if(Le){R=oe.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function lc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;we||L(),ve||(we(),ve=!0),Ke.add(v,h),h.v=0}}function hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Cs(T(h.Fa,h),dl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Cs(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ba(this),uc(this))};function zi(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function uc(h){h.g=new vr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=ut(h.qa);He(v,"RID","rpc"),He(v,"SID",h.K),He(v,"AID",h.T),He(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&He(v,"TO",h.ja),He(v,"TYPE","xmlhttp"),Ui(h,v),h.m&&h.o&&kt(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=ji(ut(v)),b.m=null,b.P=!0,$r(b,h)}n.Za=function(){this.C!=null&&(this.C=null,Ba(this),hl(this),ft(19))};function qa(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function cc(h,v){var b=null;if(h.g==v){qa(h),zi(h),h.g=null;var R=2}else if(Ms(h.h,v))b=v.D,Pn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;R=Ia(),Ot(R,new Wu(R,b)),Fa(h)}else lc(h);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&ef(h,v)||R==2&&hl(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),H){case 1:Wr(h,5);break;case 4:Wr(h,10);break;case 3:Wr(h,6);break;default:Wr(h,2)}}}function dl(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function Wr(h,v){if(h.j.info("Error code "+v),v==2){var b=T(h.fb,h),R=h.Xa;const H=!R;R=new Gr(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Vs(R,"https"),ji(R),H?rc(R.toString(),b):ki(R.toString(),b)}else ft(2);h.G=0,h.l&&h.l.sa(v),hc(h),ac(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function hc(h){if(h.G=0,h.ka=[],h.l){const v=ln(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function dc(h,v,b){var R=b instanceof Gr?ut(b):new Gr(b);if(R.g!="")v&&(R.g=v+"."+R.g),Oi(R,R.s);else{var H=f.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Y=new Gr(null);R&&Vs(Y,R),v&&(Y.g=v),H&&Oi(Y,H),b&&(Y.l=b),R=Y}return b=h.D,v=h.ya,b&&v&&He(R,b,v),He(R,"VER",h.la),Ui(h,R),R}function fc(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Qe(new Us({eb:b})):new Qe(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}n=mc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ha(){}Ha.prototype.g=function(h,v){return new un(h,v)};function un(h,v){xt.call(this),this.g=new za(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!$(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new xr(this)}N(un,xt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){ul(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Xo(h),h=b);v.i.push(new Qd(v.Ya++,h)),v.G==3&&Fa(v)},un.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,un.aa.N.call(this)};function pc(h){As.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}N(pc,As);function gc(){er.call(this),this.status=1}N(gc,er);function xr(h){this.g=h}N(xr,mc),xr.prototype.ua=function(){Ot(this.g,"a")},xr.prototype.ta=function(h){Ot(this.g,new pc(h))},xr.prototype.sa=function(h){Ot(this.g,new gc)},xr.prototype.ra=function(){Ot(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,YT=function(){return new Ha},QT=function(){return Ia()},KT=Mn,Bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,Dh=St,Hr.COMPLETE="complete",GT=Hr,Xu.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",xt.prototype.listen=xt.prototype.K,ou=Xu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,$T=Qe}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore",Lb="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new bd("@firebase/firestore");function vo(){return ga.logLevel}function de(n,...e){if(ga.logLevel<=ke.DEBUG){const t=e.map(Og);ga.debug(`Firestore (${qo}): ${n}`,...t)}}function Es(n,...e){if(ga.logLevel<=ke.ERROR){const t=e.map(Og);ga.error(`Firestore (${qo}): ${n}`,...t)}}function No(n,...e){if(ga.logLevel<=ke.WARN){const t=e.map(Og);ga.warn(`Firestore (${qo}): ${n}`,...t)}}function Og(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+n;throw Es(e),new Error(e)}function Fe(n,e){n||_e()}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class Nj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Cj{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new XT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new tn(e)}}class Ij{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Dj{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new Ij(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oj{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ub(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new Ub(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=jj(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ve(n,e){return n<e?-1:n>e?1:0}function Co(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=-62135596800,Bb=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Bb);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zb)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bb}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new It(0,0))}static max(){return new Ee(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="__name__";class Or{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(),s===void 0?s=e.length-t:s>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Or.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Or.isNumericId(e),a=Or.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Or.extractNumericId(e).compare(Or.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mi.fromString(e.substring(4,e.length-2))}}class Je extends Or{construct(e,t,s){return new Je(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Or{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fb}static keyField(){return new Kt([Fb])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function Mj(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new yi(a,ye.empty(),e)}function Pj(n){return new yi(n.readTime,n.key,Tu)}class yi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new yi(Ee.min(),ye.empty(),Tu)}static max(){return new yi(Ee.max(),ye.empty(),Tu)}}function Vj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==Lj)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,s)=>{t(e)})}static reject(e){return new se((t,s)=>{s(e)})}static waitFor(e){return new se((t,s)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},m=>s(m))}),c=!0,l===a&&t()})}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next(a=>a?se.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new se((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++f,f===l&&s(c)},_=>a(_))}})}static doWhile(e,t){return new se((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function zj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $o(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ad.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Vu(n){return n==null}function Yh(n){return n===0&&1/n==-1/0}function Bj(n){return typeof n=="number"&&Number.isInteger(n)&&!Yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="";function Fj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qb(e)),e=qj(n.get(t),e);return qb(e)}function qj(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case ZT:t+="";break;default:t+=l}}return t}function qb(n){return n+ZT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Si(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=a??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Gt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Gt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,s,a,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(e){return new $b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class $b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Dt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ex("Invalid base64 string: "+l):l}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Hj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(n){if(Fe(!!n),typeof n=="string"){let e=0;const t=Hj.exec(n);if(Fe(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _i(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="server_timestamp",nx="__type__",rx="__previous_value__",sx="__local_write_time__";function kg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nx])===null||t===void 0?void 0:t.stringValue)===tx}function Rd(n){const e=n.mapValue.fields[rx];return kg(e)?Rd(e):e}function xu(n){const e=vi(n.mapValue.fields[sx].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,t,s,a,l,c,f,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g}}const Xh="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||Xh}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__type__",Gj="__max__",vh={mapValue:{}},ax="__vector__",Wh="value";function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kg(n)?4:Qj(n)?9007199254740991:Kj(n)?10:11:_e()}function Lr(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xu(n).isEqual(xu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=vi(a.timestampValue),f=vi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return _i(a.bytesValue).isEqual(_i(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return pt(a.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(a.geoPointValue.longitude)===pt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return pt(a.integerValue)===pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=pt(a.doubleValue),f=pt(l.doubleValue);return c===f?Yh(c)===Yh(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Co(n.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Hb(c)!==Hb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Lr(c[m],f[m])))return!1;return!0}(n,e);default:return _e()}}function Au(n,e){return(n.values||[]).find(t=>Lr(t,e))!==void 0}function Io(n,e){if(n===e)return 0;const t=bi(n),s=bi(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=pt(l.integerValue||l.doubleValue),m=pt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return Gb(n.timestampValue,e.timestampValue);case 4:return Gb(xu(n),xu(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,c){const f=_i(l),m=_i(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const _=Ve(f[g],m[g]);if(_!==0)return _}return Ve(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ve(pt(l.latitude),pt(c.latitude));return f!==0?f:Ve(pt(l.longitude),pt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Kb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,g,_;const w=l.fields||{},T=c.fields||{},C=(f=w[Wh])===null||f===void 0?void 0:f.arrayValue,N=(m=T[Wh])===null||m===void 0?void 0:m.arrayValue,V=Ve(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:Kb(C,N)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===vh.mapValue&&c===vh.mapValue)return 0;if(l===vh.mapValue)return 1;if(c===vh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let w=0;w<m.length&&w<_.length;++w){const T=Ve(m[w],_[w]);if(T!==0)return T;const C=Io(f[m[w]],g[_[w]]);if(C!==0)return C}return Ve(m.length,_.length)}(n.mapValue,e.mapValue);default:throw _e()}}function Gb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=vi(n),s=vi(e),a=Ve(t.seconds,s.seconds);return a!==0?a:Ve(t.nanos,s.nanos)}function Kb(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Io(t[a],s[a]);if(l)return l}return Ve(t.length,s.length)}function Do(n){return Fp(n)}function Fp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=vi(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _i(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Fp(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Fp(t.fields[c])}`;return a+"}"}(n.mapValue):_e()}function Oh(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(n);return e?16+Oh(e):16;case 5:return 2*n.stringValue.length;case 6:return _i(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Oh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Si(s.fields,(l,c)=>{a+=l.length+Oh(c)}),a}(n.mapValue);default:throw _e()}}function Qb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qp(n){return!!n&&"integerValue"in n}function Mg(n){return!!n&&"arrayValue"in n}function Yb(n){return!!n&&"nullValue"in n}function Xb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jh(n){return!!n&&"mapValue"in n}function Kj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ix])===null||t===void 0?void 0:t.stringValue)===ax}function fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Si(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fu(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Gj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Kt.emptyPath(),s={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=f.popLast()}c?s[f.lastSegment()]=fu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Si(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new dn(fu(this.value))}}function ox(n){const e=[];return Si(n.fields,(t,s)=>{const a=new Kt([t]);if(jh(s)){const l=ox(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,s,a,l,c,f){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Bt(e,0,Ee.min(),Ee.min(),Ee.min(),dn.empty(),0)}static newFoundDocument(e,t,s,a){return new Bt(e,1,t,Ee.min(),s,a,0)}static newNoDocument(e,t){return new Bt(e,2,t,Ee.min(),Ee.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Ee.min(),Ee.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.position=e,this.inclusive=t}}function Wb(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),t.key):s=Io(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{}class wt extends lx{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Wj(e,t,s):t==="array-contains"?new ek(e,s):t==="in"?new tk(e,s):t==="not-in"?new nk(e,s):t==="array-contains-any"?new rk(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Zj(e,s):new Jj(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Io(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends lx{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ur(e,t)}matches(e){return ux(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ux(n){return n.op==="and"}function cx(n){return Xj(n)&&ux(n)}function Xj(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function Hp(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(cx(n))return n.filters.map(e=>Hp(e)).join(",");{const e=n.filters.map(t=>Hp(t)).join(",");return`${n.op}(${e})`}}function hx(n,e){return n instanceof wt?function(s,a){return a instanceof wt&&s.op===a.op&&s.field.isEqual(a.field)&&Lr(s.value,a.value)}(n,e):n instanceof ur?function(s,a){return a instanceof ur&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,f)=>l&&hx(c,a.filters[f]),!0):!1}(n,e):void _e()}function dx(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof ur?function(t){return t.op.toString()+" {"+t.getFilters().map(dx).join(" ,")+"}"}(n):"Filter"}class Wj extends wt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zj extends wt{constructor(e,t){super(e,"in",t),this.keys=fx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Jj extends wt{constructor(e,t){super(e,"not-in",t),this.keys=fx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class ek extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mg(t)&&Au(t.arrayValue,this.value)}}class tk extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class nk extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Au(this.value.arrayValue,t)}}class rk extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function Jb(n,e=null,t=[],s=[],a=null,l=null,c=null){return new sk(n,e,t,s,a,l,c)}function Pg(n){const e=xe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Hp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Vu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Do(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Do(s)).join(",")),e.le=t}return e.le}function Vg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zb(n.startAt,e.startAt)&&Zb(n.endAt,e.endAt)}function $p(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ik(n,e,t,s,a,l,c,f){return new Lu(n,e,t,s,a,l,c,f)}function Nd(n){return new Lu(n)}function eE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mx(n){return n.collectionGroup!==null}function mu(n){const e=xe(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Dt(Kt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Jh(l,s))}),t.has(Kt.keyField().canonicalString())||e.he.push(new Jh(Kt.keyField(),s))}return e.he}function Pr(n){const e=xe(n);return e.Pe||(e.Pe=ak(e,mu(n))),e.Pe}function ak(n,e){if(n.limitType==="F")return Jb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Jh(a.field,l)});const t=n.endAt?new Zh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Zh(n.startAt.position,n.startAt.inclusive):null;return Jb(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Gp(n,e){const t=n.filters.concat([e]);return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kp(n,e,t){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cd(n,e){return Vg(Pr(n),Pr(e))&&n.limitType===e.limitType}function px(n){return`${Pg(Pr(n))}|lt:${n.limitType}`}function _o(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>dx(a)).join(", ")}]`),Vu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Do(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Do(a)).join(",")),`Target(${s})`}(Pr(n))}; limitType=${n.limitType})`}function Id(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of mu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(c,f,m){const g=Wb(c,f,m);return c.inclusive?g<=0:g<0}(s.startAt,mu(s),a)||s.endAt&&!function(c,f,m){const g=Wb(c,f,m);return c.inclusive?g>=0:g>0}(s.endAt,mu(s),a))}(n,e)}function ok(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gx(n){return(e,t)=>{let s=!1;for(const a of mu(n)){const l=lk(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function lk(n,e,t){const s=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Io(m,g):_e()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return JT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new ot(ye.comparator);function ws(){return uk}const yx=new ot(ye.comparator);function lu(...n){let e=yx;for(const t of n)e=e.insert(t.key,t);return e}function vx(n){let e=yx;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function la(){return pu()}function _x(){return pu()}function pu(){return new Ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const ck=new ot(ye.comparator),hk=new Dt(ye.comparator);function Me(...n){let e=hk;for(const t of n)e=e.add(t);return e}const dk=new Dt(Ve);function fk(){return dk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function bx(n){return{integerValue:""+n}}function mk(n,e){return Bj(e)?bx(e):Lg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function pk(n,e,t){return n instanceof ed?function(a,l){const c={fields:{[nx]:{stringValue:tx},[sx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&kg(l)&&(l=Rd(l)),l&&(c.fields[rx]=l),{mapValue:c}}(t,e):n instanceof Oo?wx(n,e):n instanceof jo?Tx(n,e):function(a,l){const c=Ex(a,l),f=tE(c)+tE(a.Ie);return qp(c)&&qp(a.Ie)?bx(f):Lg(a.serializer,f)}(n,e)}function gk(n,e,t){return n instanceof Oo?wx(n,e):n instanceof jo?Tx(n,e):t}function Ex(n,e){return n instanceof td?function(s){return qp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class ed extends Dd{}class Oo extends Dd{constructor(e){super(),this.elements=e}}function wx(n,e){const t=xx(e);for(const s of n.elements)t.some(a=>Lr(a,s))||t.push(s);return{arrayValue:{values:t}}}class jo extends Dd{constructor(e){super(),this.elements=e}}function Tx(n,e){let t=xx(e);for(const s of n.elements)t=t.filter(a=>!Lr(a,s));return{arrayValue:{values:t}}}class td extends Dd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function tE(n){return pt(n.integerValue||n.doubleValue)}function xx(n){return Mg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.field=e,this.transform=t}}function yk(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof Oo&&a instanceof Oo||s instanceof jo&&a instanceof jo?Co(s.elements,a.elements,Lr):s instanceof td&&a instanceof td?Lr(s.Ie,a.Ie):s instanceof ed&&a instanceof ed}(n.transform,e.transform)}class vk{constructor(e,t){this.version=e,this.transformResults=t}}class Qt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qt}static exists(e){return new Qt(void 0,e)}static updateTime(e){return new Qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Od{}function Ax(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new jd(n.key,Qt.none()):new Uu(n.key,n.data,Qt.none());{const t=n.data,s=dn.empty();let a=new Dt(Kt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ai(n.key,s,new Cn(a.toArray()),Qt.none())}}function _k(n,e,t){n instanceof Uu?function(a,l,c){const f=a.value.clone(),m=rE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ai?function(a,l,c){if(!kh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=rE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Rx(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function gu(n,e,t,s){return n instanceof Uu?function(l,c,f,m){if(!kh(l.precondition,c))return f;const g=l.value.clone(),_=sE(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ai?function(l,c,f,m){if(!kh(l.precondition,c))return f;const g=sE(l.fieldTransforms,m,c),_=c.data;return _.setAll(Rx(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,s):function(l,c,f){return kh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function bk(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=Ex(s.transform,a||null);l!=null&&(t===null&&(t=dn.empty()),t.set(s.field,l))}return t||null}function nE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Co(s,a,(l,c)=>yk(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uu extends Od{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ai extends Od{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Rx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function rE(n,e,t){const s=new Map;Fe(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,gk(c,f,t[a]))}return s}function sE(n,e,t){const s=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);s.set(a.field,pk(l,c,e))}return s}class jd extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&_k(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=_x();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=Ax(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,s)=>nE(t,s))&&Co(this.baseMutations,e.baseMutations,(t,s)=>nE(t,s))}}class Ug{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Fe(e.mutations.length===s.length);let a=function(){return ck}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Ug(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Be;function Cx(n){switch(n){case J.OK:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e()}}function Ix(n){if(n===void 0)return Es("GRPC error has no .code"),J.UNKNOWN;switch(n){case Et.OK:return J.OK;case Et.CANCELLED:return J.CANCELLED;case Et.UNKNOWN:return J.UNKNOWN;case Et.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Et.INTERNAL:return J.INTERNAL;case Et.UNAVAILABLE:return J.UNAVAILABLE;case Et.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Et.NOT_FOUND:return J.NOT_FOUND;case Et.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Et.ABORTED:return J.ABORTED;case Et.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Et.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(Be=Et||(Et={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new mi([4294967295,4294967295],0);function iE(n){const e=xk().encode(n),t=new HT;return t.update(e),new Uint8Array(t.digest())}function aE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new mi([t,s],0),new mi([a,l],0)]}class zg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=mi.fromNumber(this.Ee)}Ae(e,t,s){let a=e.add(t.multiply(mi.fromNumber(s)));return a.compare(Sk)===1&&(a=new mi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=iE(e),[s,a]=aE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new zg(l,a,t);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const t=iE(e),[s,a]=aE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new kd(Ee.min(),a,new ot(Ve),ws(),Me())}}class zu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new zu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,s,a){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=a}}class Dx{constructor(e,t){this.targetId=e,this.ge=t}}class Ox{constructor(e,t,s=Xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class oE{constructor(){this.pe=0,this.ye=lE(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),t=Me(),s=Me();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:_e()}}),new zu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=lE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ak{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ws(),this.$e=_h(),this.Ke=_h(),this.Ue=new ot(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,s=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if($p(l))if(s===0){const c=new ye(l.path);this.ze(t,c,Bt.newNoDocument(c,Ee.min()))}else Fe(s===1);else{const c=this.et(t);if(c!==s){const f=this.tt(e),m=f?this.nt(f,e,c):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=_i(s).toUint8Array()}catch(m){if(m instanceof ex)return No("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new zg(c,a,l)}catch(m){return No(m instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&$p(f.target)){const m=new ye(f.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,Bt.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let s=Me();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new kd(e,t,this.Ue,this.Qe,s);return this.Qe=ws(),this.$e=_h(),this.Ke=_h(),this.Ue=new ot(Ve),a}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new oE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new oE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function _h(){return new ot(ye.comparator)}function lE(){return new ot(ye.comparator)}const Rk={asc:"ASCENDING",desc:"DESCENDING"},Nk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ck={and:"AND",or:"OR"};class Ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qp(n,e){return n.useProto3Json||Vu(e)?e:{value:e}}function nd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dk(n,e){return nd(n,e.toTimestamp())}function On(n){return Fe(!!n),Ee.fromTimestamp(function(t){const s=vi(t);return new It(s.seconds,s.nanos)}(n))}function Bg(n,e){return Yp(n,e).canonicalString()}function Yp(n,e){const t=function(a){return new Je(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kx(n){const e=Je.fromString(n);return Fe(zx(e)),e}function rd(n,e){return Bg(n.databaseId,e.path)}function yu(n,e){const t=kx(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(Px(t))}function Mx(n,e){return Bg(n.databaseId,e)}function Ok(n){const e=kx(n);return e.length===4?Je.emptyPath():Px(e)}function Xp(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Px(n){return Fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uE(n,e,t){return{name:rd(n,e),fields:t.value.mapValue.fields}}function jk(n,e){return"found"in e?function(s,a){Fe(!!a.found),a.found.name,a.found.updateTime;const l=yu(s,a.found.name),c=On(a.found.updateTime),f=a.found.createTime?On(a.found.createTime):Ee.min(),m=new dn({mapValue:{fields:a.found.fields}});return Bt.newFoundDocument(l,c,f,m)}(n,e):"missing"in e?function(s,a){Fe(!!a.missing),Fe(!!a.readTime);const l=yu(s,a.missing),c=On(a.readTime);return Bt.newNoDocument(l,c)}(n,e):_e()}function kk(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string"),Xt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Xt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const _=g.code===void 0?J.UNKNOWN:Ix(g.code);return new ue(_,g.message||"")}(c);t=new Ox(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=yu(n,s.document.name),l=On(s.document.updateTime),c=s.document.createTime?On(s.document.createTime):Ee.min(),f=new dn({mapValue:{fields:s.document.fields}}),m=Bt.newFoundDocument(a,l,c,f),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Mh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=yu(n,s.document),l=s.readTime?On(s.readTime):Ee.min(),c=Bt.newNoDocument(a,l),f=s.removedTargetIds||[];t=new Mh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=yu(n,s.document),l=s.removedTargetIds||[];t=new Mh([],l,a,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Tk(a,l),f=s.targetId;t=new Dx(f,c)}}return t}function Vx(n,e){let t;if(e instanceof Uu)t={update:uE(n,e.key,e.value)};else if(e instanceof jd)t={delete:rd(n,e.key)};else if(e instanceof Ai)t={update:uE(n,e.key,e.data),updateMask:qk(e.fieldMask)};else{if(!(e instanceof Nx))return _e();t={verify:rd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const f=c.transform;if(f instanceof ed)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Oo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof jo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof td)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw _e()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Dk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e()}(n,e.precondition)),t}function Mk(n,e){return n&&n.length>0?(Fe(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?On(a.updateTime):On(l);return c.isEqual(Ee.min())&&(c=On(l)),new vk(c,a.transformResults||[])}(t,e))):[]}function Pk(n,e){return{documents:[Mx(n,e.path)]}}function Vk(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Mx(n,a);const l=function(g){if(g.length!==0)return Ux(ur.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:bo(T.field),direction:zk(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Qp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function Lk(n){let e=Ok(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Fe(s===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const T=Lx(w);return T instanceof ur&&cx(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(N){return new Jh(Eo(N.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Vu(T)?null:T}(t.limit));let m=null;t.startAt&&(m=function(w){const T=!!w.before,C=w.values||[];return new Zh(C,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,C=w.values||[];return new Zh(C,T)}(t.endAt)),ik(e,a,c,l,f,"F",m,g)}function Uk(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Eo(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Eo(t.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(n):n.fieldFilter!==void 0?function(t){return wt.create(Eo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ur.create(t.compositeFilter.filters.map(s=>Lx(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(n):_e()}function zk(n){return Rk[n]}function Bk(n){return Nk[n]}function Fk(n){return Ck[n]}function bo(n){return{fieldPath:n.canonicalString()}}function Eo(n){return Kt.fromServerFormat(n.fieldPath)}function Ux(n){return n instanceof wt?function(t){if(t.op==="=="){if(Xb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(Yb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(Yb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:Bk(t.op),value:t.value}}}(n):n instanceof ur?function(t){const s=t.getFilters().map(a=>Ux(a));return s.length===1?s[0]:{compositeFilter:{op:Fk(t.op),filters:s}}}(n):_e()}function qk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,s,a,l=Ee.min(),c=Ee.min(),f=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.Tt=e}}function $k(n){const e=Lk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.Tn=new Kk}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(yi.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Kk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Dt(Je.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Dt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bx=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Bx,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ko(0)}static Un(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",Qk=1048576;function dE([n,e],[t,s]){const a=Ve(n,t);return a===0?Ve(e,s):a}class Yk{constructor(e){this.Hn=e,this.buffer=new Dt(dE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();dE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(hE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$o(t)?de(hE,"Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.er(3e5)})}}class Wk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Ad.ae);const s=new Yk(t);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(cE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,a,l,c,f,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,c=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(s=w,f=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),vo()<=ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function Zk(n,e){return new Wk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&gu(s.mutation,a,Cn.empty(),It.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const a=la();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=lu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=la();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,s,a){let l=ws();const c=pu(),f=function(){return pu()}();return t.forEach((m,g)=>{const _=s.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof Ai)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),gu(_.mutation,g,_.mutation.getFieldMask(),It.now())):c.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var w;return f.set(g,new e4(_,(w=c.get(g))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const s=pu();let a=new ot((c,f)=>c-f),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=s.get(m)||Cn.empty();_=f.applyToLocalView(g,_),s.set(m,_);const w=(a.get(f.batchId)||Me()).add(m);a=a.insert(f.batchId,w)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,_=m.value,w=_x();_.forEach(T=>{if(!l.has(T)){const C=Ax(t.get(T),s.get(T));C!==null&&w.set(T,C),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return se.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):se.resolve(la());let f=Tu,m=l;return c.next(g=>se.forEach(g,(_,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{m=m.insert(_,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Me())).next(_=>({batchId:f,changes:vx(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let a=lu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(e,l).next(f=>se.forEach(f,m=>{const g=function(w,T){return new Lu(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(_=>{_.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Bt.newInvalidDocument(_)))});let f=lu();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&gu(_.mutation,g,Cn.empty(),It.now()),Id(t,g)&&(f=f.insert(m,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:On(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:$k(a.bundledQuery),readTime:On(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=la();return se.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.Et(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const a=la(),l=t.length+1,c=new ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new ot((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=la(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=la(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>f.set(g,_)),!(f.size()>=a)););return se.resolve(f)}Et(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new wk(t,s));let l=this.Rr.get(t);l===void 0&&(l=Me(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Vr=new Dt(zt.mr),this.gr=new Dt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new zt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new zt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ye(new Je([])),s=new zt(t,e),a=new zt(t,e+1),l=[];return this.gr.forEachInRange([s,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Je([])),s=new zt(t,e),a=new zt(t,e+1);let l=Me();return this.gr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new zt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(zt.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ek(l,t,s,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new zt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Nr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?jg:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zt(t,0),a=new zt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,a],c=>{const f=this.Or(c.Cr);l.push(f)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Ve);return t.forEach(a=>{const l=new zt(a,0),c=new zt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{s=s.add(f.Cr)})}),se.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new zt(new ye(l),0);let f=new Dt(Ve);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Cr)),!0)},c),se.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Fe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return se.forEach(t.mutations,a=>{const l=new zt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new zt(t,0),a=this.Mr.firstAfterOrEqual(s);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let s=ws();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Bt.newInvalidDocument(a))}),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ws();const c=t.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Vj(Pj(_),s)<=0||(a.has(_.key)||Id(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,s,a){_e()}qr(e,t){return se.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new o4(this)}getSize(e){return se.resolve(this.size)}}class o4 extends Jk{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.persistence=e,this.Qr=new Ta(t=>Pg(t),Vg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Fg,this.targetCount=0,this.Ur=ko.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),se.waitFor(l).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),se.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ad(0),this.zr=!1,this.zr=!0,this.jr=new s4,this.referenceDelegate=e(this),this.Hr=new l4(this),this.indexManager=new Gk,this.remoteDocumentCache=function(a){return new a4(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Hk(t),this.Yr=new n4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new i4(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const a=new u4(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return se.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class u4 extends Uj{constructor(e){super(),this.currentSequenceNumber=e}}class qg{constructor(e){this.persistence=e,this.ti=new Fg,this.ni=null}static ri(e){return new qg(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,s=>{const a=ye.fromPath(s);return this.si(e,a).next(l=>{l||t.removeEntry(a,Ee.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sd{constructor(e,t){this.persistence=e,this.oi=new Ta(s=>Fj(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Zk(this,t)}static ri(e,t){return new sd(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(l=>l?se.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(f=>{f||(s++,l.removeEntry(c,Ee.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oh(e.data.value)),t}ar(e,t,s){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=a}static Yi(e,t){let s=Me(),a=Me();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return AC()?8:zj(rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new c4;return this._s(e,t,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,c,f.size)})}).next(()=>l.result)}us(e,t,s,a){return s.documentReadCount<this.es?(vo()<=ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(vo()<=ke.DEBUG&&de("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(vo()<=ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):se.resolve())}rs(e,t){if(eE(t))return se.resolve(null);let s=Pr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Kp(t,null,"F"),s=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Me(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(t,f);return this.ls(t,g,c,m.readTime)?this.rs(e,Kp(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,s,a){return eE(t)||a.isEqual(Ee.min())?se.resolve(null):this.ns.getDocuments(e,s).next(l=>{const c=this.cs(t,l);return this.ls(t,c,s,a)?se.resolve(null):(vo()<=ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_o(t)),this.hs(e,c,t,Mj(a,Tu)).next(f=>f))})}cs(e,t){let s=new Dt(gx(e));return t.forEach((a,l)=>{Id(e,l)&&(s=s.add(l))}),s}ls(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,s){return vo()<=ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ns.getDocumentsMatchingQuery(e,t,yi.min(),s)}hs(e,t,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",d4=3e8;class f4{constructor(e,t,s,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new ot(Ve),this.Is=new Ta(l=>Pg(l),Vg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function m4(n,e,t,s){return new f4(n,e,t,s)}async function qx(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let m=Me();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:f}))})})}function p4(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,m,g,_){const w=g.batch,T=w.keys();let C=se.resolve();return T.forEach(N=>{C=C.next(()=>_.getEntry(m,N)).next(V=>{const I=g.docVersions.get(N);Fe(I!==null),V.version.compareTo(I)<0&&(w.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),_.addEntry(V)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(m,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Me();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Hx(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function g4(n,e){const t=xe(n),s=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const f=[];e.targetChanges.forEach((_,w)=>{const T=a.get(w);if(!T)return;f.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,w)));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),a=a.insert(w,C),function(V,I,B){return V.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=d4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(T,C,_)&&f.push(t.Hr.updateTargetData(l,C))});let m=ws(),g=Me();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(y4(l,c,e.documentUpdates).next(_=>{m=_.Vs,g=_.fs})),!s.isEqual(Ee.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(w=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(_)}return se.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=a,l))}function y4(n,e,t){let s=Me(),a=Me();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let c=ws();return t.forEach((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):de($g,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function v4(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _4(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Hr.getTargetData(s,e).next(l=>l?(a=l,se.resolve(a)):t.Hr.allocateTargetId(s).next(c=>(a=new hi(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Wp(n,e,t){const s=xe(n),a=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!$o(c))throw c;de($g,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function fE(n,e,t){const s=xe(n);let a=Ee.min(),l=Me();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const w=xe(m),T=w.Is.get(_);return T!==void 0?se.resolve(w.Ts.get(T)):w.Hr.getTargetData(g,_)}(s,c,Pr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,e,t?a:Ee.min(),t?l:Me())).next(f=>(b4(s,ok(e),f),{documents:f,gs:l})))}function b4(n,e,t){let s=n.Es.get(e)||Ee.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Es.set(e,s)}class mE{constructor(){this.activeTargetIds=fk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E4{constructor(){this.ho=new mE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new mE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class gE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(pE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(pE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Zp(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",T4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Xh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,t,s,a,l){const c=Zp(),f=this.bo(e,t.toUriEncodedString());de(fp,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,f,m,s).then(g=>(de(fp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw No(fp,`RPC '${e}' ${c} failed with error: `,g,"url: ",f,"request:",s),g})}Co(e,t,s,a,l,c){return this.So(e,t,s,a,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const s=T4[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class A4 extends x4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,a){const l=Zp();return new Promise((c,f)=>{const m=new $T;m.setWithCredentials(!0),m.listenOnce(GT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Dh.NO_ERROR:const _=m.getResponseJson();de(en,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Dh.TIMEOUT:de(en,`RPC '${e}' ${l} timed out`),f(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const w=m.getStatus();if(de(en,`RPC '${e}' ${l} failed with status:`,w,"response text:",m.getResponseText()),w>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const N=function(I){const B=I.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(B)>=0?B:J.UNKNOWN}(C.status);f(new ue(N,C.message))}else f(new ue(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ue(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{de(en,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);de(en,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",g,s,15)})}Wo(e,t,s){const a=Zp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=YT(),f=QT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const _=l.join("");de(en,`Creating RPC '${e}' stream ${a}: ${_}`,m);const w=c.createWebChannel(_,m);let T=!1,C=!1;const N=new S4({Fo:I=>{C?de(en,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(T||(de(en,`Opening RPC '${e}' stream ${a} transport.`),w.open(),T=!0),de(en,`RPC '${e}' stream ${a} sending:`,I),w.send(I))},Mo:()=>w.close()}),V=(I,B,$)=>{I.listen(B,Q=>{try{$(Q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return V(w,ou.EventType.OPEN,()=>{C||(de(en,`RPC '${e}' stream ${a} transport opened.`),N.Qo())}),V(w,ou.EventType.CLOSE,()=>{C||(C=!0,de(en,`RPC '${e}' stream ${a} transport closed`),N.Ko())}),V(w,ou.EventType.ERROR,I=>{C||(C=!0,No(en,`RPC '${e}' stream ${a} transport errored:`,I),N.Ko(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),V(w,ou.EventType.MESSAGE,I=>{var B;if(!C){const $=I.data[0];Fe(!!$);const Q=$,ee=(Q==null?void 0:Q.error)||((B=Q[0])===null||B===void 0?void 0:B.error);if(ee){de(en,`RPC '${e}' stream ${a} received error:`,ee);const re=ee.status;let te=function(A){const O=Et[A];if(O!==void 0)return Ix(O)}(re),D=ee.message;te===void 0&&(te=J.INTERNAL,D="Unknown error status: "+re+" with message "+ee.message),C=!0,N.Ko(new ue(te,D)),w.close()}else de(en,`RPC '${e}' stream ${a} received:`,$),N.Uo($)}}),V(f,KT.STAT_EVENT,I=>{I.stat===Bp.PROXY?de(en,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Bp.NOPROXY&&de(en,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(n){return new Ik(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class $x{constructor(e,t,s,a,l,c,f,m){this.Ti=e,this.n_=s,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gg(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===t&&this.V_(s,a)},s=>{e(()=>{const a=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(yE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(de(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R4 extends $x{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=kk(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ee.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?On(c.readTime):Ee.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Xp(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=$p(m)?{documents:Pk(l,m)}:{query:Vk(l,m).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=jx(l,c.resumeToken);const g=Qp(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ee.min())>0){f.readTime=nd(l,c.snapshotVersion.toTimestamp());const g=Qp(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const s=Uk(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Xp(this.serializer),t.removeTarget=e,this.I_(t)}}class N4 extends $x{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Mk(e.writeResults,e.commitTime),s=On(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Xp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Vx(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{}class I4 extends C4{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Yp(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(J.UNKNOWN,l.toString())})}Co(e,t,s,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,Yp(t,s),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class D4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Es(t),this.N_=!1):de("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class O4{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{xa(this)&&(de(ya,"Restarting streams for network reachability change."),await async function(m){const g=xe(m);g.W_.add(4),await Bu(g),g.j_.set("Unknown"),g.W_.delete(4),await Pd(g)}(this))})}),this.j_=new D4(s,a)}}async function Pd(n){if(xa(n))for(const e of n.G_)await e(!0)}async function Bu(n){for(const e of n.G_)await e(!1)}function Gx(n,e){const t=xe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Xg(t)?Yg(t):Go(t).c_()&&Qg(t,e))}function Kg(n,e){const t=xe(n),s=Go(t);t.U_.delete(e),s.c_()&&Kx(t,e),t.U_.size===0&&(s.c_()?s.P_():xa(t)&&t.j_.set("Unknown"))}function Qg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(n).y_(e)}function Kx(n,e){n.H_.Ne(e),Go(n).w_(e)}function Yg(n){n.H_=new Ak({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.j_.B_()}function Xg(n){return xa(n)&&!Go(n).u_()&&n.U_.size>0}function xa(n){return xe(n).W_.size===0}function Qx(n){n.H_=void 0}async function j4(n){n.j_.set("Online")}async function k4(n){n.U_.forEach((e,t)=>{Qg(n,e)})}async function M4(n,e){Qx(n),Xg(n)?(n.j_.q_(e),Yg(n)):n.j_.set("Unknown")}async function P4(n,e,t){if(n.j_.set("Online"),e instanceof Ox&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(n,e)}catch(s){de(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await id(n,s)}else if(e instanceof Mh?n.H_.We(e):e instanceof Dx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ee.min()))try{const s=await Hx(n.localStore);t.compareTo(s)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.U_.get(g);_&&l.U_.set(g,_.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,g)=>{const _=l.U_.get(m);if(!_)return;l.U_.set(m,_.withResumeToken(Xt.EMPTY_BYTE_STRING,_.snapshotVersion)),Kx(l,m);const w=new hi(_.target,m,g,_.sequenceNumber);Qg(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(s){de(ya,"Failed to raise snapshot:",s),await id(n,s)}}async function id(n,e,t){if(!$o(e))throw e;n.W_.add(1),await Bu(n),n.j_.set("Offline"),t||(t=()=>Hx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(ya,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Pd(n)})}function Yx(n,e){return e().catch(t=>id(n,t,e))}async function Vd(n){const e=xe(n),t=Ei(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:jg;for(;V4(e);)try{const a=await v4(e.localStore,s);if(a===null){e.K_.length===0&&t.P_();break}s=a.batchId,L4(e,a)}catch(a){await id(e,a)}Xx(e)&&Wx(e)}function V4(n){return xa(n)&&n.K_.length<10}function L4(n,e){n.K_.push(e);const t=Ei(n);t.c_()&&t.S_&&t.b_(e.mutations)}function Xx(n){return xa(n)&&!Ei(n).u_()&&n.K_.length>0}function Wx(n){Ei(n).start()}async function U4(n){Ei(n).C_()}async function z4(n){const e=Ei(n);for(const t of n.K_)e.b_(t.mutations)}async function B4(n,e,t){const s=n.K_.shift(),a=Ug.from(s,e,t);await Yx(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Vd(n)}async function F4(n,e){e&&Ei(n).S_&&await async function(s,a){if(function(c){return Cx(c)&&c!==J.ABORTED}(a.code)){const l=s.K_.shift();Ei(s).h_(),await Yx(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Vd(s)}}(n,e),Xx(n)&&Wx(n)}async function vE(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(ya,"RemoteStore received new credentials");const s=xa(t);t.W_.add(3),await Bu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Pd(t)}async function q4(n,e){const t=xe(n);e?(t.W_.delete(2),await Pd(t)):e||(t.W_.add(2),await Bu(t),t.j_.set("Unknown"))}function Go(n){return n.J_||(n.J_=function(t,s,a){const l=xe(t);return l.M_(),new R4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:j4.bind(null,n),No:k4.bind(null,n),Lo:M4.bind(null,n),p_:P4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Xg(n)?Yg(n):n.j_.set("Unknown")):(await n.J_.stop(),Qx(n))})),n.J_}function Ei(n){return n.Y_||(n.Y_=function(t,s,a){const l=xe(t);return l.M_(),new N4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:U4.bind(null,n),Lo:F4.bind(null,n),D_:z4.bind(null,n),v_:B4.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Vd(n)):(await n.Y_.stop(),n.K_.length>0&&(de(ya,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,f=new Wg(e,t,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,e){if(Es("AsyncQueue",`${e}: ${n}`),$o(n))return new ue(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=lu(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.Z_=new ot(ye.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Mo{constructor(e,t,s,a,l,c,f,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Mo(e,t,Ro.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $4{constructor(){this.queries=bE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const a=xe(t),l=a.queries;a.queries=bE(),l.forEach((c,f)=>{for(const m of f.ta)m.onError(s)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function bE(){return new Ta(n=>px(n),Cd)}async function Jg(n,e){const t=xe(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(s=2):(l=new H4,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Zg(c,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&ty(t)}async function ey(n,e){const t=xe(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function G4(n,e){const t=xe(n);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(s=!0);c.ea=a}}s&&ty(t)}function K4(n,e,t){const s=xe(n),a=s.queries.get(e);if(a)for(const l of a.ta)l.onError(t);s.queries.delete(e)}function ty(n){n.ia.forEach(e=>{e.next()})}var Jp,EE;(EE=Jp||(Jp={}))._a="default",EE.Cache="cache";class ny{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.key=e}}class Jx{constructor(e){this.key=e}}class Q4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=gx(e),this.wa=new Ro(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new _E,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,w)=>{const T=a.get(_),C=Id(this.query,w)?w:null,N=!!T&&this.mutatedKeys.has(T.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;T&&C?T.data.isEqual(C.data)?N!==V&&(s.track({type:3,doc:C}),I=!0):this.va(T,C)||(s.track({type:2,doc:C}),I=!0,(m&&this.ya(C,m)>0||g&&this.ya(C,g)<0)&&(f=!0)):!T&&C?(s.track({type:0,doc:C}),I=!0):T&&!C&&(s.track({type:1,doc:T}),I=!0,(m||g)&&(f=!0)),I&&(C?(c=c.add(C),l=V?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:c,Da:s,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,w)=>function(C,N){const V=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return V(C)-V(N)}(_.type,w.type)||this.ya(_.doc,w.doc)),this.Ca(s),a=a!=null&&a;const f=t&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new Mo(this.query,e.wa,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _E,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Jx(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Zx(s))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ry="SyncEngine";class Y4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class X4{constructor(e){this.key=e,this.Ba=!1}}class W4{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ta(f=>px(f),Cd),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ka=new Map,this.Ua=new Fg,this.Wa={},this.Ga=new Map,this.za=ko.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Z4(n,e,t=!0){const s=iS(n);let a;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await eS(s,e,t,!0),a}async function J4(n,e){const t=iS(n);await eS(t,e,!0,!1)}async function eS(n,e,t,s){const a=await _4(n.localStore,Pr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await eM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Gx(n.remoteStore,a),f}async function eM(n,e,t,s,a){n.Ha=(w,T,C)=>async function(V,I,B,$){let Q=I.view.ba(B);Q.ls&&(Q=await fE(V.localStore,I.query,!1).then(({documents:D})=>I.view.ba(D,Q)));const ee=$&&$.targetChanges.get(I.targetId),re=$&&$.targetMismatches.get(I.targetId)!=null,te=I.view.applyChanges(Q,V.isPrimaryClient,ee,re);return TE(V,I.targetId,te.Ma),te.snapshot}(n,w,T,C);const l=await fE(n.localStore,e,!0),c=new Q4(e,l.gs),f=c.ba(l.documents),m=zu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),g=c.applyChanges(f,n.isPrimaryClient,m);TE(n,t,g.Ma);const _=new Y4(e,t,c);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function tM(n,e,t){const s=xe(n),a=s.ka.get(e),l=s.qa.get(a.targetId);if(l.length>1)return s.qa.set(a.targetId,l.filter(c=>!Cd(c,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Wp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Kg(s.remoteStore,a.targetId),eg(s,a.targetId)}).catch(Ho)):(eg(s,a.targetId),await Wp(s.localStore,a.targetId,!0))}async function nM(n,e){const t=xe(n),s=t.ka.get(e),a=t.qa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Kg(t.remoteStore,s.targetId))}async function rM(n,e,t){const s=cM(n);try{const a=await function(c,f){const m=xe(c),g=It.now(),_=f.reduce((C,N)=>C.add(N.key),Me());let w,T;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let N=ws(),V=Me();return m.ds.getEntries(C,_).next(I=>{N=I,N.forEach((B,$)=>{$.isValidDocument()||(V=V.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,N)).next(I=>{w=I;const B=[];for(const $ of f){const Q=bk($,w.get($.key).overlayedDocument);Q!=null&&B.push(new Ai($.key,Q,ox(Q.value.mapValue),Qt.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,B,f)}).next(I=>{T=I;const B=I.applyToLocalDocumentSet(w,V);return m.documentOverlayCache.saveOverlays(C,I.batchId,B)})}).then(()=>({batchId:T.batchId,changes:vx(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new ot(Ve)),g=g.insert(f,m),c.Wa[c.currentUser.toKey()]=g}(s,a.batchId,t),await Fu(s,a.changes),await Vd(s.remoteStore)}catch(a){const l=Zg(a,"Failed to persist write");t.reject(l)}}async function tS(n,e){const t=xe(n);try{const s=await g4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Fe(c.Ba):a.removedDocuments.size>0&&(Fe(c.Ba),c.Ba=!1))}),await Fu(t,s,e)}catch(s){await Ho(s)}}function wE(n,e,t){const s=xe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=xe(c);m.onlineState=f;let g=!1;m.queries.forEach((_,w)=>{for(const T of w.ta)T.sa(f)&&(g=!0)}),g&&ty(m)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sM(n,e,t){const s=xe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Ka.get(e),l=a&&a.key;if(l){let c=new ot(ye.comparator);c=c.insert(l,Bt.newNoDocument(l,Ee.min()));const f=Me().add(l),m=new kd(Ee.min(),new Map,new ot(Ve),c,f);await tS(s,m),s.$a=s.$a.remove(l),s.Ka.delete(e),sy(s)}else await Wp(s.localStore,e,!1).then(()=>eg(s,e,t)).catch(Ho)}async function iM(n,e){const t=xe(n),s=e.batch.batchId;try{const a=await p4(t.localStore,e);rS(t,s,null),nS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(t,a)}catch(a){await Ho(a)}}async function aM(n,e,t){const s=xe(n);try{const a=await function(c,f){const m=xe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,f).next(w=>(Fe(w!==null),_=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(s.localStore,e);rS(s,e,t),nS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Fu(s,a)}catch(a){await Ho(a)}}function nS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function rS(n,e,t){const s=xe(n);let a=s.Wa[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function eg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.qa.get(e))n.ka.delete(s),t&&n.La.Ja(s,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(s=>{n.Ua.containsKey(s)||sS(n,s)})}function sS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Kg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),sy(n))}function TE(n,e,t){for(const s of t)s instanceof Zx?(n.Ua.addReference(s.key,e),oM(n,s)):s instanceof Jx?(de(ry,"Document no longer in limbo: "+s.key),n.Ua.removeReference(s.key,e),n.Ua.containsKey(s.key)||sS(n,s.key)):_e()}function oM(n,e){const t=e.key,s=t.path.canonicalString();n.$a.get(t)||n.Qa.has(s)||(de(ry,"New document in limbo: "+t),n.Qa.add(s),sy(n))}function sy(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(Je.fromString(e)),s=n.za.next();n.Ka.set(s,new X4(t)),n.$a=n.$a.insert(t,s),Gx(n.remoteStore,new hi(Pr(Nd(t.path)),s,"TargetPurposeLimboResolution",Ad.ae))}}async function Fu(n,e,t){const s=xe(n),a=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((f,m)=>{c.push(s.Ha(m,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){a.push(g);const w=Hg.Yi(m.targetId,g);l.push(w)}}))}),await Promise.all(c),s.La.p_(a),await async function(m,g){const _=xe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(g,T=>se.forEach(T.Hi,C=>_.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>se.forEach(T.Ji,C=>_.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!$o(w))throw w;de($g,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const C=_.Ts.get(T),N=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(N);_.Ts=_.Ts.insert(T,V)}}}(s.localStore,l))}async function lM(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(ry,"User change. New user:",e.toKey());const s=await qx(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(m=>{m.reject(new ue(J.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(t,s.Rs)}}function uM(n,e){const t=xe(n),s=t.Ka.get(e);if(s&&s.Ba)return Me().add(s.key);{let a=Me();const l=t.qa.get(e);if(!l)return a;for(const c of l){const f=t.ka.get(c);a=a.unionWith(f.view.Sa)}return a}}function iS(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sM.bind(null,e),e.La.p_=G4.bind(null,e.eventManager),e.La.Ja=K4.bind(null,e.eventManager),e}function cM(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aM.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return m4(this.persistence,new h4,e.initialUser,this.serializer)}Xa(e){return new Fx(qg.ri,this.serializer)}Za(e){return new E4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class hM extends ad{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Fe(this.persistence.referenceDelegate instanceof sd);const s=this.persistence.referenceDelegate.garbageCollector;return new Xk(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Fx(s=>sd.ri(s,t),this.serializer)}}class tg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lM.bind(null,this.syncEngine),await q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $4}()}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=function(l){return new A4(l)}(e.databaseInfo);return function(l,c,f,m){return new I4(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,f){return new O4(s,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>wE(this.syncEngine,t,0),function(){return gE.D()?new gE:new w4}())}createSyncEngine(e,t){return function(a,l,c,f,m,g,_){const w=new W4(a,l,c,f,m,g);return _&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=xe(a);de(ya,"RemoteStore shutting down."),l.W_.add(5),await Bu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ue(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,l){const c=xe(a),f={documents:l.map(w=>rd(c.serializer,w))},m=await c.Co("BatchGetDocuments",c.serializer.databaseId,Je.emptyPath(),f,l.length),g=new Map;m.forEach(w=>{const T=jk(c.serializer,w);g.set(T.key.toString(),T)});const _=[];return l.forEach(w=>{const T=g.get(w.toString());Fe(!!T),_.push(T)}),_}(this.datastore,e);return t.forEach(s=>this.recordVersion(s)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new jd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,s)=>{const a=ye.fromPath(s);this.mutations.push(new Nx(a,this.precondition(a)))}),await async function(s,a){const l=xe(s),c={writes:a.map(f=>Vx(l.serializer,f))};await l.So("Commit",l.serializer.databaseId,Je.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e();t=Ee.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new ue(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?Qt.exists(!1):Qt.updateTime(t):Qt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new ue(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qt.updateTime(t)}return Qt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t,s,a,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=l,this.Tu=s.maxAttempts,this.a_=new Gg(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new dM(this.datastore),t=this.du(e);t&&t.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(a=>{this.Au(a)}))}).catch(s=>{this.Au(s)})})}du(e){try{const t=this.updateFunction(e);return!Vu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Cx(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="FirestoreClient";class mM{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=tn.UNAUTHENTICATED,this.clientId=WT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{de(wi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(de(wi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Zg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pp(n,e){n.asyncQueue.verifyOperationInProgress(),de(wi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await qx(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pM(n);de(wi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>vE(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>vE(e.remoteStore,a)),n._onlineComponents=e}async function pM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(wi,"Using user provided OfflineComponentProvider");try{await pp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await pp(n,new ad)}}else de(wi,"Using default OfflineComponentProvider"),await pp(n,new hM(void 0));return n._offlineComponents}async function ay(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(wi,"Using user provided OnlineComponentProvider"),await xE(n,n._uninitializedComponentsProvider._online)):(de(wi,"Using default OnlineComponentProvider"),await xE(n,new tg))),n._onlineComponents}function gM(n){return ay(n).then(e=>e.syncEngine)}function yM(n){return ay(n).then(e=>e.datastore)}async function od(n){const e=await ay(n),t=e.eventManager;return t.onListen=Z4.bind(null,e.syncEngine),t.onUnlisten=tM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nM.bind(null,e.syncEngine),t}function vM(n,e,t={}){const s=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const _=new iy({next:T=>{_.su(),c.enqueueAndForget(()=>ey(l,w));const C=T.docs.has(f);!C&&T.fromCache?g.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&m&&m.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new ny(Nd(f.path),_,{includeMetadataChanges:!0,Ta:!0});return Jg(l,w)}(await od(n),n.asyncQueue,e,t,s)),s.promise}function _M(n,e,t={}){const s=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const _=new iy({next:T=>{_.su(),c.enqueueAndForget(()=>ey(l,w)),T.fromCache&&m.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new ny(f,_,{includeMetadataChanges:!0,Ta:!0});return Jg(l,w)}(await od(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n,e,t){if(!t)throw new ue(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bM(n,e,t,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function AE(n){if(!ye.isDocumentKey(n))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RE(n){if(ye.isDocumentKey(n))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ld(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ld(n);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firestore.googleapis.com",NE=!0;class CE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lS,this.ssl=NE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:NE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qk)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Rj;switch(s.type){case"firstParty":return new Dj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=SE.get(t);s&&(de("ComponentProvider","Removing Datastore"),SE.delete(t),s.terminate())}(this),Promise.resolve()}}function EM(n,e,t,s={}){var a;const l=(n=fn(n,Ud))._getSettings(),c=`${e}:${t}`;if(l.host!==lS&&l.host!==c&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let f,m;if(typeof s.mockUserToken=="string")f=s.mockUserToken,m=tn.MOCK_USER;else{f=bC(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new tn(g)}n._authCredentials=new Nj(new XT(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Yt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class pi extends Sa{constructor(e,t,s){super(e,t,Nd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ye(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function gp(n,e,...t){if(n=at(n),oS("collection","path",e),n instanceof Ud){const s=Je.fromString(e,...t);return RE(s),new pi(n,null,s)}{if(!(n instanceof Yt||n instanceof pi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Je.fromString(e,...t));return RE(s),new pi(n.firestore,null,s)}}function ar(n,e,...t){if(n=at(n),arguments.length===1&&(e=WT.newId()),oS("doc","path",e),n instanceof Ud){const s=Je.fromString(e,...t);return AE(s),new Yt(n,null,new ye(s))}{if(!(n instanceof Yt||n instanceof pi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Je.fromString(e,...t));return AE(s),new Yt(n.firestore,n instanceof pi?n.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="AsyncQueue";class DE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gg(this,"async_queue_retry"),this.Su=()=>{const s=mp();s&&de(IE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Mr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$o(e))throw e;de(IE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(s);throw Es("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Wg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function OE(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ur extends Ud{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new DE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function wM(n,e){const t=typeof n=="object"?n:yg(),s=typeof n=="string"?n:Xh,a=Ea(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=vC("firestore");l&&EM(a,...l)}return a}function qu(n){if(n._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TM(n),n._firestoreClient}function TM(n){var e,t,s;const a=n._freezeSettings(),l=function(f,m,g,_){return new $j(f,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,aS(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new mM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(Xt.fromBase64String(e))}catch(t){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new va(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=/^__.*__$/;class SM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class uS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ai(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class zd{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new zd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ld(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(cS(this.Lu)&&xM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class AM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Md(e)}ju(e,t,s,a=!1){return new zd({Lu:e,methodName:t,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(n){const e=n._freezeSettings(),t=Md(n._databaseId);return new AM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uy(n,e,t,s,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);dy("Data must be an object, but it was:",c,s);const f=mS(s,c);let m,g;if(l.merge)m=new Cn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=ng(e,w,t);if(!c.contains(T))throw new ue(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);gS(_,T)||_.push(T)}m=new Cn(_),g=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=c.fieldTransforms;return new SM(new dn(f),m,g)}class Bd extends $u{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function hS(n,e,t){return new zd({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cy extends $u{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=hS(this,e,!0),s=this.Hu.map(l=>Aa(l,t)),a=new Oo(s);return new Sx(e.path,a)}isEqual(e){return e instanceof cy&&ha(this.Hu,e.Hu)}}class hy extends $u{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=hS(this,e,!0),s=this.Hu.map(l=>Aa(l,t)),a=new jo(s);return new Sx(e.path,a)}isEqual(e){return e instanceof hy&&ha(this.Hu,e.Hu)}}function dS(n,e,t,s){const a=n.ju(1,e,t);dy("Data must be an object, but it was:",a,s);const l=[],c=dn.empty();Si(s,(m,g)=>{const _=fy(e,m,t);g=at(g);const w=a.Ku(_);if(g instanceof Bd)l.push(_);else{const T=Aa(g,w);T!=null&&(l.push(_),c.set(_,T))}});const f=new Cn(l);return new uS(c,f,a.fieldTransforms)}function fS(n,e,t,s,a,l){const c=n.ju(1,e,t),f=[ng(e,s,t)],m=[a];if(l.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(ng(e,l[T])),m.push(l[T+1]);const g=[],_=dn.empty();for(let T=f.length-1;T>=0;--T)if(!gS(g,f[T])){const C=f[T];let N=m[T];N=at(N);const V=c.Ku(C);if(N instanceof Bd)g.push(C);else{const I=Aa(N,V);I!=null&&(g.push(C),_.set(C,I))}}const w=new Cn(g);return new uS(_,w,c.fieldTransforms)}function RM(n,e,t,s=!1){return Aa(t,n.ju(s?4:3,e))}function Aa(n,e){if(pS(n=at(n)))return dy("Unsupported field value:",e,n),mS(n,e);if(n instanceof $u)return function(s,a){if(!cS(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const f of s){let m=Aa(f,a.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=It.fromDate(s);return{timestampValue:nd(a.serializer,l)}}if(s instanceof It){const l=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nd(a.serializer,l)}}if(s instanceof oy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof va)return{bytesValue:jx(a.serializer,s._byteString)};if(s instanceof Yt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Bg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ly)return function(c,f){return{mapValue:{fields:{[ix]:{stringValue:ax},[Wh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.Wu("VectorValues must only contain numeric values.");return Lg(f.serializer,g)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Ld(s)}`)}(n,e)}function mS(n,e){const t={};return JT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(n,(s,a)=>{const l=Aa(a,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function pS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof oy||n instanceof va||n instanceof Yt||n instanceof $u||n instanceof ly)}function dy(n,e,t){if(!pS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=Ld(t);throw s==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+s)}}function ng(n,e,t){if((e=at(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return fy(n,e);throw ld("Field path arguments must be of type string or ",n,!1,void 0,t)}const NM=new RegExp("[~\\*/\\[\\]]");function fy(n,e,t){if(e.search(NM)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hu(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ld(n,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ue(J.INVALID_ARGUMENT,f+n+m)}function gS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(my("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CM extends ud{data(){return super.data()}}function my(n,e){return typeof e=="string"?fy(n,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class IM extends py{}function jE(n,e,...t){let s=[];e instanceof py&&s.push(e),s=s.concat(t),function(l){const c=l.filter(m=>m instanceof gy).length,f=l.filter(m=>m instanceof Fd).length;if(c>1||c>0&&f>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Fd extends IM{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Fd(e,t,s)}_apply(e){const t=this._parse(e);return vS(e._query,t),new Sa(e.firestore,e.converter,Gp(e._query,t))}_parse(e){const t=Gu(e.firestore);return function(l,c,f,m,g,_,w){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){ME(w,_);const N=[];for(const V of w)N.push(kE(m,l,V));T={arrayValue:{values:N}}}else T=kE(m,l,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||ME(w,_),T=RM(f,c,w,_==="in"||_==="not-in");return wt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yp(n,e,t){const s=e,a=my("where",n);return Fd._create(a,s,t)}class gy extends py{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)vS(c,m),c=Gp(c,m)}(e._query,t),new Sa(e.firestore,e.converter,Gp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kE(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(e)&&t.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qb(n,new ye(s))}if(t instanceof Yt)return Qb(n,t._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(t)}.`)}function ME(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vS(n,e){const t=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _S{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Si(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Wh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>pt(c.doubleValue));return new ly(l)}convertGeoPoint(e){return new oy(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Rd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=vi(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Je.fromString(e);Fe(zx(s));const a=new Su(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(t)||Es(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class DM extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vy extends ud{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(my("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ph extends vy{data(e={}){return super.data(e)}}class bS{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new To(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ph(this._firestore,this._userDataWriter,s.key,s,new To(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Ph(a._firestore,a._userDataWriter,f.doc.key,f.doc,new To(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Ph(a._firestore,a._userDataWriter,f.doc.key,f.doc,new To(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:OM(f.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n){n=fn(n,Yt);const e=fn(n.firestore,Ur);return vM(qu(e),n._key).then(t=>TS(e,n,t))}class qd extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function PE(n){n=fn(n,Sa);const e=fn(n.firestore,Ur),t=qu(e),s=new qd(e);return yS(n._query),_M(t,n._query).then(a=>new bS(e,s,n,a))}function rg(n,e,t){n=fn(n,Yt);const s=fn(n.firestore,Ur),a=yy(n.converter,e,t);return Hd(s,[uy(Gu(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Qt.none())])}function Ru(n,e,t,...s){n=fn(n,Yt);const a=fn(n.firestore,Ur),l=Gu(a);let c;return c=typeof(e=at(e))=="string"||e instanceof Hu?fS(l,"updateDoc",n._key,e,t,s):dS(l,"updateDoc",n._key,e),Hd(a,[c.toMutation(n._key,Qt.exists(!0))])}function jM(n){return Hd(fn(n.firestore,Ur),[new jd(n._key,Qt.none())])}function kM(n,e){const t=fn(n.firestore,Ur),s=ar(n),a=yy(n.converter,e);return Hd(t,[uy(Gu(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Qt.exists(!1))]).then(()=>s)}function wS(n,...e){var t,s,a;n=at(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||OE(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(OE(e[c])){const w=e[c];e[c]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[c+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[c+2]=(a=w.complete)===null||a===void 0?void 0:a.bind(w)}let m,g,_;if(n instanceof Yt)g=fn(n.firestore,Ur),_=Nd(n._key.path),m={next:w=>{e[c]&&e[c](TS(g,n,w))},error:e[c+1],complete:e[c+2]};else{const w=fn(n,Sa);g=fn(w.firestore,Ur),_=w._query;const T=new qd(g);m={next:C=>{e[c]&&e[c](new bS(g,T,w,C))},error:e[c+1],complete:e[c+2]},yS(n._query)}return function(T,C,N,V){const I=new iy(V),B=new ny(C,I,N);return T.asyncQueue.enqueueAndForget(async()=>Jg(await od(T),B)),()=>{I.su(),T.asyncQueue.enqueueAndForget(async()=>ey(await od(T),B))}}(qu(g),_,f,m)}function Hd(n,e){return function(s,a){const l=new Mr;return s.asyncQueue.enqueueAndForget(async()=>rM(await gM(s),a,l)),l.promise}(qu(n),e)}function TS(n,e,t){const s=t.docs.get(e._key),a=new qd(n);return new vy(n,a,e._key,s,new To(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={maxAttempts:5};function cu(n,e){if((n=at(n)).firestore!==e)throw new ue(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gu(e)}get(e){const t=cu(e,this._firestore),s=new DM(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return _e();const l=a[0];if(l.isFoundDocument())return new ud(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new ud(this._firestore,s,t._key,null,t.converter);throw _e()})}set(e,t,s){const a=cu(e,this._firestore),l=yy(a.converter,t,s),c=uy(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,c),this}update(e,t,s,...a){const l=cu(e,this._firestore);let c;return c=typeof(t=at(t))=="string"||t instanceof Hu?fS(this._dataReader,"Transaction.update",l._key,t,s,a):dS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=cu(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM extends PM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cu(e,this._firestore),s=new qd(this._firestore);return super.get(e).then(a=>new vy(this._firestore,s,t._key,a._document,new To(!1,!1),t.converter))}}function LM(n,e,t){n=fn(n,Ur);const s=Object.assign(Object.assign({},MM),t);return function(l){if(l.maxAttempts<1)throw new ue(J.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,c,f){const m=new Mr;return l.asyncQueue.enqueueAndForget(async()=>{const g=await yM(l);new fM(l.asyncQueue,g,f,c,m).Iu()}),m.promise}(qu(n),a=>e(new VM(n,a)),s)}function UM(...n){return new cy("arrayUnion",n)}function zM(...n){return new hy("arrayRemove",n)}(function(e,t=!0){(function(a){qo=a})(Bo),Vr(new or("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Ur(new Cj(s.getProvider("auth-internal")),new Oj(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Jn(Vb,Lb,e),Jn(Vb,Lb,"esm2017")})();const BM={apiKey:"AIzaSyBBsR4ur6g0dzFeHPCtnl9HEUj579h5DUw",authDomain:"pereza-9a61a.firebaseapp.com",projectId:"pereza-9a61a",storageBucket:"pereza-9a61a.firebasestorage.app",messagingSenderId:"257748438860",appId:"1:257748438860:web:3b53c9d59b5df3ac0a89e9",measurementId:"G-YS9X48WQZG"},_y=Lw(BM),cd=sO(_y);Tj(_y);const vn=wM(_y),mr=k.createContext({user:null,bio:"",logout:()=>{}});function FM({children:n}){const[e,t]=k.useState(null),[s,a]=k.useState("");k.useEffect(()=>{const c=G2(cd,async f=>{if(f){t(f);const m=ar(vn,"users",f.uid),g=await ES(m);g.exists()?g.data().favorites||await rg(m,{favorites:[]},{merge:!0}):(await rg(m,{email:f.email,bio:"",favorites:[],createdAt:new Date}),console.log("Documento creado para:",f.email));const _=wS(m,w=>{w.exists()&&a(w.data().bio)});return()=>_()}else t(null),a("")});return()=>c()},[]);async function l(){await K2(cd),t(null),a("")}return y.jsx(mr.Provider,{value:{user:e,bio:s,logout:l},children:n})}const xS=k.createContext({favorites:[],isLoading:!0,addToFavorites:async()=>{},removeFromFavorites:async()=>{},isFavorite:()=>!1}),$d=()=>k.useContext(xS),qM=({children:n})=>{const[e,t]=k.useState([]),[s,a]=k.useState(!0),{user:l}=k.useContext(mr);k.useEffect(()=>{if(!l){t([]),a(!1);return}a(!0);const g=ar(vn,"users",l.uid),_=wS(g,w=>{if(w.exists()){const T=w.data();if(T.favorites&&Array.isArray(T.favorites)){const C=Array.from(new Map(T.favorites.map(N=>[N.id,N])).values());t(C)}else t([])}else t([]);a(!1)},w=>{console.error("Error al obtener favoritos:",w),a(!1)});return()=>_()},[l]);const c=async g=>{if(l){if(m(g.id)){console.log("La película ya está en favoritos");return}try{const _=ar(vn,"users",l.uid);await Ru(_,{favorites:UM(g)})}catch(_){console.error("Error al añadir a favoritos:",_)}}},f=async g=>{if(l)try{const _=ar(vn,"users",l.uid),w=e.find(T=>T.id===g);w&&await Ru(_,{favorites:zM(w)})}catch(_){console.error("Error al eliminar de favoritos:",_)}},m=g=>e.some(_=>_.id===g);return y.jsx(xS.Provider,{value:{favorites:e,isLoading:s,addToFavorites:c,removeFromFavorites:f,isFavorite:m},children:n})},HM="521b418e6b0c0227a624515e80c9288a";function En(){const[n,e]=k.useState(""),[t,s]=k.useState([]),[a,l]=k.useState(!1),[c,f]=k.useState(null),[m,g]=k.useState(!1),[_,w]=k.useState(!1),[T,C]=k.useState(!1),N=k.useRef(null),V=sn(),{favorites:I}=$d(),{user:B,logout:$}=k.useContext(mr);k.useEffect(()=>{function x(O){N.current&&!N.current.contains(O.target)&&s([])}const A=()=>{window.scrollY>50?C(!0):C(!1)};return document.addEventListener("mousedown",x),window.addEventListener("scroll",A),()=>{document.removeEventListener("mousedown",x),window.removeEventListener("scroll",A)}},[N]);const Q=async x=>{if(x.preventDefault(),!!n.trim()){l(!0),f(null);try{const A=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${HM}&query=${n}`);if(!A.ok)throw new Error("Failed to fetch movies");const O=await A.json();s(O.results)}catch(A){console.error("Error searching movies:",A),f("Failed to search movies. Please try again.")}finally{l(!1)}}};function ee(x){x.preventDefault(),V("/signup"),g(!1)}function re(x){x.preventDefault(),V("/login"),g(!1)}function te(x){x.preventDefault(),$(),V("/"),g(!1)}const D=x=>x==null||isNaN(x)?"N/A":x.toFixed(1);return y.jsx("div",{className:"flex flex-col w-full",children:y.jsx("nav",{className:`bg-gray-900 text-white w-full z-50 transition-all duration-300 ${T?"shadow-lg py-2":"py-4"} ${m?"relative":"sticky top-0"}`,children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs(Ut,{to:"/",className:"text-2xl font-bold flex items-center",children:[y.jsx("div",{className:"mr-2 relative",children:y.jsxs("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center shadow-lg",children:[y.jsx("div",{className:"w-3 h-3 bg-white rounded-full absolute",style:{top:"35%",left:"35%"}}),y.jsx("div",{className:"w-6 h-6 border-4 border-white rounded-full"})]})}),y.jsx("span",{className:"text-blue-500 font-extrabold tracking-wide",children:"CUEVANA by Aaron"})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[y.jsx(Ut,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Inicio"}),y.jsx(Ut,{to:"/peliculas",className:"text-gray-300 hover:text-white transition-colors",children:"Películas"}),y.jsx(Ut,{to:"/series",className:"text-gray-300 hover:text-white transition-colors",children:"Series"}),y.jsx(Ut,{to:"/estrenos",className:"text-gray-300 hover:text-white transition-colors",children:"Estrenos"}),B&&y.jsx(Ut,{to:"/dashboard",className:"text-gray-300 hover:text-white transition-colors",children:"Mi Cuevana"})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"relative",ref:N,children:[y.jsxs("form",{onSubmit:Q,className:"flex items-center",children:[y.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),onFocus:()=>w(!0),placeholder:"Buscar...",className:`bg-gray-800 text-white px-4 py-2 rounded-full border border-gray-700 focus:outline-none focus:border-blue-500 transition-all duration-300 ${_?"w-60":"w-32 md:w-40"}`}),y.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),t.length>0&&y.jsxs("div",{className:"absolute mt-2 w-full md:w-80 right-0 bg-gray-900 rounded-lg shadow-lg border border-gray-800 z-50 max-h-96 overflow-y-auto",children:[y.jsxs("div",{className:"p-3 border-b border-gray-800 flex justify-between items-center",children:[y.jsx("h3",{className:"font-medium",children:"Resultados"}),y.jsx("button",{onClick:()=>s([]),className:"text-gray-500 hover:text-gray-300",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a?y.jsx("div",{className:"text-center py-8",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):c?y.jsx("div",{className:"text-center text-red-500 p-4",children:c}):y.jsxs("div",{className:"p-2",children:[t.map(x=>y.jsxs("div",{className:"flex p-2 hover:bg-gray-800 rounded-lg cursor-pointer transition-colors",onClick:()=>{V(`/movie/${x.id}`),s([])},children:[y.jsx("div",{className:"flex-shrink-0 w-12 h-16 bg-gray-800 rounded overflow-hidden",children:x.poster_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w92${x.poster_path}`,alt:x.title,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-gray-500",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),y.jsxs("div",{className:"ml-3",children:[y.jsx("h4",{className:"font-medium line-clamp-1",children:x.title}),y.jsxs("div",{className:"flex items-center text-xs text-yellow-500",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{children:D(x.vote_average)})]})]})]},x.id)),y.jsx("div",{className:"mt-2 py-2 text-center text-sm text-blue-500 hover:text-blue-400 cursor-pointer border-t border-gray-800",onClick:()=>{V(`/search?q=${encodeURIComponent(n)}`),s([])},children:"Ver todos los resultados"})]})]})]}),B&&y.jsxs(Ut,{to:"/favorites",className:"hidden md:flex items-center hover:text-yellow-400 transition-colors relative",children:[y.jsx("span",{className:"text-xl",children:"⭐"}),I&&I.length>0&&y.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:I.length})]}),y.jsx("div",{className:"hidden md:block",children:B?y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"text-sm text-gray-300 truncate max-w-[120px]",children:B.email}),y.jsx("button",{onClick:te,className:"bg-red-600 hover:bg-red-700 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Salir"})]}):y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:re,className:"bg-blue-600 hover:bg-blue-700 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Ingresar"}),y.jsx("button",{onClick:ee,className:"bg-gray-700 hover:bg-gray-600 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Registro"})]})}),y.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:()=>g(!m),children:m?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),m&&y.jsxs("div",{className:"md:hidden mt-4 py-4 border-t border-gray-800 space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ut,{to:"/",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Inicio"}),y.jsx(Ut,{to:"/peliculas",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Películas"}),y.jsx(Ut,{to:"/series",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Series"}),y.jsx(Ut,{to:"/estrenos",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Estrenos"}),B&&y.jsxs(y.Fragment,{children:[y.jsx(Ut,{to:"/dashboard",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Mi Cuevana"}),y.jsxs(Ut,{to:"/favorites",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:["Mis Favoritos",I&&I.length>0&&y.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full px-2 py-1",children:I.length})]})]})]}),y.jsx("div",{className:"pt-2 border-t border-gray-800",children:B?y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"text-sm text-gray-300",children:B.email}),y.jsx("button",{onClick:te,className:"w-full bg-red-600 hover:bg-red-700 py-2 rounded-lg text-sm transition-colors",children:"Cerrar sesión"})]}):y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsx("button",{onClick:re,className:"bg-blue-600 hover:bg-blue-700 py-2 rounded-lg text-sm transition-colors",children:"Iniciar sesión"}),y.jsx("button",{onClick:ee,className:"bg-gray-700 hover:bg-gray-600 py-2 rounded-lg text-sm transition-colors",children:"Registrarse"})]})})]})]})})})}const $M=({movies:n,autoPlayInterval:e=8e3})=>{const t=sn(),[s,a]=k.useState(0),[l,c]=k.useState(!1),[f,m]=k.useState(0),g=k.useRef(null),_=k.useRef(null),w=D=>{const x=(D+n.length)%n.length;if(a(x),g.current){const A=g.current.offsetWidth;g.current.scrollTo({left:x*A,behavior:"smooth"})}},T=()=>{w(s+1)},C=()=>{w(s-1)},N=D=>{c(!0),m(D.touches[0].clientX),re()},V=D=>{c(!0),m(D.clientX),re()},I=D=>{if(!l)return;const x=D.touches[0].clientX;$(x)},B=D=>{if(!l)return;const x=D.clientX;$(x)},$=D=>{const x=f-D;Math.abs(x)>50&&(x>0?T():C(),c(!1))},Q=()=>{c(!1),te()},ee=()=>{c(!1),te()},re=()=>{_.current&&(clearInterval(_.current),_.current=null)},te=()=>{re(),_.current=setInterval(()=>{T()},e)};return k.useEffect(()=>(te(),()=>re()),[s]),k.useEffect(()=>{const D=()=>{if(g.current){const x=g.current.offsetWidth;g.current.scrollTo({left:s*x,behavior:"auto"})}};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[s]),n.length===0?null:y.jsxs("div",{className:"relative h-[60vh] mb-8 overflow-hidden",children:[y.jsx("div",{ref:g,className:"relative w-full h-full flex transition-transform duration-500 ease-out overflow-hidden",onTouchStart:N,onTouchMove:I,onTouchEnd:Q,onMouseDown:V,onMouseMove:B,onMouseUp:ee,onMouseLeave:ee,children:n.slice(0,5).map((D,x)=>y.jsxs("div",{className:"relative min-w-full h-full flex-shrink-0",style:{transform:`translateX(${(x-s)*100}%)`,transition:l?"none":"transform 0.5s ease-out"},children:[y.jsx("img",{src:`https://image.tmdb.org/t/p/original${D.backdrop_path}`,alt:D.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"}),y.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-4 sm:px-8 md:px-16 lg:container lg:mx-auto",children:y.jsxs("div",{className:"max-w-xl",children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:D.title}),y.jsxs("div",{className:"flex items-center mb-6",children:[y.jsxs("span",{className:"inline-flex items-center bg-yellow-600 text-white px-3 py-1 rounded-full text-sm font-medium mr-2",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),D.vote_average.toFixed(1)]}),y.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Trending"})]}),y.jsx("button",{onClick:()=>t(`/movie/${D.id}`),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 transform hover:scale-105",children:"Ver detalles"})]})})]},D.id))}),y.jsx("button",{onClick:C,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors z-10","aria-label":"Anterior película",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsx("button",{onClick:T,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors z-10","aria-label":"Siguiente película",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),y.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10",children:n.slice(0,5).map((D,x)=>y.jsx("button",{onClick:()=>w(x),className:`w-3 h-3 rounded-full transition-all ${x===s?"bg-white scale-125":"bg-white/50"}`,"aria-label":`Ir al slide ${x+1}`},x))})]})},ru="521b418e6b0c0227a624515e80c9288a",su="https://api.themoviedb.org/3",Eh=({title:n,movies:e})=>{sn();const t=k.useRef(null),[s,a]=k.useState(!1),[l,c]=k.useState(0),[f,m]=k.useState(0),g=()=>{t.current&&t.current.scrollTo({left:t.current.scrollLeft-300,behavior:"smooth"})},_=()=>{t.current&&t.current.scrollTo({left:t.current.scrollLeft+300,behavior:"smooth"})},w=I=>{var B,$;a(!0),c(I.pageX-(((B=t.current)==null?void 0:B.offsetLeft)||0)),m((($=t.current)==null?void 0:$.scrollLeft)||0)},T=I=>{var B,$;a(!0),c(I.touches[0].pageX-(((B=t.current)==null?void 0:B.offsetLeft)||0)),m((($=t.current)==null?void 0:$.scrollLeft)||0)},C=()=>{a(!1)},N=I=>{if(s&&(I.preventDefault(),t.current)){const $=(I.pageX-(t.current.offsetLeft||0)-l)*2;t.current.scrollLeft=f-$}},V=I=>{if(s&&t.current){const $=(I.touches[0].pageX-(t.current.offsetLeft||0)-l)*2;t.current.scrollLeft=f-$}};return y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold",children:n}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:g,className:"bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-full","aria-label":"Desplazar a la izquierda",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsx("button",{onClick:_,className:"bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-full","aria-label":"Desplazar a la derecha",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),y.jsx("div",{ref:t,className:"flex overflow-x-auto scrollbar-hide gap-4 pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},onMouseDown:w,onMouseUp:C,onMouseLeave:C,onMouseMove:N,onTouchStart:T,onTouchEnd:C,onTouchMove:V,children:e.map(I=>y.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:y.jsx(zo,{id:I.id,title:I.title,poster:`https://image.tmdb.org/t/p/w500${I.poster_path}`,rating:I.vote_average})},I.id))})]})};function GM(){var B;sn();const[n,e]=k.useState([]),[t,s]=k.useState([]),[a,l]=k.useState([]),[c,f]=k.useState([]),[m,g]=k.useState(null),[_,w]=k.useState([]),[T,C]=k.useState(!0);k.useEffect(()=>{(async()=>{C(!0);try{const Q=await De.get(`${su}/trending/movie/day?api_key=${ru}`);e(Q.data.results);const ee=await De.get(`${su}/movie/popular?api_key=${ru}`);s(ee.data.results);const re=await De.get(`${su}/movie/top_rated?api_key=${ru}`);l(re.data.results);const te=await De.get(`${su}/genre/movie/list?api_key=${ru}`);f(te.data.genres)}catch(Q){console.error("Error fetching movies:",Q)}finally{C(!1)}})()},[]),k.useEffect(()=>{(async()=>{if(m!==null)try{const Q=await De.get(`${su}/discover/movie?api_key=${ru}&with_genres=${m}`);w(Q.data.results)}catch(Q){console.error("Error fetching genre movies:",Q)}})()},[m]);const N=$=>{g($===m?null:$)},V=()=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]}),I=()=>y.jsxs("div",{className:"mb-8",children:[y.jsx("div",{className:"h-8 bg-gray-800 rounded w-64 mb-4 animate-pulse"}),y.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(5)].map(($,Q)=>y.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:y.jsx(V,{})},Q))})]});return T?y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),y.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse mb-6"}),y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsx(I,{}),y.jsx(I,{}),y.jsx(I,{})]})]}):y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),n.length>0&&y.jsx($M,{movies:n.slice(0,5),autoPlayInterval:8e3}),y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Explorar por Género"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-6 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:c.map($=>y.jsx("button",{onClick:()=>N($.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex-shrink-0 ${m===$.id?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:$.name},$.id))}),m&&_.length>0&&y.jsx(Eh,{title:`${((B=c.find($=>$.id===m))==null?void 0:B.name)||"Género"} Movies`,movies:_})]}),y.jsx(Eh,{title:"Trending Hoy",movies:n}),y.jsx(Eh,{title:"Películas Populares",movies:t}),y.jsx(Eh,{title:"Mejor Valoradas",movies:a})]}),y.jsx("style",{jsx:!0,global:!0,children:`
                .scrollbar-hide::-webkit-scrollbar {
                    display: none;
                }
                .scrollbar-hide {
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                }
            `}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Creado con 🎬 y ❤️"}),y.jsx("p",{children:"Usando la API de TMDB"})]})})]})}function KM(){const{user:n,bio:e}=k.useContext(mr),[t,s]=k.useState(e);async function a(l){l.preventDefault(),n&&(await Ru(ar(vn,"users",n.uid),{bio:t}),alert("Biografía actualizada"))}return y.jsxs("form",{onSubmit:a,className:"mt-4",children:[y.jsx("textarea",{value:t,onChange:l=>s(l.target.value),className:"w-full p-2 rounded-lg bg-gray-800 text-white",placeholder:"Escribe tu biografía..."}),y.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mt-2",children:"Guardar Biografía"})]})}function QM(){const{user:n,bio:e}=k.useContext(mr),{favorites:t}=$d();return y.jsxs("div",{style:{backgroundColor:"#0F172A"},className:"flex flex-col min-h-screen w-full",children:[y.jsx(En,{}),y.jsxs("div",{style:{backgroundColor:"#0F172A"},className:"container mx-auto p-4 py-8 w-full",children:[y.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-8 mb-8 shadow-lg border border-blue-700/20",children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Bienvenido a tu Dashboard"}),y.jsxs("p",{className:"text-gray-300 text-lg",children:["Hola ",y.jsx("span",{className:"font-bold text-blue-400",children:n==null?void 0:n.email}),", ",e?y.jsxs("span",{children:["tu biografía: ",y.jsx("span",{className:"italic text-blue-300",children:e})]}):y.jsx("span",{children:"aún no has agregado una biografía."})]}),y.jsx("div",{className:"mt-4",children:y.jsx(KM,{})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[y.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-6 shadow-lg border border-blue-700/20 transform hover:scale-105 transition-all duration-300",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[y.jsx("span",{className:"bg-blue-500 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),"Tus Estadísticas"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{style:{backgroundColor:"#334155"},className:"p-6 rounded-xl text-center shadow-inner border border-blue-600/20",children:[y.jsx("p",{className:"text-4xl font-bold text-blue-400 mb-2",children:t.length}),y.jsx("p",{className:"text-gray-400",children:"Películas Favoritas"})]}),y.jsxs("div",{style:{backgroundColor:"#334155"},className:"p-6 rounded-xl text-center shadow-inner border border-blue-600/20",children:[y.jsx("p",{className:"text-4xl font-bold text-green-400 mb-2",children:t.length>0?(t.reduce((s,a)=>s+a.vote_average,0)/t.length).toFixed(1):"0.0"}),y.jsx("p",{className:"text-gray-400",children:"Rating Promedio"})]})]})]}),y.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-6 shadow-lg border border-blue-700/20 transform hover:scale-105 transition-all duration-300",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[y.jsx("span",{className:"bg-purple-500 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Actividad Reciente"]}),y.jsxs("ul",{className:"space-y-4 text-gray-300",children:[y.jsxs("li",{style:{backgroundColor:"#334155"},className:"flex items-center gap-3 p-3 rounded-lg border border-blue-600/20",children:[y.jsx("span",{className:"text-blue-400 text-2xl",children:"•"}),y.jsx("span",{children:"Has iniciado sesión exitosamente"})]}),t.length>0&&y.jsxs("li",{style:{backgroundColor:"#334155"},className:"flex items-center gap-3 p-3 rounded-lg border border-blue-600/20",children:[y.jsx("span",{className:"text-yellow-400 text-2xl",children:"•"}),y.jsxs("span",{children:["Has añadido ",y.jsx("span",{className:"font-bold text-yellow-400",children:t.length})," películas a favoritos"]})]}),y.jsxs("li",{style:{backgroundColor:"#334155"},className:"flex items-center gap-3 p-3 rounded-lg border border-blue-600/20",children:[y.jsx("span",{className:"text-green-400 text-2xl",children:"•"}),y.jsx("span",{children:"Has accedido a tu dashboard"})]})]})]})]}),y.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-8 shadow-lg border border-blue-700/20",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[y.jsx("span",{className:"bg-red-500 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),"Tus Películas Favoritas"]}),t.length>0&&y.jsxs(Ut,{to:"/favorites",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg text-sm font-bold shadow-lg transition-all duration-300 flex items-center",children:["Ver todas",y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]}),t.length===0?y.jsxs("div",{style:{backgroundColor:"#334155"},className:"text-gray-400 text-center py-16 rounded-xl border border-blue-600/20",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})}),y.jsx("p",{className:"text-xl",children:"No has añadido películas a favoritos aún."}),y.jsx("p",{className:"mt-2 text-blue-400",children:"¡Explora nuestra colección y añade algunas!"}),y.jsx(Ut,{to:"/movies",className:"mt-6 inline-block bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all duration-300",children:"Explorar películas"})]}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:t.slice(0,4).map(s=>y.jsx("div",{className:"transform hover:scale-105 transition-all duration-300",children:y.jsx(zo,{id:s.id,title:s.title,poster:`https://image.tmdb.org/t/p/w500${s.poster_path}`,rating:s.vote_average,movie:s})},s.id))})]})]})]})}function YM(){var g;const{user:n,updateUserBio:e}=k.useContext(mr),[t,s]=k.useState((n==null?void 0:n.bio)||""),[a,l]=k.useState(!1),[c,f]=k.useState(!1),m=async()=>{if(n){f(!0);try{await e(t),l(!1)}catch(_){console.error("Error al guardar la biografía:",_)}finally{f(!1)}}};return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(En,{}),y.jsxs("div",{className:"container mx-auto p-4",children:[y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tu Perfil"}),y.jsx("p",{className:"text-gray-300",children:"Administra tu información personal y preferencias"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[y.jsxs("div",{className:"flex flex-col items-center mb-6",children:[y.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded-full mb-4 flex items-center justify-center text-2xl text-white font-bold",children:(g=n==null?void 0:n.email)==null?void 0:g.charAt(0).toUpperCase()}),y.jsx("h2",{className:"text-xl font-bold text-white",children:n==null?void 0:n.email})]}),y.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[y.jsx("p",{className:"text-gray-400 text-sm",children:"Miembro desde"}),y.jsx("p",{className:"text-white",children:n!=null&&n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString():"Fecha desconocida"})]})]}),y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 col-span-2",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:"Sobre Ti"}),a?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>{l(!1),s((n==null?void 0:n.bio)||"")},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm",disabled:c,children:"Cancelar"}),y.jsx("button",{onClick:m,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",disabled:c,children:c?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando"]}):"Guardar"})]}):y.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Editar"})]}),a?y.jsx("textarea",{value:t,onChange:_=>s(_.target.value),className:"w-full bg-gray-800 text-white rounded-lg p-3 min-h-32 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Cuéntanos un poco sobre ti, tus películas favoritas, géneros preferidos, etc."}):y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:n!=null&&n.bio?y.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:n.bio}):y.jsx("p",{className:"text-gray-500 italic",children:"No has añadido una biografía aún. Haz clic en 'Editar' para agregar información sobre ti."})})]})]})]})]})}function XM({movie:n,videos:e,handleFavoriteToggle:t,isFavorited:s,activeTab:a,setActiveTab:l}){const c=sn(),f=zr(),{user:m}=k.useContext(mr),[g,_]=k.useState(s),[w,T]=k.useState(!1),C=k.useRef(!1);k.useEffect(()=>{_(s)},[s]);const N=B=>{const $=document.createElement("div");$.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",$.innerHTML=`
            <div class="relative w-full max-w-4xl mx-4">
                <div class="absolute top-0 right-0 m-4">
                    <button class="bg-gray-800 rounded-full p-2 text-white hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="aspect-video w-full">
                    <iframe 
                        width="100%" 
                        height="100%" 
                        src="https://www.youtube.com/embed/${B}?autoplay=1" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                    ></iframe>
                </div>
            </div>
        `,document.body.appendChild($);const Q=$.querySelector("button");Q==null||Q.addEventListener("click",()=>{document.body.removeChild($)}),$.addEventListener("click",ee=>{ee.target===$&&document.body.removeChild($)})},V=B=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(B),I=async()=>{if(!(w||C.current)){if(!m){c(`/login?redirect=${f.pathname}`);return}T(!0),C.current=!0;try{const B=ar(vn,"users",m.uid);await LM(vn,async $=>{const Q=await $.get(B);if(!Q.exists())throw new Error("El documento del usuario no existe");const re=Q.data().favorites||[],D=re.findIndex(A=>A.id===n.id)!==-1;let x;if(D)x=re.filter(A=>A.id!==n.id);else{const A={id:n.id,title:n.title,poster_path:n.poster_path,vote_average:n.vote_average,release_date:n.release_date,overview:n.overview,backdrop_path:n.backdrop_path};x=[...re,A]}$.update(B,{favorites:x}),_(!D)}),t()}catch(B){console.error("Error al actualizar favoritos:",B)}finally{T(!1),C.current=!1}}};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"w-full h-[80vh] lg:h-[70vh]",children:[y.jsx("img",{src:`https://image.tmdb.org/t/p/original${n.backdrop_path}`,alt:n.title,className:"w-full h-full object-cover",onError:B=>{B.currentTarget.src="https://via.placeholder.com/1440x800?text=No+Backdrop+Available"}}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"})]}),e.length>0&&y.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:y.jsxs("button",{className:"bg-red-600 bg-opacity-90 hover:bg-opacity-100 rounded-full w-20 h-20 flex items-center justify-center transition-all duration-300 hover:scale-110",onClick:()=>N(e[0].key),children:[y.jsx("span",{className:"sr-only",children:"Ver trailer"}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})]})})]}),y.jsx("div",{className:"container mx-auto p-4 -mt-40 relative z-10",children:y.jsx("div",{className:"bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:y.jsx("div",{className:"p-6 md:p-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[y.jsxs("div",{className:"md:w-1/3 lg:w-1/4",children:[y.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg transform -translate-y-16 border-4 border-gray-800",children:y.jsx("img",{src:`https://image.tmdb.org/t/p/w500${n.poster_path}`,alt:n.title,className:"w-full h-auto",onError:B=>{B.currentTarget.src="https://via.placeholder.com/500x750?text=No+Poster+Available"}})}),y.jsxs("div",{className:"mt-4 space-y-3",children:[y.jsxs("button",{onClick:I,disabled:w,className:`w-full py-3 rounded-lg flex items-center justify-center transition-colors font-medium text-sm ${g?"bg-yellow-500 hover:bg-yellow-600 text-gray-900":"bg-blue-600 hover:bg-blue-700 text-white"} ${w?"opacity-70 cursor-not-allowed":""}`,children:[y.jsx("span",{className:"mr-2 text-lg",children:g?"⭐":"☆"}),w?"Procesando...":g?"Quitar de favoritos":"Añadir a favoritos"]}),e.length>0&&y.jsxs("button",{onClick:()=>N(e[0].key),className:"md:hidden w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center transition-colors font-medium text-sm",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Ver trailer"]})]}),y.jsxs("div",{className:"mt-6 bg-gray-900 rounded-xl p-5 space-y-3",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Estado"}),y.jsx("p",{className:"font-medium",children:n.status||"N/A"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Fecha de estreno"}),y.jsx("p",{className:"font-medium",children:new Date(n.release_date).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Duración"}),y.jsxs("p",{className:"font-medium",children:[n.runtime," minutos"]})]}),n.budget>0&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Presupuesto"}),y.jsx("p",{className:"font-medium",children:V(n.budget)})]}),n.revenue>0&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Recaudación"}),y.jsx("p",{className:"font-medium",children:V(n.revenue)})]})]})]}),y.jsxs("div",{className:"md:w-2/3 lg:w-3/4",children:[y.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.title}),n.tagline&&y.jsx("p",{className:"text-gray-400 text-xl italic mb-4",children:n.tagline}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[y.jsxs("div",{className:"flex items-center bg-yellow-600 text-white px-3 py-1 rounded-full font-medium",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),n.vote_average.toFixed(1)]}),y.jsx("span",{className:"text-gray-400",children:"•"}),y.jsx("span",{className:"text-gray-300",children:new Date(n.release_date).getFullYear()}),y.jsx("span",{className:"text-gray-400",children:"•"}),y.jsxs("span",{className:"text-gray-300",children:[n.runtime," min"]})]}),y.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:n.genres.map(B=>y.jsx("span",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 cursor-pointer rounded-full text-sm",children:B.name},B.id))}),y.jsx("div",{className:"mt-8 border-b border-gray-700",children:y.jsxs("div",{className:"flex space-x-6 overflow-x-auto pb-1",children:[y.jsxs("button",{onClick:()=>l("overview"),className:`py-3 font-medium relative ${a==="overview"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Sinopsis",a==="overview"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),y.jsxs("button",{onClick:()=>l("cast"),className:`py-3 font-medium relative ${a==="cast"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Reparto",a==="cast"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),e.length>0&&y.jsxs("button",{onClick:()=>l("videos"),className:`py-3 font-medium relative ${a==="videos"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Videos",a==="videos"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),y.jsxs("button",{onClick:()=>l("reviews"),className:`py-3 font-medium relative ${a==="reviews"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Reseñas",a==="reviews"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]})]})})]})]})})})})]})}const SS=k.createContext({isLoading:!1,error:null,addReview:async()=>{},updateReview:async()=>{},deleteReview:async()=>{},getMovieReviews:async()=>[],getUserReviewForMovie:async()=>null}),WM=()=>k.useContext(SS),ZM=({children:n})=>{const{user:e}=k.useContext(mr),[t,s]=k.useState(!1),[a,l]=k.useState(null),c=async(w,T,C)=>{if(!e)throw new Error("Usuario no autenticado");s(!0),l(null);try{if(await _(w))throw new Error("Ya has escrito una reseña para esta película");const V={movieId:w,userId:e.uid,userEmail:e.email||"usuario anónimo",rating:T,comment:C,createdAt:new Date};await kM(gp(vn,"reviews"),V)}catch(N){throw console.error("Error adding review:",N),l(N.message||"Error al añadir la reseña"),N}finally{s(!1)}},f=async(w,T,C)=>{if(!e)throw new Error("Usuario no autenticado");s(!0),l(null);try{const N=ar(vn,"reviews",w);await Ru(N,{rating:T,comment:C})}catch(N){throw console.error("Error updating review:",N),l(N.message||"Error al actualizar la reseña"),N}finally{s(!1)}},m=async w=>{if(!e)throw new Error("Usuario no autenticado");s(!0),l(null);try{await jM(ar(vn,"reviews",w))}catch(T){throw console.error("Error deleting review:",T),l(T.message||"Error al eliminar la reseña"),T}finally{s(!1)}},g=async w=>{s(!0),l(null);try{const T=jE(gp(vn,"reviews"),yp("movieId","==",w)),C=await PE(T),N=[];return C.forEach(V=>{const I=V.data();N.push({id:V.id,movieId:I.movieId,userId:I.userId,userEmail:I.userEmail,rating:I.rating,comment:I.comment,createdAt:I.createdAt.toDate()})}),N.sort((V,I)=>I.createdAt.getTime()-V.createdAt.getTime())}catch(T){return console.error("Error fetching movie reviews:",T),l(T.message||"Error al obtener las reseñas"),[]}finally{s(!1)}},_=async w=>{if(!e)return null;try{const T=jE(gp(vn,"reviews"),yp("movieId","==",w),yp("userId","==",e.uid)),C=await PE(T);if(C.empty)return null;const N=C.docs[0],V=N.data();return{id:N.id,movieId:V.movieId,userId:V.userId,userEmail:V.userEmail,rating:V.rating,comment:V.comment,createdAt:V.createdAt.toDate()}}catch(T){return console.error("Error fetching user review:",T),null}};return y.jsx(SS.Provider,{value:{isLoading:t,error:a,addReview:c,updateReview:f,deleteReview:m,getMovieReviews:g,getUserReviewForMovie:_},children:n})};function JM({movieId:n}){const{user:e}=k.useContext(mr),{addReview:t,updateReview:s,deleteReview:a,getMovieReviews:l,getUserReviewForMovie:c,isLoading:f,error:m}=WM(),[g,_]=k.useState([]),[w,T]=k.useState(null),[C,N]=k.useState(5),[V,I]=k.useState(""),[B,$]=k.useState(!1),[Q,ee]=k.useState(!1),re=async()=>{try{const P=await l(n);if(_(P),e){const F=await c(n);T(F),F&&(N(F.rating),I(F.comment))}}catch(P){console.error("Error al cargar reseñas:",P)}};k.useEffect(()=>{re()},[n,e]);const te=async P=>{P.preventDefault();try{B&&(w!=null&&w.id)?await s(w.id,C,V):await t(n,C,V),ee(!1),$(!1),re()}catch(F){console.error("Error al enviar la reseña:",F)}},D=async()=>{if(w!=null&&w.id&&window.confirm("¿Estás seguro de que deseas eliminar tu reseña?"))try{await a(w.id),T(null),re()}catch(P){console.error("Error al eliminar la reseña:",P)}},x=()=>{w&&(N(w.rating),I(w.comment),$(!0),ee(!0))},A=P=>Array.from({length:5}).map((F,M)=>y.jsx("span",{className:`text-2xl ${M<P?"text-yellow-500":"text-gray-500"}`,children:"★"},M)),O=P=>new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).format(P);return y.jsxs("div",{className:"mt-10",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Reseñas de usuarios"}),m&&y.jsx("div",{className:"bg-red-500 text-white p-3 rounded-lg mb-4",children:m}),e?!w&&!Q?y.jsx("button",{onClick:()=>ee(!0),className:"mb-6 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Escribir una reseña"}):null:y.jsx("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg",children:y.jsxs("p",{className:"text-gray-300",children:["Para escribir una reseña, debes"," ",y.jsx(Ut,{to:"/login",className:"text-red-600 hover:underline",children:"iniciar sesión"}),"."]})}),Q&&y.jsxs("form",{onSubmit:te,className:"mb-8 bg-gray-800 p-4 rounded-lg",children:[y.jsx("h3",{className:"text-xl font-medium mb-4",children:B?"Editar tu reseña":"Añadir una reseña"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block mb-2",children:"Puntuación"}),y.jsx("div",{className:"flex space-x-2",children:Array.from({length:5}).map((P,F)=>y.jsx("button",{type:"button",onClick:()=>N(F+1),className:"text-3xl focus:outline-none",children:y.jsx("span",{className:F<C?"text-yellow-500":"text-gray-500",children:"★"})},F))})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"comment",className:"block mb-2",children:"Comentario"}),y.jsx("textarea",{id:"comment",value:V,onChange:P=>I(P.target.value),className:"w-full p-3 bg-gray-700 rounded-lg text-white",rows:4,required:!0})]}),y.jsxs("div",{className:"flex space-x-3",children:[y.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",disabled:f,children:f?"Enviando...":B?"Actualizar":"Publicar"}),y.jsx("button",{type:"button",onClick:()=>{ee(!1),$(!1)},className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Cancelar"})]})]}),w&&!Q&&y.jsxs("div",{className:"mb-8 bg-gray-800 p-4 rounded-lg border border-red-600",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-medium",children:"Tu reseña"}),y.jsx("div",{className:"flex my-1",children:A(w.rating)}),y.jsx("p",{className:"text-sm text-gray-400",children:O(w.createdAt)})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:x,className:"bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded-lg text-sm transition-colors",children:"Editar"}),y.jsx("button",{onClick:D,className:"bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded-lg text-sm transition-colors",children:"Eliminar"})]})]}),y.jsx("p",{className:"text-gray-300",children:w.comment})]}),f&&g.length===0?y.jsxs("div",{className:"text-center py-10",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-600"}),y.jsx("p",{className:"mt-2 text-gray-400",children:"Cargando reseñas..."})]}):g.length===0?y.jsx("div",{className:"text-center py-10 bg-gray-800 rounded-lg",children:y.jsx("p",{className:"text-gray-400",children:"No hay reseñas para esta película aún."})}):y.jsx("div",{className:"space-y-4",children:g.filter(P=>!e||P.userId!==e.uid).map(P=>y.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[y.jsx("div",{className:"flex justify-between items-start mb-3",children:y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-medium",children:P.userEmail}),y.jsx("div",{className:"flex my-1",children:A(P.rating)}),y.jsx("p",{className:"text-sm text-gray-400",children:O(P.createdAt)})]})}),y.jsx("p",{className:"text-gray-300",children:P.comment})]},P.id))})]})}function eP({movie:n,cast:e,videos:t,similarMovies:s,activeTab:a}){const l=sn(),c=f=>{const m=document.createElement("div");m.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",m.innerHTML=`
            <div class="relative w-full max-w-4xl mx-4">
                <div class="absolute top-0 right-0 m-4">
                    <button class="bg-gray-800 rounded-full p-2 text-white hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="aspect-video w-full">
                    <iframe 
                        width="100%" 
                        height="100%" 
                        src="https://www.youtube.com/embed/${f}?autoplay=1" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                    ></iframe>
                </div>
            </div>
        `,document.body.appendChild(m);const g=m.querySelector("button");g==null||g.addEventListener("click",()=>{document.body.removeChild(m)}),m.addEventListener("click",_=>{_.target===m&&document.body.removeChild(m)})};return y.jsxs("div",{className:"container mx-auto p-4",children:[y.jsx("div",{className:"bg-gray-800 rounded-lg p-6 md:p-8 mt-4",children:y.jsxs("div",{className:"min-h-[200px]",children:[a==="overview"&&y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-300 leading-relaxed text-lg",children:n.overview||"No hay sinopsis disponible para esta película."}),n.production_companies&&n.production_companies.length>0&&y.jsxs("div",{className:"mt-8",children:[y.jsx("h3",{className:"text-lg font-medium mb-3",children:"Productoras"}),y.jsx("div",{className:"flex flex-wrap gap-6",children:n.production_companies.map(f=>y.jsx("div",{className:"text-center",children:f.logo_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w200${f.logo_path}`,alt:f.name,className:"h-10 object-contain bg-gray-900 rounded p-1"}):y.jsx("div",{className:"h-10 bg-gray-900 rounded p-2 flex items-center justify-center",children:y.jsx("span",{children:f.name})})},f.name))})]})]}),a==="cast"&&y.jsx("div",{children:e.length>0?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map(f=>y.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-800",children:f.profile_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w200${f.profile_path}`,alt:f.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"font-medium truncate",children:f.name}),y.jsx("p",{className:"text-sm text-gray-400 truncate",children:f.character})]})]},f.id))}):y.jsx("p",{className:"text-gray-400",children:"No hay información de reparto disponible."})}),a==="videos"&&y.jsx("div",{children:t.length>0?y.jsxs("div",{children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg",children:y.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${t[0].key}`,title:t[0].name,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),y.jsx("h3",{className:"mt-2 font-medium text-lg",children:t[0].name}),y.jsx("p",{className:"text-sm text-gray-400",children:t[0].type})]}),t.length>1&&y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-medium mb-3",children:"Más videos"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.slice(1).map(f=>y.jsxs("div",{onClick:()=>c(f.key),className:"bg-gray-900 rounded-lg overflow-hidden group cursor-pointer",children:[y.jsxs("div",{className:"aspect-video relative",children:[y.jsx("img",{src:`https://img.youtube.com/vi/${f.key}/mqdefault.jpg`,alt:f.name,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 group-hover:bg-opacity-30 transition-all",children:y.jsx("div",{className:"bg-red-600 rounded-full p-3 group-hover:scale-110 transition-transform",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"font-medium line-clamp-1",children:f.name}),y.jsx("p",{className:"text-sm text-gray-400",children:f.type})]})]},f.key))})]})]}):y.jsx("p",{className:"text-gray-400",children:"No hay videos disponibles."})}),a==="reviews"&&y.jsx("div",{children:y.jsx(JM,{movieId:n.id})})]})}),s.length>0&&y.jsxs("div",{className:"mt-12 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Películas similares"}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map(f=>y.jsxs("div",{onClick:()=>l(`/movie/${f.id}`),className:"bg-gray-800 rounded-lg overflow-hidden hover:scale-105 transition-transform cursor-pointer",children:[y.jsx("div",{className:"aspect-[2/3]",children:f.poster_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w200${f.poster_path}`,alt:f.title,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900 text-gray-600",children:y.jsx("span",{className:"text-sm text-center p-2",children:"No image"})})}),y.jsxs("div",{className:"p-2",children:[y.jsx("h4",{className:"font-medium truncate text-sm",children:f.title}),y.jsxs("div",{className:"flex items-center text-yellow-500 text-sm",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{children:f.vote_average.toFixed(1)})]})]})]},f.id))})]})]})}function tP(){const{id:n}=LR(),[e,t]=k.useState(null),[s,a]=k.useState([]),[l,c]=k.useState([]),[f,m]=k.useState([]),[g,_]=k.useState(!0),[w,T]=k.useState(null),[C,N]=k.useState("overview"),{addFavorite:V,removeFavorite:I,isFavorite:B}=$d(),$="521b418e6b0c0227a624515e80c9288a";k.useEffect(()=>{n&&((async()=>{_(!0),T(null);try{const te=await De.get(`https://api.themoviedb.org/3/movie/${n}?api_key=${$}`);t(te.data);const D=await De.get(`https://api.themoviedb.org/3/movie/${n}/credits?api_key=${$}`);a(D.data.cast.slice(0,10));const x=await De.get(`https://api.themoviedb.org/3/movie/${n}/videos?api_key=${$}`);c(x.data.results.filter(O=>O.site==="YouTube"&&(O.type==="Trailer"||O.type==="Teaser")).slice(0,3));const A=await De.get(`https://api.themoviedb.org/3/movie/${n}/similar?api_key=${$}`);m(A.data.results.slice(0,6))}catch(te){console.error("Error fetching movie data:",te),T("Error fetching movie details. Please try again later.")}finally{_(!1)}})(),N("overview"))},[n,$]);const Q=e?B(e.id):!1,ee=()=>{e&&(Q?I(e.id):V({id:e.id,title:e.title,poster_path:e.poster_path,vote_average:e.vote_average}))};return g?y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),y.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse"}),y.jsx("div",{className:"container mx-auto p-4 -mt-24 relative z-10",children:y.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse",children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[y.jsx("div",{className:"md:w-1/3 h-96 bg-gray-700 rounded-lg"}),y.jsxs("div",{className:"md:w-2/3",children:[y.jsx("div",{className:"h-8 bg-gray-700 rounded w-3/4 mb-4"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-6"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4 mb-6"}),y.jsx("div",{className:"h-32 bg-gray-700 rounded mb-6"})]})]})})})]}):w||!e?y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),y.jsx("div",{className:"container mx-auto p-4 flex items-center justify-center flex-grow",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:"😕"}),y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Algo salió mal"}),y.jsx("p",{className:"text-gray-400 mb-6",children:w||"No se pudo encontrar la película"}),y.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Volver atrás"})]})})]}):y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),y.jsx(XM,{movie:e,videos:l,handleFavoriteToggle:ee,isFavorited:Q,activeTab:C,setActiveTab:N}),y.jsx(eP,{movie:e,cast:s,videos:l,similarMovies:f,activeTab:C}),y.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 bg-red-600 hover:bg-red-700 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})}/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=k.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>k.createElement("svg",{ref:m,...rP,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:AS("lucide",a),...f},[...c.map(([g,_])=>k.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=(n,e)=>{const t=k.forwardRef(({className:s,...a},l)=>k.createElement(sP,{ref:l,iconNode:e,className:AS(`lucide-${nP(n)}`,s),...a}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],aP=by("ArrowUpNarrowWide",iP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],lP=by("Film",oP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],VE=by("Heart",uP);function cP(){const{favorites:n}=$d(),[e,t]=k.useState("recent"),s=k.useMemo(()=>{if(!n.length)return[];const l=[...n];switch(e){case"recent":return l;case"rating":return l.sort((c,f)=>f.vote_average-c.vote_average);case"alphabetical":return l.sort((c,f)=>c.title.localeCompare(f.title));default:return l}},[n,e]),a=l=>{t(l.target.value)};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-b from-blue-900 to-blue-950 text-white",children:[y.jsx(En,{}),y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[y.jsx(VE,{className:"text-pink-500",size:28,fill:"currentColor"}),y.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-indigo-600",children:"Mi Colección Favorita"})]}),n.length===0?y.jsxs("div",{className:"text-center p-12 bg-blue-800/40 backdrop-blur-md rounded-xl border border-blue-700/50 shadow-2xl",children:[y.jsx(lP,{size:64,className:"mx-auto mb-6 text-blue-400 opacity-70"}),y.jsx("h2",{className:"text-3xl font-semibold mb-3 text-blue-100",children:"Tu Colección Está Vacía"}),y.jsx("p",{className:"text-blue-200 text-lg max-w-md mx-auto mb-8",children:"Explora películas y haz clic en el botón de corazón para comenzar a crear tu colección personal."}),y.jsx("a",{href:"/",className:"inline-block px-8 py-4 bg-gradient-to-r from-indigo-600 to-blue-700 hover:from-indigo-700 hover:to-blue-800 text-white font-medium rounded-full transition-all duration-300 shadow-lg hover:shadow-indigo-500/30",children:"Descubrir Películas"})]}):y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8 bg-blue-800/30 p-4 rounded-lg backdrop-blur-sm border border-blue-700/40 shadow-lg",children:[y.jsxs("p",{className:"text-xl font-medium flex items-center",children:[y.jsx("span",{className:"text-pink-500 font-bold text-2xl mr-2",children:n.length}),n.length===1?"película":"películas"," en tu colección"]}),y.jsxs("div",{className:"flex gap-3 items-center",children:[y.jsx(aP,{size:20,className:"text-blue-300"}),y.jsxs("select",{className:"bg-blue-900/80 border border-blue-700 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all duration-200",value:e,onChange:a,children:[y.jsx("option",{value:"recent",children:"Añadido recientemente"}),y.jsx("option",{value:"rating",children:"Mejor valoradas"}),y.jsx("option",{value:"alphabetical",children:"A-Z"})]})]})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:s.map(l=>y.jsxs("div",{className:"relative group transform transition-all duration-300 hover:scale-105 hover:-translate-y-1",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-900/90 via-blue-900/30 to-transparent opacity-0 group-hover:opacity-100 z-10 transition-opacity duration-300 rounded-lg flex items-end",children:y.jsxs("div",{className:"p-4 w-full",children:[y.jsx("p",{className:"text-white font-medium truncate",children:l.title}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx(VE,{size:16,className:"text-pink-500 mr-1",fill:"currentColor"}),y.jsx("span",{className:"text-blue-200 text-sm",children:"Favorito"})]})]})}),y.jsx("div",{className:"overflow-hidden rounded-lg shadow-lg shadow-blue-900/50",children:y.jsx(zo,{id:l.id,title:l.title,poster:`https://image.tmdb.org/t/p/w500${l.poster_path}`,rating:l.vote_average,movie:l})})]},l.id))})]})]})]})}function hP(){const[n,e]=k.useState(""),[t,s]=k.useState(""),a=sn();async function l(c){c.preventDefault();try{const f=await q2(cd,n,t);return a("/dashboard",{replace:!0}),f.user.uid}catch(f){alert(f.message)}}return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(En,{}),y.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center flex-grow",children:y.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg shadow-lg w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Iniciar Sesión"}),y.jsxs("form",{onSubmit:l,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-white mb-2",children:"Email"}),y.jsx("input",{id:"email",type:"email",placeholder:"Ingresa tu email",value:n,onChange:c=>e(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-white mb-2",children:"Contraseña"}),y.jsx("input",{id:"password",type:"password",placeholder:"Ingresa tu contraseña",value:t,onChange:c=>s(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline",children:"Iniciar Sesión"})]}),y.jsx("div",{className:"mt-4 text-center",children:y.jsxs("p",{className:"text-gray-400",children:["¿No tienes una cuenta?"," ",y.jsx("button",{onClick:()=>a("/signup"),className:"text-blue-500 hover:underline focus:outline-none",children:"Registrarse"})]})})]})})]})}function dP(){const[n,e]=k.useState(""),[t,s]=k.useState(""),a=sn();async function l(c){c.preventDefault();try{const f=await F2(cd,n,t);return a("/dashboard",{replace:!0}),f.user.uid}catch(f){alert(f.message)}}return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(En,{}),y.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center flex-grow",children:y.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg shadow-lg w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Crear Cuenta"}),y.jsxs("form",{onSubmit:l,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-white mb-2",children:"Email"}),y.jsx("input",{id:"email",type:"email",placeholder:"Ingresa tu email",value:n,onChange:c=>e(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-white mb-2",children:"Contraseña"}),y.jsx("input",{id:"password",type:"password",placeholder:"Ingresa tu contraseña",value:t,onChange:c=>s(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline",children:"Registrarse"})]}),y.jsx("div",{className:"mt-4 text-center",children:y.jsxs("p",{className:"text-gray-400",children:["¿Ya tienes una cuenta?"," ",y.jsx("button",{onClick:()=>a("/login"),className:"text-blue-500 hover:underline focus:outline-none",children:"Iniciar sesión"})]})})]})})]})}const LE="521b418e6b0c0227a624515e80c9288a";function fP(){const[n,e]=dg();sn();const[t,s]=k.useState([]),[a,l]=k.useState([]),[c,f]=k.useState(n.get("genero")?Number(n.get("genero")):null),[m,g]=k.useState(1),[_,w]=k.useState(0),[T,C]=k.useState(!0),[N,V]=k.useState(n.get("orden")||"popularity.desc"),[I,B]=k.useState(n.get("año")||"");k.useEffect(()=>{(async()=>{try{const D=await De.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${LE}&language=es-ES`);l(D.data.genres)}catch(D){console.error("Error fetching genres:",D)}})()},[]),k.useEffect(()=>{(async()=>{C(!0);let x="discover/movie",A=`api_key=${LE}&language=es-ES&page=${m}&sort_by=${N}`;c&&(A+=`&with_genres=${c}`),I&&(A+=`&primary_release_year=${I}`);try{const O=await De.get(`https://api.themoviedb.org/3/${x}?${A}`);s(O.data.results),w(O.data.total_pages>500?500:O.data.total_pages)}catch(O){console.error("Error fetching movies:",O)}finally{C(!1)}})();const D={};c&&(D.genero=c.toString()),N&&(D.orden=N),I&&(D.año=I),e(D)},[m,c,N,I,e]);const $=te=>{f(te===c?null:te),g(1)},Q=te=>{V(te.target.value),g(1)},ee=te=>{B(te.target.value),g(1)},re=te=>{const D=a.find(x=>x.id===te);return D?D.name:""};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Películas"}),y.jsxs("p",{className:"text-gray-400 mt-1",children:["Explora nuestra colección de películas",c&&a.length>0&&y.jsxs("span",{children:[" de ",re(c)]})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0",children:[y.jsxs("select",{value:I,onChange:ee,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Todos los años"}),[...Array(30)].map((te,D)=>{const x=new Date().getFullYear()-D;return y.jsx("option",{value:x,children:x},x)})]}),y.jsxs("select",{value:N,onChange:Q,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"popularity.desc",children:"Más populares"}),y.jsx("option",{value:"vote_average.desc",children:"Mejor valoradas"}),y.jsx("option",{value:"primary_release_date.desc",children:"Más recientes"}),y.jsx("option",{value:"revenue.desc",children:"Más taquilleras"}),y.jsx("option",{value:"title.asc",children:"Título A-Z"})]})]})]}),y.jsx("div",{className:"mb-8 overflow-x-auto pb-2",children:y.jsx("div",{className:"flex space-x-2",children:a.map(te=>y.jsx("button",{onClick:()=>$(te.id),className:`px-4 py-2 rounded-full text-sm font-medium flex-shrink-0 transition-colors ${c===te.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:te.name},te.id))})}),T?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((te,D)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},D))}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(te=>y.jsx(zo,{id:te.id,title:te.title,poster:`https://image.tmdb.org/t/p/w500${te.poster_path}`,rating:te.vote_average},te.id))}),_>1&&y.jsx("div",{className:"flex justify-center mt-10",children:y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:()=>g(te=>Math.max(te-1,1)),disabled:m===1,className:`px-4 py-2 rounded-md ${m===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),m>3&&y.jsx("button",{onClick:()=>g(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),m>4&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((te,D)=>{const x=m-2+D;return x>0&&x<=_?y.jsx("button",{onClick:()=>g(x),className:`px-4 py-2 rounded-md ${m===x?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:x},x):null}),m<_-3&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),m<_-2&&y.jsx("button",{onClick:()=>g(_),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:_}),y.jsx("button",{onClick:()=>g(te=>Math.min(te+1,_)),disabled:m===_,className:`px-4 py-2 rounded-md ${m===_?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todas las películas"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const UE="521b418e6b0c0227a624515e80c9288a";function mP({id:n,title:e,poster:t,rating:s}){const a=sn(),l=()=>{a(`/series/${n}`)},c=g=>{g.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"},f=Number(s).toFixed(1),m=()=>s>=8?"bg-green-600":s>=6?"bg-yellow-600":"bg-red-600";return y.jsxs("div",{className:"relative overflow-hidden bg-gray-900 rounded-lg shadow-lg transition-all duration-300 hover:shadow-2xl cursor-pointer hover:scale-105",onClick:l,children:[y.jsx("div",{className:`absolute top-2 right-2 ${m()} text-white text-sm font-bold rounded-full h-9 w-9 flex items-center justify-center z-20 shadow-md`,children:f}),y.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[y.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover",onError:c}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-70"})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-white font-semibold text-lg truncate",children:e}),y.jsxs("div",{className:"flex items-center text-yellow-400",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{className:"text-sm text-gray-300",children:f})]})]})]})}function pP(){var D;const[n,e]=dg(),[t,s]=k.useState([]),[a,l]=k.useState([]),[c,f]=k.useState(n.get("genero")?Number(n.get("genero")):null),[m,g]=k.useState(1),[_,w]=k.useState(0),[T,C]=k.useState(!0),[N,V]=k.useState(n.get("orden")||"popularity.desc"),[I,B]=k.useState(n.get("network")||""),$=[{id:213,name:"Netflix"},{id:1024,name:"Amazon"},{id:2552,name:"Apple TV+"},{id:49,name:"HBO"},{id:67,name:"Showtime"},{id:337,name:"Disney+"},{id:4330,name:"Paramount+"},{id:2739,name:"Disney+ Hotstar"},{id:359,name:"Cinemax"},{id:174,name:"AMC"},{id:19,name:"FOX"},{id:6,name:"NBC"},{id:2,name:"ABC"},{id:4,name:"BBC"}];k.useEffect(()=>{(async()=>{try{const A=await De.get(`https://api.themoviedb.org/3/genre/tv/list?api_key=${UE}&language=es-ES`);l(A.data.genres)}catch(A){console.error("Error fetching genres:",A)}})()},[]),k.useEffect(()=>{(async()=>{C(!0);let O="discover/tv",P=`api_key=${UE}&language=es-ES&page=${m}&sort_by=${N}`;c&&(P+=`&with_genres=${c}`),I&&(P+=`&with_networks=${I}`);try{const F=await De.get(`https://api.themoviedb.org/3/${O}?${P}`);s(F.data.results),w(F.data.total_pages>500?500:F.data.total_pages)}catch(F){console.error("Error fetching series:",F)}finally{C(!1)}})();const A={};c&&(A.genero=c.toString()),N&&(A.orden=N),I&&(A.network=I),e(A)},[m,c,N,I,e]);const Q=x=>{f(x===c?null:x),g(1)},ee=x=>{V(x.target.value),g(1)},re=x=>{B(x.target.value),g(1)},te=x=>{const A=a.find(O=>O.id===x);return A?A.name:""};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Series"}),y.jsxs("p",{className:"text-gray-400 mt-1",children:["Explora nuestra colección de series",c&&a.length>0&&y.jsxs("span",{children:[" de ",te(c)]}),I&&y.jsxs("span",{children:[" en ",((D=$.find(x=>x.id.toString()===I))==null?void 0:D.name)||""]})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0",children:[y.jsxs("select",{value:I,onChange:re,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Todas las plataformas"}),$.map(x=>y.jsx("option",{value:x.id,children:x.name},x.id))]}),y.jsxs("select",{value:N,onChange:ee,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"popularity.desc",children:"Más populares"}),y.jsx("option",{value:"vote_average.desc",children:"Mejor valoradas"}),y.jsx("option",{value:"first_air_date.desc",children:"Más recientes"}),y.jsx("option",{value:"name.asc",children:"Título A-Z"})]})]})]}),y.jsx("div",{className:"mb-8 overflow-x-auto pb-2",children:y.jsx("div",{className:"flex space-x-2",children:a.map(x=>y.jsx("button",{onClick:()=>Q(x.id),className:`px-4 py-2 rounded-full text-sm font-medium flex-shrink-0 transition-colors ${c===x.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:x.name},x.id))})}),T?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((x,A)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},A))}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(x=>y.jsx(mP,{id:x.id,title:x.name,poster:`https://image.tmdb.org/t/p/w500${x.poster_path}`,rating:x.vote_average},x.id))}),_>1&&y.jsx("div",{className:"flex justify-center mt-10",children:y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:()=>g(x=>Math.max(x-1,1)),disabled:m===1,className:`px-4 py-2 rounded-md ${m===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),m>3&&y.jsx("button",{onClick:()=>g(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),m>4&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((x,A)=>{const O=m-2+A;return O>0&&O<=_?y.jsx("button",{onClick:()=>g(O),className:`px-4 py-2 rounded-md ${m===O?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:O},O):null}),m<_-3&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),m<_-2&&y.jsx("button",{onClick:()=>g(_),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:_}),y.jsx("button",{onClick:()=>g(x=>Math.min(x+1,_)),disabled:m===_,className:`px-4 py-2 rounded-md ${m===_?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todas las series"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const vp="521b418e6b0c0227a624515e80c9288a",zE=n=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("es-ES",e)};function gP(){const n=sn(),[e,t]=k.useState([]),[s,a]=k.useState([]),[l,c]=k.useState(null),[f,m]=k.useState(!0);k.useEffect(()=>{(async()=>{m(!0);try{const T=(await De.get(`https://api.themoviedb.org/3/movie/now_playing?api_key=${vp}&language=es-ES&page=1&region=ES`)).data.results;if(t(T),T.length>0){const N=Math.floor(Math.random()*Math.min(5,T.length)),V=T[N].id,I=await De.get(`https://api.themoviedb.org/3/movie/${V}?api_key=${vp}&language=es-ES`);c(I.data)}const C=await De.get(`https://api.themoviedb.org/3/movie/upcoming?api_key=${vp}&language=es-ES&page=1&region=ES`);a(C.data.results)}catch(w){console.error("Error fetching movies:",w)}finally{m(!1)}})()},[]);const g={};return s.forEach(_=>{if(!_.release_date)return;const w=new Date(_.release_date),T=`${w.toLocaleString("es-ES",{month:"long"})} ${w.getFullYear()}`;g[T]||(g[T]=[]),g[T].push(_)}),y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),f?y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse mb-10 rounded-xl"}),y.jsx("div",{className:"h-8 w-64 bg-gray-800 animate-pulse mb-6"}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[...Array(5)].map((_,w)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},w))}),y.jsx("div",{className:"h-8 w-64 bg-gray-800 animate-pulse my-6"}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[...Array(5)].map((_,w)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},w))})]}):y.jsxs(y.Fragment,{children:[l&&y.jsxs("div",{className:"relative w-full h-[60vh] mb-10",children:[y.jsxs("div",{className:"absolute inset-0",children:[y.jsx("img",{src:`https://image.tmdb.org/t/p/original${l.backdrop_path}`,alt:l.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"})]}),y.jsx("div",{className:"container mx-auto px-4 h-full flex items-center",children:y.jsxs("div",{className:"max-w-xl z-10",children:[y.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-3",children:l.title}),y.jsxs("div",{className:"flex items-center text-sm mb-4",children:[y.jsx("span",{className:"bg-blue-600 px-2 py-1 rounded-md font-medium mr-3",children:"ESTRENO"}),y.jsx("span",{className:"text-gray-300",children:zE(l.release_date)}),y.jsx("span",{className:"mx-2",children:"•"}),y.jsxs("span",{className:"flex items-center text-yellow-400",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),l.vote_average.toFixed(1)]})]}),y.jsx("p",{className:"text-gray-300 mb-6 line-clamp-3",children:l.overview}),y.jsx("button",{onClick:()=>n(`/movie/${l.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Ver detalles"})]})})]}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"mb-12",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"En cines ahora"}),y.jsx("button",{onClick:()=>n("/peliculas?orden=primary_release_date.desc"),className:"text-blue-500 hover:text-blue-400 text-sm font-medium",children:"Ver todos"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.slice(0,5).map(_=>y.jsx(zo,{id:_.id,title:_.title,poster:`https://image.tmdb.org/t/p/w500${_.poster_path}`,rating:_.vote_average},_.id))})]}),y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Próximos estrenos"}),Object.keys(g).sort().map(_=>y.jsxs("div",{className:"mb-10",children:[y.jsx("h3",{className:"text-xl font-medium mb-4 text-blue-500",children:_.charAt(0).toUpperCase()+_.slice(1)}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:g[_].map(w=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer transition-transform hover:scale-105",onClick:()=>n(`/movie/${w.id}`),children:[y.jsxs("div",{className:"relative aspect-[2/3]",children:[w.poster_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w500${w.poster_path}`,alt:w.title,className:"w-full h-full object-cover",onError:T=>{T.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"}}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-gray-500",children:y.jsx("span",{className:"text-sm text-center p-2",children:"Sin imagen"})}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-gray-900 to-transparent p-2",children:y.jsx("div",{className:"text-xs text-white font-medium",children:zE(w.release_date)})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"font-medium truncate",children:w.title}),y.jsxs("div",{className:"flex items-center text-xs text-blue-500",children:[y.jsx("span",{className:"mr-1",children:"📅"}),y.jsx("span",{children:"Próximamente"})]})]})]},w.id))})]},_))]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todos los estrenos"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const _p="521b418e6b0c0227a624515e80c9288a";function yP(){const[n,e]=dg(),t=sn(),s=n.get("q")||"",[a,l]=k.useState("movies"),[c,f]=k.useState({movies:[],people:[],total_movies:0,total_people:0,total_results:0}),[m,g]=k.useState(!1),[_,w]=k.useState(null),[T,C]=k.useState(1),[N,V]=k.useState(0),[I,B]=k.useState(s);k.useEffect(()=>{if(!s)return;(async()=>{g(!0),w(null);try{const re=await De.get(`https://api.themoviedb.org/3/search/movie?api_key=${_p}&language=es-ES&query=${s}&page=${T}&include_adult=false`),te=await De.get(`https://api.themoviedb.org/3/search/person?api_key=${_p}&language=es-ES&query=${s}&page=1&include_adult=false`),D=await De.get(`https://api.themoviedb.org/3/search/multi?api_key=${_p}&language=es-ES&query=${s}&page=1&include_adult=false`);f({movies:re.data.results,people:te.data.results,total_movies:re.data.total_results,total_people:te.data.total_results,total_results:D.data.total_results}),V(re.data.total_pages>500?500:re.data.total_pages)}catch(re){console.error("Error fetching search results:",re),w("Ocurrió un error al buscar. Por favor intenta nuevamente.")}finally{g(!1)}})()},[s,T]);const $=ee=>{ee.preventDefault(),I.trim()&&(C(1),e({q:I}))},Q=ee=>{l(ee)};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(En,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("div",{className:"mb-8",children:y.jsxs("form",{onSubmit:$,className:"flex w-full max-w-3xl mx-auto",children:[y.jsx("input",{type:"text",value:I,onChange:ee=>B(ee.target.value),placeholder:"Buscar películas, actores, directores...",className:"w-full bg-gray-800 text-white border border-gray-700 rounded-l-lg px-5 py-3 focus:outline-none focus:border-blue-500"}),y.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-r-lg font-medium transition-colors",disabled:m,children:m?"Buscando...":"Buscar"})]})}),_?y.jsxs("div",{className:"text-center text-red-500 p-8 bg-gray-800 rounded-lg",children:[y.jsx("p",{className:"text-xl font-bold mb-2",children:"Error"}),y.jsx("p",{children:_})]}):s?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h1",{className:"text-2xl font-bold mb-1",children:['Resultados para: "',s,'"']}),y.jsxs("p",{className:"text-gray-400",children:["Se encontraron ",c.total_results," resultados"]})]}),y.jsx("div",{className:"mb-6 border-b border-gray-800",children:y.jsxs("div",{className:"flex space-x-8",children:[y.jsxs("button",{onClick:()=>Q("movies"),className:`py-3 font-medium relative ${a==="movies"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Películas (",c.total_movies,")",a==="movies"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]}),y.jsxs("button",{onClick:()=>Q("people"),className:`py-3 font-medium relative ${a==="people"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Personas (",c.total_people,")",a==="people"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]})]})}),m?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((ee,re)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},re))}):y.jsxs(y.Fragment,{children:[a==="movies"&&y.jsx(y.Fragment,{children:c.movies.length===0?y.jsx("div",{className:"text-center py-12",children:y.jsxs("p",{className:"text-xl text-gray-400",children:['No se encontraron películas para "',s,'"']})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:c.movies.map(ee=>y.jsx(zo,{id:ee.id,title:ee.title,poster:ee.poster_path?`https://image.tmdb.org/t/p/w500${ee.poster_path}`:"https://via.placeholder.com/300x450?text=No+Image",rating:ee.vote_average},ee.id))})}),a==="people"&&y.jsx(y.Fragment,{children:c.people.length===0?y.jsx("div",{className:"text-center py-12",children:y.jsxs("p",{className:"text-xl text-gray-400",children:['No se encontraron personas para "',s,'"']})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:c.people.map(ee=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>t(`/person/${ee.id}`),children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700 relative",children:ee.profile_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w500${ee.profile_path}`,alt:ee.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"font-medium text-lg",children:ee.name}),y.jsx("p",{className:"text-sm text-gray-400",children:ee.known_for_department}),ee.known_for&&ee.known_for.length>0&&y.jsxs("div",{className:"mt-2",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Conocido por:"}),y.jsx("div",{className:"text-xs text-gray-400 line-clamp-2",children:ee.known_for.map((re,te)=>y.jsxs("span",{children:[re.title||re.name,te<ee.known_for.length-1?", ":""]},te))})]})]})]},ee.id))})}),a==="movies"&&N>1&&y.jsx("div",{className:"flex justify-center mt-10",children:y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:()=>C(ee=>Math.max(ee-1,1)),disabled:T===1,className:`px-4 py-2 rounded-md ${T===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),T>3&&y.jsx("button",{onClick:()=>C(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),T>4&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((ee,re)=>{const te=T-2+re;return te>0&&te<=N?y.jsx("button",{onClick:()=>C(te),className:`px-4 py-2 rounded-md ${T===te?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:te},te):null}),T<N-3&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),T<N-2&&y.jsx("button",{onClick:()=>C(N),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:N}),y.jsx("button",{onClick:()=>C(ee=>Math.min(ee+1,N)),disabled:T===N,className:`px-4 py-2 rounded-md ${T===N?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}):y.jsxs("div",{className:"text-center py-16",children:[y.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Buscar contenido"}),y.jsx("p",{className:"text-gray-400 mb-6 max-w-lg mx-auto",children:"Ingresa un término de búsqueda para encontrar películas, actores, directores y más."}),y.jsxs("div",{className:"flex justify-center space-x-6 mt-10",children:[y.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center cursor-pointer hover:bg-gray-750 transition-colors max-w-xs",onClick:()=>t("/peliculas"),children:[y.jsx("div",{className:"text-4xl mb-3",children:"🎬"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Explorar películas"}),y.jsx("p",{className:"text-sm text-gray-400",children:"Explora las películas más populares y recientes"})]}),y.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center cursor-pointer hover:bg-gray-750 transition-colors max-w-xs",onClick:()=>t("/series"),children:[y.jsx("div",{className:"text-4xl mb-3",children:"📺"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Explorar series"}),y.jsx("p",{className:"text-sm text-gray-400",children:"Descubre las series más populares del momento"})]})]})]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Buscar"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}function bp({children:n}){const{user:e}=k.useContext(mr);return e?n:y.jsx(ZR,{to:"/login"})}const Ep={description:""},vP=k.createContext({userProfile:null,isLoading:!0,error:null,updateUserDescription:async()=>{}}),_P=({children:n})=>{const{user:e}=k.useContext(mr),[t,s]=k.useState(null),[a,l]=k.useState(!0),[c,f]=k.useState(null);k.useEffect(()=>{(async()=>{if(!e){s(null),l(!1);return}l(!0);try{const _=ar(vn,"users",e.uid),w=await ES(_);w.exists()?s(w.data()):(await rg(_,Ep),s(Ep))}catch(_){console.error("Error fetching user profile:",_),f("No se pudo cargar el perfil de usuario. Por favor, inténtalo de nuevo más tarde.")}finally{l(!1)}})()},[e]);const m=async g=>{if(e)try{const _=ar(vn,"users",e.uid);await Ru(_,{description:g}),s(w=>w?{...w,description:g}:Ep)}catch(_){throw console.error("Error updating user description:",_),f("No se pudo actualizar la descripción. Por favor, inténtalo de nuevo más tarde."),_}};return y.jsx(vP.Provider,{value:{userProfile:t,isLoading:a,error:c,updateUserDescription:m},children:n})};function bP(){return y.jsx(FM,{children:y.jsx(_P,{children:y.jsx(qM,{children:y.jsx(ZM,{children:y.jsxs(e1,{children:[y.jsx(Wn,{path:"/",element:y.jsx(GM,{})}),y.jsx(Wn,{path:"/dashboard",element:y.jsx(bp,{children:y.jsx(QM,{})})}),y.jsx(Wn,{path:"/profile",element:y.jsx(bp,{children:y.jsx(YM,{})})}),y.jsx(Wn,{path:"/movie/:id",element:y.jsx(tP,{})}),y.jsx(Wn,{path:"/favorites",element:y.jsx(bp,{children:y.jsx(cP,{})})}),y.jsx(Wn,{path:"/login",element:y.jsx(hP,{})}),y.jsx(Wn,{path:"/signup",element:y.jsx(dP,{})}),y.jsx(Wn,{path:"/peliculas",element:y.jsx(fP,{})}),y.jsx(Wn,{path:"/series",element:y.jsx(pP,{})}),y.jsx(Wn,{path:"/estrenos",element:y.jsx(gP,{})}),y.jsx(Wn,{path:"/search",element:y.jsx(yP,{})})]})})})})})}lR.createRoot(document.getElementById("root")).render(y.jsx(eR.StrictMode,{children:y.jsx(S1,{children:y.jsx(bP,{})})}));
//# sourceMappingURL=index-B255R_cD.js.map
