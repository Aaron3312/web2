(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Fw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function JA(){if(x_)return Zl;x_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var m in a)m!=="key"&&(l[m]=a[m])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var T_;function eR(){return T_||(T_=1,Gm.exports=JA()),Gm.exports}var f=eR(),Km={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function tR(){if(S_)return Ce;S_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,V={};function C(L,ae,pe){this.props=L,this.context=ae,this.refs=V,this.updater=pe||I}C.prototype.isReactComponent={},C.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=C.prototype;function G(L,ae,pe){this.props=L,this.context=ae,this.refs=V,this.updater=pe||I}var Q=G.prototype=new F;Q.constructor=G,N(Q,C.prototype),Q.isPureReactComponent=!0;var Y=Array.isArray,Z={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function D(L,ae,pe,ue,he,Ie){return pe=Ie.ref,{$$typeof:n,type:L,key:ae,ref:pe!==void 0?pe:null,props:Ie}}function T(L,ae){return D(L.type,ae,void 0,void 0,void 0,L.props)}function A(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function j(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return ae[pe]})}var P=/\/+/g;function z(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):ae.toString(36)}function M(){}function xt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function gt(L,ae,pe,ue,he){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var Ne=!1;if(L===null)Ne=!0;else switch(Ie){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(L.$$typeof){case n:case e:Ne=!0;break;case _:return Ne=L._init,gt(Ne(L._payload),ae,pe,ue,he)}}if(Ne)return he=he(L),Ne=ue===""?"."+z(L,0):ue,Y(he)?(pe="",Ne!=null&&(pe=Ne.replace(P,"$&/")+"/"),gt(he,ae,pe,"",function(lt){return lt})):he!=null&&(A(he)&&(he=T(he,pe+(he.key==null||L&&L.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+Ne)),ae.push(he)),1;Ne=0;var yt=ue===""?".":ue+":";if(Y(L))for(var qe=0;qe<L.length;qe++)ue=L[qe],Ie=yt+z(ue,qe),Ne+=gt(ue,ae,pe,Ie,he);else if(qe=x(L),typeof qe=="function")for(L=qe.call(L),qe=0;!(ue=L.next()).done;)ue=ue.value,Ie=yt+z(ue,qe++),Ne+=gt(ue,ae,pe,Ie,he);else if(Ie==="object"){if(typeof L.then=="function")return gt(xt(L),ae,pe,ue,he);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function le(L,ae,pe){if(L==null)return L;var ue=[],he=0;return gt(L,ue,"","",function(Ie){return ae.call(pe,Ie,he++)}),ue}function Ee(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var ve=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ke(){}return Ce.Children={map:le,forEach:function(L,ae,pe){le(L,function(){ae.apply(this,arguments)},pe)},count:function(L){var ae=0;return le(L,function(){ae++}),ae},toArray:function(L){return le(L,function(ae){return ae})||[]},only:function(L){if(!A(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=C,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=G,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cloneElement=function(L,ae,pe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=N({},L.props),he=L.key,Ie=void 0;if(ae!=null)for(Ne in ae.ref!==void 0&&(Ie=void 0),ae.key!==void 0&&(he=""+ae.key),ae)!ne.call(ae,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ae.ref===void 0||(ue[Ne]=ae[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=pe;else if(1<Ne){for(var yt=Array(Ne),qe=0;qe<Ne;qe++)yt[qe]=arguments[qe+2];ue.children=yt}return D(L.type,he,void 0,void 0,Ie,ue)},Ce.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ce.createElement=function(L,ae,pe){var ue,he={},Ie=null;if(ae!=null)for(ue in ae.key!==void 0&&(Ie=""+ae.key),ae)ne.call(ae,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(he[ue]=ae[ue]);var Ne=arguments.length-2;if(Ne===1)he.children=pe;else if(1<Ne){for(var yt=Array(Ne),qe=0;qe<Ne;qe++)yt[qe]=arguments[qe+2];he.children=yt}if(L&&L.defaultProps)for(ue in Ne=L.defaultProps,Ne)he[ue]===void 0&&(he[ue]=Ne[ue]);return D(L,Ie,void 0,void 0,null,he)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:m,render:L}},Ce.isValidElement=A,Ce.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:Ee}},Ce.memo=function(L,ae){return{$$typeof:y,type:L,compare:ae===void 0?null:ae}},Ce.startTransition=function(L){var ae=Z.T,pe={};Z.T=pe;try{var ue=L(),he=Z.S;he!==null&&he(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ke,ve)}catch(Ie){ve(Ie)}finally{Z.T=ae}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(L){return Z.H.use(L)},Ce.useActionState=function(L,ae,pe){return Z.H.useActionState(L,ae,pe)},Ce.useCallback=function(L,ae){return Z.H.useCallback(L,ae)},Ce.useContext=function(L){return Z.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,ae){return Z.H.useDeferredValue(L,ae)},Ce.useEffect=function(L,ae){return Z.H.useEffect(L,ae)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(L,ae,pe){return Z.H.useImperativeHandle(L,ae,pe)},Ce.useInsertionEffect=function(L,ae){return Z.H.useInsertionEffect(L,ae)},Ce.useLayoutEffect=function(L,ae){return Z.H.useLayoutEffect(L,ae)},Ce.useMemo=function(L,ae){return Z.H.useMemo(L,ae)},Ce.useOptimistic=function(L,ae){return Z.H.useOptimistic(L,ae)},Ce.useReducer=function(L,ae,pe){return Z.H.useReducer(L,ae,pe)},Ce.useRef=function(L){return Z.H.useRef(L)},Ce.useState=function(L){return Z.H.useState(L)},Ce.useSyncExternalStore=function(L,ae,pe){return Z.H.useSyncExternalStore(L,ae,pe)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.0.0",Ce}var A_;function ig(){return A_||(A_=1,Km.exports=tR()),Km.exports}var O=ig();const nR=Fw(O);var Qm={exports:{}},Jl={},Ym={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function rR(){return R_||(R_=1,function(n){function e(le,Ee){var ve=le.length;le.push(Ee);e:for(;0<ve;){var Ke=ve-1>>>1,L=le[Ke];if(0<a(L,Ee))le[Ke]=Ee,le[ve]=L,ve=Ke;else break e}}function t(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var Ee=le[0],ve=le.pop();if(ve!==Ee){le[0]=ve;e:for(var Ke=0,L=le.length,ae=L>>>1;Ke<ae;){var pe=2*(Ke+1)-1,ue=le[pe],he=pe+1,Ie=le[he];if(0>a(ue,ve))he<L&&0>a(Ie,ue)?(le[Ke]=Ie,le[he]=ve,Ke=he):(le[Ke]=ue,le[pe]=ve,Ke=pe);else if(he<L&&0>a(Ie,ve))le[Ke]=Ie,le[he]=ve,Ke=he;else break e}}return Ee}function a(le,Ee){var ve=le.sortIndex-Ee.sortIndex;return ve!==0?ve:le.id-Ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();n.unstable_now=function(){return u.now()-m}}var p=[],y=[],_=1,E=null,x=3,I=!1,N=!1,V=!1,C=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Q(le){for(var Ee=t(y);Ee!==null;){if(Ee.callback===null)s(y);else if(Ee.startTime<=le)s(y),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=t(y)}}function Y(le){if(V=!1,Q(le),!N)if(t(p)!==null)N=!0,xt();else{var Ee=t(y);Ee!==null&&gt(Y,Ee.startTime-le)}}var Z=!1,ne=-1,D=5,T=-1;function A(){return!(n.unstable_now()-T<D)}function j(){if(Z){var le=n.unstable_now();T=le;var Ee=!0;try{e:{N=!1,V&&(V=!1,F(ne),ne=-1),I=!0;var ve=x;try{t:{for(Q(le),E=t(p);E!==null&&!(E.expirationTime>le&&A());){var Ke=E.callback;if(typeof Ke=="function"){E.callback=null,x=E.priorityLevel;var L=Ke(E.expirationTime<=le);if(le=n.unstable_now(),typeof L=="function"){E.callback=L,Q(le),Ee=!0;break t}E===t(p)&&s(p),Q(le)}else s(p);E=t(p)}if(E!==null)Ee=!0;else{var ae=t(y);ae!==null&&gt(Y,ae.startTime-le),Ee=!1}}break e}finally{E=null,x=ve,I=!1}Ee=void 0}}finally{Ee?P():Z=!1}}}var P;if(typeof G=="function")P=function(){G(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,M=z.port2;z.port1.onmessage=j,P=function(){M.postMessage(null)}}else P=function(){C(j,0)};function xt(){Z||(Z=!0,P())}function gt(le,Ee){ne=C(function(){le(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){N||I||(N=!0,xt())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(le){switch(x){case 1:case 2:case 3:var Ee=3;break;default:Ee=x}var ve=x;x=Ee;try{return le()}finally{x=ve}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Ee){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ve=x;x=le;try{return Ee()}finally{x=ve}},n.unstable_scheduleCallback=function(le,Ee,ve){var Ke=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ke+ve:Ke):ve=Ke,le){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ve+L,le={id:_++,callback:Ee,priorityLevel:le,startTime:ve,expirationTime:L,sortIndex:-1},ve>Ke?(le.sortIndex=ve,e(y,le),t(p)===null&&le===t(y)&&(V?(F(ne),ne=-1):V=!0,gt(Y,ve-Ke))):(le.sortIndex=L,e(p,le),N||I||(N=!0,xt())),le},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(le){var Ee=x;return function(){var ve=x;x=Ee;try{return le.apply(this,arguments)}finally{x=ve}}}}(Xm)),Xm}var N_;function sR(){return N_||(N_=1,Ym.exports=rR()),Ym.exports}var Wm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function iR(){if(C_)return tn;C_=1;var n=ig();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:y,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,_)},tn.flushSync=function(p){var y=u.T,_=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=y,s.p=_,s.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,E=m(_,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:I}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:x,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=m(_,y.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,_){return u.H.useFormState(p,y,_)},tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var I_;function aR(){if(I_)return Wm.exports;I_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wm.exports=iR(),Wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function oR(){if(D_)return Jl;D_=1;var n=sR(),e=ig(),t=aR();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=Z&&r[Z]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function T(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case m:return"Portal";case _:return"Profiler";case y:return"StrictMode";case V:return"Suspense";case C:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case I:return(r.displayName||"Context")+".Provider";case x:return(r._context.displayName||"Context")+".Consumer";case N:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return i=r.displayName||null,i!==null?i:T(r.type)||"Memo";case G:i=r._payload,r=r._init;try{return T(r(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=Object.assign,P,z;function M(r){if(P===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",z=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+z}var xt=!1;function gt(r,i){if(!r||xt)return"";xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var K=J}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(J){K=J}r.call(ie.prototype)}}else{try{throw Error()}catch(J){K=J}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var k=w.split(`
`),B=S.split(`
`);for(d=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(c===k.length||d===B.length)for(c=k.length-1,d=B.length-1;1<=c&&0<=d&&k[c]!==B[d];)d--;for(;1<=c&&0<=d;c--,d--)if(k[c]!==B[d]){if(c!==1||d!==1)do if(c--,d--,0>d||k[c]!==B[d]){var ee=`
`+k[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=d);break}}}finally{xt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?M(o):""}function le(r){switch(r.tag){case 26:case 27:case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return r=gt(r.type,!1),r;case 11:return r=gt(r.type.render,!1),r;case 1:return r=gt(r.type,!0),r;default:return""}}function Ee(r){try{var i="";do i+=le(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ve(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function Ke(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function L(r){if(ve(r)!==r)throw Error(s(188))}function ae(r){var i=r.alternate;if(!i){if(i=ve(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,c=i;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return L(d),r;if(g===c)return L(d),i;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var w=!1,S=d.child;S;){if(S===o){w=!0,o=d,c=g;break}if(S===c){w=!0,c=d,o=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===o){w=!0,o=g,c=d;break}if(S===c){w=!0,c=g,o=d;break}S=S.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function pe(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=pe(r),i!==null)return i;r=r.sibling}return null}var ue=Array.isArray,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Ne=[],yt=-1;function qe(r){return{current:r}}function lt(r){0>yt||(r.current=Ne[yt],Ne[yt]=null,yt--)}function Ye(r,i){yt++,Ne[yt]=r.current,r.current=i}var on=qe(null),Br=qe(null),Pn=qe(null),xs=qe(null);function Ts(r,i){switch(Ye(Pn,i),Ye(Br,r),Ye(on,null),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Zv(i):0;break;default:if(r=r===8?i.parentNode:i,i=r.tagName,r=r.namespaceURI)r=Zv(r),i=Jv(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(on),Ye(on,i)}function Fr(){lt(on),lt(Br),lt(Pn)}function Ko(r){r.memoizedState!==null&&Ye(xs,r);var i=on.current,o=Jv(i,r.type);i!==o&&(Ye(Br,r),Ye(on,o))}function Ra(r){Br.current===r&&(lt(on),lt(Br)),xs.current===r&&(lt(xs),Kl._currentValue=Ie)}var Na=Object.prototype.hasOwnProperty,Ri=n.unstable_scheduleCallback,Ca=n.unstable_cancelCallback,Kd=n.unstable_shouldYield,Qo=n.unstable_requestPaint,pn=n.unstable_now,Kc=n.unstable_getCurrentPriorityLevel,Tt=n.unstable_ImmediatePriority,jt=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,Qc=n.unstable_LowPriority,Yo=n.unstable_IdlePriority,Qd=n.log,Ni=n.unstable_setDisableYieldValue,Ss=null,Jt=null;function Xo(r){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Ss,r,void 0,(r.current.flags&128)===128)}catch{}}function gr(r){if(typeof Qd=="function"&&Ni(r),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Ss,r)}catch{}}var ln=Math.clz32?Math.clz32:Xc,Wo=Math.log,Yc=Math.LN2;function Xc(r){return r>>>=0,r===0?32:31-(Wo(r)/Yc|0)|0}var yr=128,As=4194304;function tr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Vn(r,i){var o=r.pendingLanes;if(o===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,w=r.warmLanes;r=r.finishedLanes!==0;var S=o&134217727;return S!==0?(o=S&~d,o!==0?c=tr(o):(g&=S,g!==0?c=tr(g):r||(w=S&~w,w!==0&&(c=tr(w))))):(S=o&~d,S!==0?c=tr(S):g!==0?c=tr(g):r||(w=o&~w,w!==0&&(c=tr(w)))),c===0?0:i!==0&&i!==c&&!(i&d)&&(d=c&-c,w=i&-i,d>=w||d===32&&(w&4194176)!==0)?i:c}function Rs(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ia(r,i){switch(r){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var r=yr;return yr<<=1,!(yr&4194176)&&(yr=128),r}function Ns(){var r=As;return As<<=1,!(As&62914560)&&(As=4194304),r}function Da(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function ft(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wc(r,i,o,c,d,g){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,k=r.expirationTimes,B=r.hiddenUpdates;for(o=w&~o;0<o;){var ee=31-ln(o),ie=1<<ee;S[ee]=0,k[ee]=-1;var K=B[ee];if(K!==null)for(B[ee]=null,ee=0;ee<K.length;ee++){var J=K[ee];J!==null&&(J.lane&=-536870913)}o&=~ie}c!==0&&Cs(r,c,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~i))}function Cs(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-ln(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function Is(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-ln(o),d=1<<c;d&i|r[c]&i&&(r[c]|=i),o&=~d}}function Zc(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Jc(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:y_(r.type))}function Ds(r,i){var o=he.p;try{return he.p=r,i()}finally{he.p=o}}var vr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+vr,St="__reactProps$"+vr,Hr="__reactContainer$"+vr,Ci="__reactEvents$"+vr,ja="__reactListeners$"+vr,_r="__reactHandles$"+vr,Jo="__reactResources$"+vr,js="__reactMarker$"+vr;function Ii(r){delete r[Ot],delete r[St],delete r[Ci],delete r[ja],delete r[_r]}function nr(r){var i=r[Ot];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Hr]||o[Ot]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=n_(r);r!==null;){if(o=r[Ot])return o;r=n_(r)}return i}r=o,o=r.parentNode}return null}function $r(r){if(r=r[Ot]||r[Hr]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Os(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function ks(r){var i=r[Jo];return i||(i=r[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(r){r[js]=!0}var el=new Set,Oa={};function xn(r,i){gn(r,i),gn(r+"Capture",i)}function gn(r,i){for(Oa[r]=i,r=0;r<i.length;r++)el.add(i[r])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function eu(r){return Na.call(nl,r)?!0:Na.call(tl,r)?!1:Yd.test(r)?nl[r]=!0:(tl[r]=!0,!1)}function Ms(r,i,o){if(eu(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Ps(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Ln(r,i,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+c)}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function tu(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xd(r){var i=tu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Di(r){r._valueTracker||(r._valueTracker=Xd(r))}function rl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=tu(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function ka(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Gr=/[\n"\\]/g;function ct(r){return r.replace(Gr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vs(r,i,o,c,d,g,w,S){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),i!=null?w==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+cn(i)):r.value!==""+cn(i)&&(r.value=""+cn(i)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),i!=null?Ma(r,w,cn(i)):o!=null?Ma(r,w,cn(o)):c!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+cn(S):r.removeAttribute("name")}function ji(r,i,o,c,d,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+cn(o):"",i=i!=null?""+cn(i):o,S||i===r.value||(r.value=i),r.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Ma(r,i,o){i==="number"&&ka(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function He(r,i,o,c){if(r=r.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=i.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+cn(o),i=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Oi(r,i,o){if(i!=null&&(i=""+cn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+cn(o):""}function Ls(r,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(ue(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=cn(i),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Un(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Wd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(r,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,o):typeof o!="number"||o===0||Wd.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function nu(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&sl(r,d,c)}else for(var g in i)i.hasOwnProperty(g)&&sl(r,g,i[g])}function il(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(r){return Jd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var zn=null;function Pa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Kr=null,Qr=null;function Yr(r){var i=$r(r);if(i&&(r=i.stateNode)){var o=r[St]||null;e:switch(r=i.stateNode,i.type){case"input":if(Vs(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var d=c[St]||null;if(!d)throw Error(s(90));Vs(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===r.form&&rl(c)}break e;case"textarea":Oi(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&He(r,!!o.multiple,i,!1)}}}var al=!1;function ru(r,i,o){if(al)return r(i,o);al=!0;try{var c=r(i);return c}finally{if(al=!1,(Kr!==null||Qr!==null)&&(Qu(),Kr&&(i=Kr,r=Qr,Qr=Kr=null,Yr(i),r)))for(i=0;i<r.length;i++)Yr(r[i])}}function ki(r,i){var o=r.stateNode;if(o===null)return null;var c=o[St]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Bn=!1;if(Tn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Bn=!1}var wr=null,Us=null,Xr=null;function ol(){if(Xr)return Xr;var r,i=Us,o=i.length,c,d="value"in wr?wr.value:wr.textContent,g=d.length;for(r=0;r<o&&i[r]===d[r];r++);var w=o-r;for(c=1;c<=w&&i[o-c]===d[g-c];c++);return Xr=d.slice(r,1<c?1-c:void 0)}function Er(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function xr(){return!0}function ll(){return!1}function kt(r){function i(o,c,d,g,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xr:ll,this.isPropagationStopped=ll,this}return j(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=kt(Qe),Pi=j({},Qe,{view:0,detail:0}),su=kt(Pi),La,Ua,Tr,Vi=j({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Tr&&(Tr&&r.type==="mousemove"?(La=r.screenX-Tr.screenX,Ua=r.screenY-Tr.screenY):Ua=La=0,Tr=r),La)},movementY:function(r){return"movementY"in r?r.movementY:Ua}}),Fn=kt(Vi),iu=j({},Vi,{dataTransfer:0}),ef=kt(iu),Li=j({},Pi,{relatedTarget:0}),za=kt(Li),cl=j({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=kt(cl),au=j({},Qe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fa=kt(au),tf=j({},Qe,{data:0}),ul=kt(tf),Ui={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=lu[r])?!!i[r]:!1}function zi(){return hl}var cu=j({},Pi,{key:function(r){if(r.key){var i=Ui[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Er(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ou[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(r){return r.type==="keypress"?Er(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Er(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qa=kt(cu),uu=j({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=kt(uu),Wr=j({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),hu=kt(Wr),du=j({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),fu=kt(du),mu=j({},Vi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=kt(mu),un=j({},Qe,{newState:0,oldState:0}),pu=kt(un),gu=[9,13,27,32],Sr=Tn&&"CompositionEvent"in window,h=null;Tn&&"documentMode"in document&&(h=document.documentMode);var v=Tn&&"TextEvent"in window&&!h,b=Tn&&(!Sr||h&&8<h&&11>=h),R=" ",H=!1;function X(r,i){switch(r){case"keyup":return gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Le=!1;function At(r,i){switch(r){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(H=!0,R);case"textInput":return r=i.data,r===R&&H?null:r;default:return null}}function Ue(r,i){if(Le)return r==="compositionend"||!Sr&&X(r,i)?(r=ol(),Xr=Us=wr=null,Le=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Mt[r.type]:i==="textarea"}function Zr(r,i,o,c){Kr?Qr?Qr.push(c):Qr=[c]:Kr=c,i=Ju(i,"onChange"),0<i.length&&(o=new Va("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var qt=null,Ar=null;function fl(r){Kv(r,0)}function yu(r){var i=Os(r);if(rl(i))return r}function Ey(r,i){if(r==="change")return i}var xy=!1;if(Tn){var nf;if(Tn){var rf="oninput"in document;if(!rf){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),rf=typeof Ty.oninput=="function"}nf=rf}else nf=!1;xy=nf&&(!document.documentMode||9<document.documentMode)}function Sy(){qt&&(qt.detachEvent("onpropertychange",Ay),Ar=qt=null)}function Ay(r){if(r.propertyName==="value"&&yu(Ar)){var i=[];Zr(i,Ar,r,Pa(r)),ru(fl,i)}}function CS(r,i,o){r==="focusin"?(Sy(),qt=i,Ar=o,qt.attachEvent("onpropertychange",Ay)):r==="focusout"&&Sy()}function IS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yu(Ar)}function DS(r,i){if(r==="click")return yu(i)}function jS(r,i){if(r==="input"||r==="change")return yu(i)}function OS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Sn=typeof Object.is=="function"?Object.is:OS;function ml(r,i){if(Sn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Na.call(i,d)||!Sn(r[d],i[d]))return!1}return!0}function Ry(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ny(r,i){var o=Ry(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ry(o)}}function Cy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Cy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Iy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ka(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=ka(r.document)}return i}function sf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function kS(r,i){var o=Iy(i);i=r.focusedElem;var c=r.selectionRange;if(o!==i&&i&&i.ownerDocument&&Cy(i.ownerDocument.documentElement,i)){if(c!==null&&sf(i)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(o,i.value.length);else if(o=(r=i.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=i.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!o.extend&&g>c&&(d=c,c=g,g=d),d=Ny(i,g);var w=Ny(i,c);d&&w&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==w.node||o.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),o.addRange(r)))}}for(r=[],o=i;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)o=r[i],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var MS=Tn&&"documentMode"in document&&11>=document.documentMode,$a=null,af=null,pl=null,of=!1;function Dy(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;of||$a==null||$a!==ka(c)||(c=$a,"selectionStart"in c&&sf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),pl&&ml(pl,c)||(pl=c,c=Ju(af,"onSelect"),0<c.length&&(i=new Va("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=$a)))}function Bi(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Ga={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},lf={},jy={};Tn&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Fi(r){if(lf[r])return lf[r];if(!Ga[r])return r;var i=Ga[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in jy)return lf[r]=i[o];return r}var Oy=Fi("animationend"),ky=Fi("animationiteration"),My=Fi("animationstart"),PS=Fi("transitionrun"),VS=Fi("transitionstart"),LS=Fi("transitioncancel"),Py=Fi("transitionend"),Vy=new Map,Ly="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function rr(r,i){Vy.set(r,i),xn(i,[r])}var qn=[],Ka=0,cf=0;function vu(){for(var r=Ka,i=cf=Ka=0;i<r;){var o=qn[i];qn[i++]=null;var c=qn[i];qn[i++]=null;var d=qn[i];qn[i++]=null;var g=qn[i];if(qn[i++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}g!==0&&Uy(o,d,g)}}function _u(r,i,o,c){qn[Ka++]=r,qn[Ka++]=i,qn[Ka++]=o,qn[Ka++]=c,cf|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function uf(r,i,o,c){return _u(r,i,o,c),bu(r)}function zs(r,i){return _u(r,null,null,i),bu(r)}function Uy(r,i,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&i!==null&&r.tag===3&&(g=r.stateNode,d=31-ln(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[i]:r.push(i),i.lane=o|536870912)}function bu(r){if(50<zl)throw zl=0,gm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Qa={},zy=new WeakMap;function Hn(r,i){if(typeof r=="object"&&r!==null){var o=zy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Ee(i)},zy.set(r,i),i)}return{value:r,source:i,stack:Ee(i)}}var Ya=[],Xa=0,wu=null,Eu=0,$n=[],Gn=0,qi=null,Jr=1,es="";function Hi(r,i){Ya[Xa++]=Eu,Ya[Xa++]=wu,wu=r,Eu=i}function By(r,i,o){$n[Gn++]=Jr,$n[Gn++]=es,$n[Gn++]=qi,qi=r;var c=Jr;r=es;var d=32-ln(c)-1;c&=~(1<<d),o+=1;var g=32-ln(i)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Jr=1<<32-ln(i)+d|o<<d|c,es=g+r}else Jr=1<<g|o<<d|c,es=r}function hf(r){r.return!==null&&(Hi(r,1),By(r,1,0))}function df(r){for(;r===wu;)wu=Ya[--Xa],Ya[Xa]=null,Eu=Ya[--Xa],Ya[Xa]=null;for(;r===qi;)qi=$n[--Gn],$n[Gn]=null,es=$n[--Gn],$n[Gn]=null,Jr=$n[--Gn],$n[Gn]=null}var hn=null,Ht=null,$e=!1,sr=null,Rr=!1,ff=Error(s(519));function $i(r){var i=Error(s(418,""));throw vl(Hn(i,r)),ff}function Fy(r){var i=r.stateNode,o=r.type,c=r.memoizedProps;switch(i[Ot]=r,i[St]=c,o){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Pe(Fl[o],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),ji(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Di(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Ls(i,c.value,c.defaultValue,c.children),Di(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Wv(i.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),c.onScroll!=null&&Pe("scroll",i),c.onScrollEnd!=null&&Pe("scrollend",i),c.onClick!=null&&(i.onclick=eh),i=!0):i=!1,i||$i(r)}function qy(r){for(hn=r.return;hn;)switch(hn.tag){case 3:case 27:Rr=!0;return;case 5:case 13:Rr=!1;return;default:hn=hn.return}}function gl(r){if(r!==hn)return!1;if(!$e)return qy(r),$e=!0,!1;var i=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Om(r.type,r.memoizedProps)),o=!o),o&&(i=!0),i&&Ht&&$i(r),qy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){Ht=ar(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}Ht=null}}else Ht=hn?ar(r.stateNode.nextSibling):null;return!0}function yl(){Ht=hn=null,$e=!1}function vl(r){sr===null?sr=[r]:sr.push(r)}var _l=Error(s(460)),Hy=Error(s(474)),mf={then:function(){}};function $y(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xu(){}function Gy(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(xu,xu),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===_l?Error(s(483)):r;default:if(typeof i.status=="string")i.then(xu,xu);else{if(r=et,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===_l?Error(s(483)):r}throw bl=i,_l}}var bl=null;function Ky(){if(bl===null)throw Error(s(459));var r=bl;return bl=null,r}var Wa=null,wl=0;function Tu(r){var i=wl;return wl+=1,Wa===null&&(Wa=[]),Gy(Wa,r,i)}function El(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Su(r,i){throw i.$$typeof===l?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Qy(r){var i=r._init;return i(r._payload)}function Yy(r){function i(q,U){if(r){var $=q.deletions;$===null?(q.deletions=[U],q.flags|=16):$.push(U)}}function o(q,U){if(!r)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function c(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function d(q,U){return q=Zs(q,U),q.index=0,q.sibling=null,q}function g(q,U,$){return q.index=$,r?($=q.alternate,$!==null?($=$.index,$<U?(q.flags|=33554434,U):$):(q.flags|=33554434,U)):(q.flags|=1048576,U)}function w(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function S(q,U,$,re){return U===null||U.tag!==6?(U=lm($,q.mode,re),U.return=q,U):(U=d(U,$),U.return=q,U)}function k(q,U,$,re){var fe=$.type;return fe===p?ee(q,U,$.props.children,re,$.key):U!==null&&(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&Qy(fe)===U.type)?(U=d(U,$.props),El(U,$),U.return=q,U):(U=qu($.type,$.key,$.props,null,q.mode,re),El(U,$),U.return=q,U)}function B(q,U,$,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=cm($,q.mode,re),U.return=q,U):(U=d(U,$.children||[]),U.return=q,U)}function ee(q,U,$,re,fe){return U===null||U.tag!==7?(U=ta($,q.mode,re,fe),U.return=q,U):(U=d(U,$),U.return=q,U)}function ie(q,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=lm(""+U,q.mode,$),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case u:return $=qu(U.type,U.key,U.props,null,q.mode,$),El($,U),$.return=q,$;case m:return U=cm(U,q.mode,$),U.return=q,U;case G:var re=U._init;return U=re(U._payload),ie(q,U,$)}if(ue(U)||ne(U))return U=ta(U,q.mode,$,null),U.return=q,U;if(typeof U.then=="function")return ie(q,Tu(U),$);if(U.$$typeof===I)return ie(q,zu(q,U),$);Su(q,U)}return null}function K(q,U,$,re){var fe=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return fe!==null?null:S(q,U,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case u:return $.key===fe?k(q,U,$,re):null;case m:return $.key===fe?B(q,U,$,re):null;case G:return fe=$._init,$=fe($._payload),K(q,U,$,re)}if(ue($)||ne($))return fe!==null?null:ee(q,U,$,re,null);if(typeof $.then=="function")return K(q,U,Tu($),re);if($.$$typeof===I)return K(q,U,zu(q,$),re);Su(q,$)}return null}function J(q,U,$,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get($)||null,S(U,q,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case u:return q=q.get(re.key===null?$:re.key)||null,k(U,q,re,fe);case m:return q=q.get(re.key===null?$:re.key)||null,B(U,q,re,fe);case G:var je=re._init;return re=je(re._payload),J(q,U,$,re,fe)}if(ue(re)||ne(re))return q=q.get($)||null,ee(U,q,re,fe,null);if(typeof re.then=="function")return J(q,U,$,Tu(re),fe);if(re.$$typeof===I)return J(q,U,$,zu(U,re),fe);Su(U,re)}return null}function me(q,U,$,re){for(var fe=null,je=null,ge=U,be=U=0,Lt=null;ge!==null&&be<$.length;be++){ge.index>be?(Lt=ge,ge=null):Lt=ge.sibling;var Ge=K(q,ge,$[be],re);if(Ge===null){ge===null&&(ge=Lt);break}r&&ge&&Ge.alternate===null&&i(q,ge),U=g(Ge,U,be),je===null?fe=Ge:je.sibling=Ge,je=Ge,ge=Lt}if(be===$.length)return o(q,ge),$e&&Hi(q,be),fe;if(ge===null){for(;be<$.length;be++)ge=ie(q,$[be],re),ge!==null&&(U=g(ge,U,be),je===null?fe=ge:je.sibling=ge,je=ge);return $e&&Hi(q,be),fe}for(ge=c(ge);be<$.length;be++)Lt=J(ge,q,be,$[be],re),Lt!==null&&(r&&Lt.alternate!==null&&ge.delete(Lt.key===null?be:Lt.key),U=g(Lt,U,be),je===null?fe=Lt:je.sibling=Lt,je=Lt);return r&&ge.forEach(function(ii){return i(q,ii)}),$e&&Hi(q,be),fe}function Se(q,U,$,re){if($==null)throw Error(s(151));for(var fe=null,je=null,ge=U,be=U=0,Lt=null,Ge=$.next();ge!==null&&!Ge.done;be++,Ge=$.next()){ge.index>be?(Lt=ge,ge=null):Lt=ge.sibling;var ii=K(q,ge,Ge.value,re);if(ii===null){ge===null&&(ge=Lt);break}r&&ge&&ii.alternate===null&&i(q,ge),U=g(ii,U,be),je===null?fe=ii:je.sibling=ii,je=ii,ge=Lt}if(Ge.done)return o(q,ge),$e&&Hi(q,be),fe;if(ge===null){for(;!Ge.done;be++,Ge=$.next())Ge=ie(q,Ge.value,re),Ge!==null&&(U=g(Ge,U,be),je===null?fe=Ge:je.sibling=Ge,je=Ge);return $e&&Hi(q,be),fe}for(ge=c(ge);!Ge.done;be++,Ge=$.next())Ge=J(ge,q,be,Ge.value,re),Ge!==null&&(r&&Ge.alternate!==null&&ge.delete(Ge.key===null?be:Ge.key),U=g(Ge,U,be),je===null?fe=Ge:je.sibling=Ge,je=Ge);return r&&ge.forEach(function(ZA){return i(q,ZA)}),$e&&Hi(q,be),fe}function dt(q,U,$,re){if(typeof $=="object"&&$!==null&&$.type===p&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case u:e:{for(var fe=$.key;U!==null;){if(U.key===fe){if(fe=$.type,fe===p){if(U.tag===7){o(q,U.sibling),re=d(U,$.props.children),re.return=q,q=re;break e}}else if(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&Qy(fe)===U.type){o(q,U.sibling),re=d(U,$.props),El(re,$),re.return=q,q=re;break e}o(q,U);break}else i(q,U);U=U.sibling}$.type===p?(re=ta($.props.children,q.mode,re,$.key),re.return=q,q=re):(re=qu($.type,$.key,$.props,null,q.mode,re),El(re,$),re.return=q,q=re)}return w(q);case m:e:{for(fe=$.key;U!==null;){if(U.key===fe)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(q,U.sibling),re=d(U,$.children||[]),re.return=q,q=re;break e}else{o(q,U);break}else i(q,U);U=U.sibling}re=cm($,q.mode,re),re.return=q,q=re}return w(q);case G:return fe=$._init,$=fe($._payload),dt(q,U,$,re)}if(ue($))return me(q,U,$,re);if(ne($)){if(fe=ne($),typeof fe!="function")throw Error(s(150));return $=fe.call($),Se(q,U,$,re)}if(typeof $.then=="function")return dt(q,U,Tu($),re);if($.$$typeof===I)return dt(q,U,zu(q,$),re);Su(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(q,U.sibling),re=d(U,$),re.return=q,q=re):(o(q,U),re=lm($,q.mode,re),re.return=q,q=re),w(q)):o(q,U)}return function(q,U,$,re){try{wl=0;var fe=dt(q,U,$,re);return Wa=null,fe}catch(ge){if(ge===_l)throw ge;var je=Xn(29,ge,null,q.mode);return je.lanes=re,je.return=q,je}finally{}}}var Gi=Yy(!0),Xy=Yy(!1),Za=qe(null),Au=qe(0);function Wy(r,i){r=hs,Ye(Au,r),Ye(Za,i),hs=r|i.baseLanes}function pf(){Ye(Au,hs),Ye(Za,Za.current)}function gf(){hs=Au.current,lt(Za),lt(Au)}var Kn=qe(null),Nr=null;function Bs(r){var i=r.alternate;Ye(Nt,Nt.current&1),Ye(Kn,r),Nr===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(Nr=r)}function Zy(r){if(r.tag===22){if(Ye(Nt,Nt.current),Ye(Kn,r),Nr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Nr=r)}}else Fs()}function Fs(){Ye(Nt,Nt.current),Ye(Kn,Kn.current)}function ts(r){lt(Kn),Nr===r&&(Nr=null),lt(Nt)}var Nt=qe(0);function Ru(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var US=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},zS=n.unstable_scheduleCallback,BS=n.unstable_NormalPriority,Ct={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new US,data:new Map,refCount:0}}function xl(r){r.refCount--,r.refCount===0&&zS(BS,function(){r.controller.abort()})}var Tl=null,vf=0,Ja=0,eo=null;function FS(r,i){if(Tl===null){var o=Tl=[];vf=0,Ja=Tm(),eo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return vf++,i.then(Jy,Jy),i}function Jy(){if(--vf===0&&Tl!==null){eo!==null&&(eo.status="fulfilled");var r=Tl;Tl=null,Ja=0,eo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function qS(r,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var e0=A.S;A.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FS(r,i),e0!==null&&e0(r,i)};var Ki=qe(null);function _f(){var r=Ki.current;return r!==null?r:et.pooledCache}function Nu(r,i){i===null?Ye(Ki,Ki.current):Ye(Ki,i.pool)}function t0(){var r=_f();return r===null?null:{parent:Ct._currentValue,pool:r}}var qs=0,De=null,Xe=null,vt=null,Cu=!1,to=!1,Qi=!1,Iu=0,Sl=0,no=null,HS=0;function mt(){throw Error(s(321))}function bf(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Sn(r[o],i[o]))return!1;return!0}function wf(r,i,o,c,d,g){return qs=g,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=r===null||r.memoizedState===null?Yi:Hs,Qi=!1,g=o(c,d),Qi=!1,to&&(g=r0(i,o,c,d)),n0(r),g}function n0(r){A.H=Cr;var i=Xe!==null&&Xe.next!==null;if(qs=0,vt=Xe=De=null,Cu=!1,Sl=0,no=null,i)throw Error(s(300));r===null||Pt||(r=r.dependencies,r!==null&&Uu(r)&&(Pt=!0))}function r0(r,i,o,c){De=r;var d=0;do{if(to&&(no=null),Sl=0,to=!1,25<=d)throw Error(s(301));if(d+=1,vt=Xe=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=Xi,g=i(o,c)}while(to);return g}function $S(){var r=A.H,i=r.useState()[0];return i=typeof i.then=="function"?Al(i):i,r=r.useState()[0],(Xe!==null?Xe.memoizedState:null)!==r&&(De.flags|=1024),i}function Ef(){var r=Iu!==0;return Iu=0,r}function xf(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Tf(r){if(Cu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cu=!1}qs=0,vt=Xe=De=null,to=!1,Sl=Iu=0,no=null}function yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?De.memoizedState=vt=r:vt=vt.next=r,vt}function _t(){if(Xe===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=Xe.next;var i=vt===null?De.memoizedState:vt.next;if(i!==null)vt=i,Xe=r;else{if(r===null)throw De.alternate===null?Error(s(467)):Error(s(310));Xe=r,r={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?De.memoizedState=vt=r:vt=vt.next=r}return vt}var Du;Du=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Al(r){var i=Sl;return Sl+=1,no===null&&(no=[]),r=Gy(no,r,i),i=De,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Yi:Hs),r}function ju(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Al(r);if(r.$$typeof===I)return en(r)}throw Error(s(438,String(r)))}function Sf(r){var i=null,o=De.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Du(),De.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),c=0;c<r;c++)o[c]=Y;return i.index++,o}function ns(r,i){return typeof i=="function"?i(r):i}function Ou(r){var i=_t();return Af(i,Xe,r)}function Af(r,i,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=r.baseQueue,g=c.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}i.baseQueue=d=g,c.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{i=d.next;var S=w=null,k=null,B=i,ee=!1;do{var ie=B.lane&-536870913;if(ie!==B.lane?(ze&ie)===ie:(qs&ie)===ie){var K=B.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ie===Ja&&(ee=!0);else if((qs&K)===K){B=B.next,K===Ja&&(ee=!0);continue}else ie={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(S=k=ie,w=g):k=k.next=ie,De.lanes|=K,Js|=K;ie=B.action,Qi&&o(g,ie),g=B.hasEagerState?B.eagerState:o(g,ie)}else K={lane:ie,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(S=k=K,w=g):k=k.next=K,De.lanes|=ie,Js|=ie;B=B.next}while(B!==null&&B!==i);if(k===null?w=g:k.next=S,!Sn(g,r.memoizedState)&&(Pt=!0,ee&&(o=eo,o!==null)))throw o;r.memoizedState=g,r.baseState=w,r.baseQueue=k,c.lastRenderedState=g}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Rf(r){var i=_t(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,g=i.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do g=r(g,w.action),w=w.next;while(w!==d);Sn(g,i.memoizedState)||(Pt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function s0(r,i,o){var c=De,d=_t(),g=$e;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var w=!Sn((Xe||d).memoizedState,o);if(w&&(d.memoizedState=o,Pt=!0),d=d.queue,If(o0.bind(null,c,d,r),[r]),d.getSnapshot!==i||w||vt!==null&&vt.memoizedState.tag&1){if(c.flags|=2048,ro(9,a0.bind(null,c,d,o,i),{destroy:void 0},null),et===null)throw Error(s(349));g||qs&60||i0(c,i,o)}return o}function i0(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=De.updateQueue,i===null?(i=Du(),De.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function a0(r,i,o,c){i.value=o,i.getSnapshot=c,l0(i)&&c0(r)}function o0(r,i,o){return o(function(){l0(i)&&c0(r)})}function l0(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Sn(r,o)}catch{return!0}}function c0(r){var i=zs(r,2);i!==null&&dn(i,r,2)}function Nf(r){var i=yn();if(typeof r=="function"){var o=r;if(r=o(),Qi){gr(!0);try{o()}finally{gr(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},i}function u0(r,i,o,c){return r.baseState=o,Af(r,Xe,typeof c=="function"?c:ns)}function GS(r,i,o,c,d){if(Pu(r))throw Error(s(485));if(r=i.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};A.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,h0(i,g)):(g.next=o.next,i.pending=o.next=g)}}function h0(r,i){var o=i.action,c=i.payload,d=r.state;if(i.isTransition){var g=A.T,w={};A.T=w;try{var S=o(d,c),k=A.S;k!==null&&k(w,S),d0(r,i,S)}catch(B){Cf(r,i,B)}finally{A.T=g}}else try{g=o(d,c),d0(r,i,g)}catch(B){Cf(r,i,B)}}function d0(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){f0(r,i,c)},function(c){return Cf(r,i,c)}):f0(r,i,o)}function f0(r,i,o){i.status="fulfilled",i.value=o,m0(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,h0(r,o)))}function Cf(r,i,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,m0(i),i=i.next;while(i!==c)}r.action=null}function m0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function p0(r,i){return i}function g0(r,i){if($e){var o=et.formState;if(o!==null){e:{var c=De;if($e){if(Ht){t:{for(var d=Ht,g=Rr;d.nodeType!==8;){if(!g){d=null;break t}if(d=ar(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Ht=ar(d.nextSibling),c=d.data==="F!";break e}}$i(c)}c=!1}c&&(i=o[0])}}return o=yn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:i},o.queue=c,o=k0.bind(null,De,c),c.dispatch=o,c=Nf(!1),g=Mf.bind(null,De,!1,c.queue),c=yn(),d={state:i,dispatch:null,action:r,pending:null},c.queue=d,o=GS.bind(null,De,d,g,o),d.dispatch=o,c.memoizedState=r,[i,o,!1]}function y0(r){var i=_t();return v0(i,Xe,r)}function v0(r,i,o){i=Af(r,i,p0)[0],r=Ou(ns)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Al(i):i;var c=_t(),d=c.queue,g=d.dispatch;return o!==c.memoizedState&&(De.flags|=2048,ro(9,KS.bind(null,d,o),{destroy:void 0},null)),[i,g,r]}function KS(r,i){r.action=i}function _0(r){var i=_t(),o=Xe;if(o!==null)return v0(i,o,r);_t(),i=i.memoizedState,o=_t();var c=o.queue.dispatch;return o.memoizedState=r,[i,c,!1]}function ro(r,i,o,c){return r={tag:r,create:i,inst:o,deps:c,next:null},i=De.updateQueue,i===null&&(i=Du(),De.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r),r}function b0(){return _t().memoizedState}function ku(r,i,o,c){var d=yn();De.flags|=r,d.memoizedState=ro(1|i,o,{destroy:void 0},c===void 0?null:c)}function Mu(r,i,o,c){var d=_t();c=c===void 0?null:c;var g=d.memoizedState.inst;Xe!==null&&c!==null&&bf(c,Xe.memoizedState.deps)?d.memoizedState=ro(i,o,g,c):(De.flags|=r,d.memoizedState=ro(1|i,o,g,c))}function w0(r,i){ku(8390656,8,r,i)}function If(r,i){Mu(2048,8,r,i)}function E0(r,i){return Mu(4,2,r,i)}function x0(r,i){return Mu(4,4,r,i)}function T0(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function S0(r,i,o){o=o!=null?o.concat([r]):null,Mu(4,4,T0.bind(null,i,r),o)}function Df(){}function A0(r,i){var o=_t();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&bf(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function R0(r,i){var o=_t();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&bf(i,c[1]))return c[0];if(c=r(),Qi){gr(!0);try{r()}finally{gr(!1)}}return o.memoizedState=[c,i],c}function jf(r,i,o){return o===void 0||qs&1073741824?r.memoizedState=i:(r.memoizedState=o,r=Cv(),De.lanes|=r,Js|=r,o)}function N0(r,i,o,c){return Sn(o,i)?o:Za.current!==null?(r=jf(r,o,c),Sn(r,i)||(Pt=!0),r):qs&42?(r=Cv(),De.lanes|=r,Js|=r,i):(Pt=!0,r.memoizedState=o)}function C0(r,i,o,c,d){var g=he.p;he.p=g!==0&&8>g?g:8;var w=A.T,S={};A.T=S,Mf(r,!1,i,o);try{var k=d(),B=A.S;if(B!==null&&B(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=qS(k,c);Rl(r,i,ee,Cn(r))}else Rl(r,i,c,Cn(r))}catch(ie){Rl(r,i,{then:function(){},status:"rejected",reason:ie},Cn())}finally{he.p=g,A.T=w}}function QS(){}function Of(r,i,o,c){if(r.tag!==5)throw Error(s(476));var d=I0(r).queue;C0(r,d,i,Ie,o===null?QS:function(){return D0(r),o(c)})}function I0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:Ie},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function D0(r){var i=I0(r).next.queue;Rl(r,i,{},Cn())}function kf(){return en(Kl)}function j0(){return _t().memoizedState}function O0(){return _t().memoizedState}function YS(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Cn();r=Ks(o);var c=Qs(i,r,o);c!==null&&(dn(c,i,o),Il(c,i,o)),i={cache:yf()},r.payload=i;return}i=i.return}}function XS(r,i,o){var c=Cn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(r)?M0(i,o):(o=uf(r,i,o,c),o!==null&&(dn(o,r,c),P0(o,i,c)))}function k0(r,i,o){var c=Cn();Rl(r,i,o,c)}function Rl(r,i,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pu(r))M0(i,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,S=g(w,o);if(d.hasEagerState=!0,d.eagerState=S,Sn(S,w))return _u(r,i,d,0),et===null&&vu(),!1}catch{}finally{}if(o=uf(r,i,d,c),o!==null)return dn(o,r,c),P0(o,i,c),!0}return!1}function Mf(r,i,o,c){if(c={lane:2,revertLane:Tm(),action:c,hasEagerState:!1,eagerState:null,next:null},Pu(r)){if(i)throw Error(s(479))}else i=uf(r,o,c,2),i!==null&&dn(i,r,2)}function Pu(r){var i=r.alternate;return r===De||i!==null&&i===De}function M0(r,i){to=Cu=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function P0(r,i,o){if(o&4194176){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,Is(r,o)}}var Cr={readContext:en,use:ju,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};Cr.useCacheRefresh=mt,Cr.useMemoCache=mt,Cr.useHostTransitionStatus=mt,Cr.useFormState=mt,Cr.useActionState=mt,Cr.useOptimistic=mt;var Yi={readContext:en,use:ju,useCallback:function(r,i){return yn().memoizedState=[r,i===void 0?null:i],r},useContext:en,useEffect:w0,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,ku(4194308,4,T0.bind(null,i,r),o)},useLayoutEffect:function(r,i){return ku(4194308,4,r,i)},useInsertionEffect:function(r,i){ku(4,2,r,i)},useMemo:function(r,i){var o=yn();i=i===void 0?null:i;var c=r();if(Qi){gr(!0);try{r()}finally{gr(!1)}}return o.memoizedState=[c,i],c},useReducer:function(r,i,o){var c=yn();if(o!==void 0){var d=o(i);if(Qi){gr(!0);try{o(i)}finally{gr(!1)}}}else d=i;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=XS.bind(null,De,r),[c.memoizedState,r]},useRef:function(r){var i=yn();return r={current:r},i.memoizedState=r},useState:function(r){r=Nf(r);var i=r.queue,o=k0.bind(null,De,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Df,useDeferredValue:function(r,i){var o=yn();return jf(o,r,i)},useTransition:function(){var r=Nf(!1);return r=C0.bind(null,De,r.queue,!0,!1),yn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var c=De,d=yn();if($e){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),et===null)throw Error(s(349));ze&60||i0(c,i,o)}d.memoizedState=o;var g={value:o,getSnapshot:i};return d.queue=g,w0(o0.bind(null,c,g,r),[r]),c.flags|=2048,ro(9,a0.bind(null,c,g,o,i),{destroy:void 0},null),o},useId:function(){var r=yn(),i=et.identifierPrefix;if($e){var o=es,c=Jr;o=(c&~(1<<32-ln(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=Iu++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=HS++,i=":"+i+"r"+o.toString(32)+":";return r.memoizedState=i},useCacheRefresh:function(){return yn().memoizedState=YS.bind(null,De)}};Yi.useMemoCache=Sf,Yi.useHostTransitionStatus=kf,Yi.useFormState=g0,Yi.useActionState=g0,Yi.useOptimistic=function(r){var i=yn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Mf.bind(null,De,!0,o),o.dispatch=i,[r,i]};var Hs={readContext:en,use:ju,useCallback:A0,useContext:en,useEffect:If,useImperativeHandle:S0,useInsertionEffect:E0,useLayoutEffect:x0,useMemo:R0,useReducer:Ou,useRef:b0,useState:function(){return Ou(ns)},useDebugValue:Df,useDeferredValue:function(r,i){var o=_t();return N0(o,Xe.memoizedState,r,i)},useTransition:function(){var r=Ou(ns)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Al(r),i]},useSyncExternalStore:s0,useId:j0};Hs.useCacheRefresh=O0,Hs.useMemoCache=Sf,Hs.useHostTransitionStatus=kf,Hs.useFormState=y0,Hs.useActionState=y0,Hs.useOptimistic=function(r,i){var o=_t();return u0(o,Xe,r,i)};var Xi={readContext:en,use:ju,useCallback:A0,useContext:en,useEffect:If,useImperativeHandle:S0,useInsertionEffect:E0,useLayoutEffect:x0,useMemo:R0,useReducer:Rf,useRef:b0,useState:function(){return Rf(ns)},useDebugValue:Df,useDeferredValue:function(r,i){var o=_t();return Xe===null?jf(o,r,i):N0(o,Xe.memoizedState,r,i)},useTransition:function(){var r=Rf(ns)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Al(r),i]},useSyncExternalStore:s0,useId:j0};Xi.useCacheRefresh=O0,Xi.useMemoCache=Sf,Xi.useHostTransitionStatus=kf,Xi.useFormState=_0,Xi.useActionState=_0,Xi.useOptimistic=function(r,i){var o=_t();return Xe!==null?u0(o,Xe,r,i):(o.baseState=r,[r,o.queue.dispatch])};function Pf(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:j({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Vf={isMounted:function(r){return(r=r._reactInternals)?ve(r)===r:!1},enqueueSetState:function(r,i,o){r=r._reactInternals;var c=Cn(),d=Ks(c);d.payload=i,o!=null&&(d.callback=o),i=Qs(r,d,c),i!==null&&(dn(i,r,c),Il(i,r,c))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=Cn(),d=Ks(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Qs(r,d,c),i!==null&&(dn(i,r,c),Il(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Cn(),c=Ks(o);c.tag=2,i!=null&&(c.callback=i),i=Qs(r,c,o),i!==null&&(dn(i,r,o),Il(i,r,o))}};function V0(r,i,o,c,d,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!ml(o,c)||!ml(d,g):!0}function L0(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&Vf.enqueueReplaceState(i,i.state,null)}function Wi(r,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(r=r.defaultProps){o===i&&(o=j({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Vu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function U0(r){Vu(r)}function z0(r){console.error(r)}function B0(r){Vu(r)}function Lu(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function F0(r,i,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Lf(r,i,o){return o=Ks(o),o.tag=3,o.payload={element:null},o.callback=function(){Lu(r,i)},o}function q0(r){return r=Ks(r),r.tag=3,r}function H0(r,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;r.payload=function(){return d(g)},r.callback=function(){F0(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){F0(i,o,c),typeof d!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function WS(r,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Cl(i,o,d,!0),o=Kn.current,o!==null){switch(o.tag){case 13:return Nr===null?_m():o.alternate===null&&ht===0&&(ht=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===mf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),wm(r,c,d)),!1;case 22:return o.flags|=65536,c===mf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),wm(r,c,d)),!1}throw Error(s(435,o.tag))}return wm(r,c,d),_m(),!1}if($e)return i=Kn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==ff&&(r=Error(s(422),{cause:c}),vl(Hn(r,o)))):(c!==ff&&(i=Error(s(423),{cause:c}),vl(Hn(i,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=Hn(c,o),d=Lf(r.stateNode,c,d),Jf(r,d),ht!==4&&(ht=2)),!1;var g=Error(s(520),{cause:c});if(g=Hn(g,o),Ll===null?Ll=[g]:Ll.push(g),ht!==4&&(ht=2),i===null)return!0;c=Hn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Lf(o.stateNode,c,r),Jf(o,r),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ei===null||!ei.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=q0(d),H0(d,r,o,c),Jf(o,d),!1}o=o.return}while(o!==null);return!1}var $0=Error(s(461)),Pt=!1;function $t(r,i,o,c){i.child=r===null?Xy(i,null,o,c):Gi(i,r.child,o,c)}function G0(r,i,o,c,d){o=o.render;var g=i.ref;if("ref"in c){var w={};for(var S in c)S!=="ref"&&(w[S]=c[S])}else w=c;return Ji(i),c=wf(r,i,o,w,g,d),S=Ef(),r!==null&&!Pt?(xf(r,i,d),rs(r,i,d)):($e&&S&&hf(i),i.flags|=1,$t(r,i,c,d),i.child)}function K0(r,i,o,c,d){if(r===null){var g=o.type;return typeof g=="function"&&!om(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,Q0(r,i,g,c,d)):(r=qu(o.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!Kf(r,d)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:ml,o(w,c)&&r.ref===i.ref)return rs(r,i,d)}return i.flags|=1,r=Zs(g,c),r.ref=i.ref,r.return=i,i.child=r}function Q0(r,i,o,c,d){if(r!==null){var g=r.memoizedProps;if(ml(g,c)&&r.ref===i.ref)if(Pt=!1,i.pendingProps=c=g,Kf(r,d))r.flags&131072&&(Pt=!0);else return i.lanes=r.lanes,rs(r,i,d)}return Uf(r,i,o,c,d)}function Y0(r,i,o){var c=i.pendingProps,d=c.children,g=(i.stateNode._pendingVisibility&2)!==0,w=r!==null?r.memoizedState:null;if(Nl(r,i),c.mode==="hidden"||g){if(i.flags&128){if(c=w!==null?w.baseLanes|o:o,r!==null){for(d=i.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return X0(r,i,c,o)}if(o&536870912)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nu(i,w!==null?w.cachePool:null),w!==null?Wy(i,w):pf(),Zy(i);else return i.lanes=i.childLanes=536870912,X0(r,i,w!==null?w.baseLanes|o:o,o)}else w!==null?(Nu(i,w.cachePool),Wy(i,w),Fs(),i.memoizedState=null):(r!==null&&Nu(i,null),pf(),Fs());return $t(r,i,d,o),i.child}function X0(r,i,o,c){var d=_f();return d=d===null?null:{parent:Ct._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},r!==null&&Nu(i,null),pf(),Zy(i),r!==null&&Cl(r,i,c,!0),null}function Nl(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=2097664)}}function Uf(r,i,o,c,d){return Ji(i),o=wf(r,i,o,c,void 0,d),c=Ef(),r!==null&&!Pt?(xf(r,i,d),rs(r,i,d)):($e&&c&&hf(i),i.flags|=1,$t(r,i,o,d),i.child)}function W0(r,i,o,c,d,g){return Ji(i),i.updateQueue=null,o=r0(i,c,o,d),n0(r),c=Ef(),r!==null&&!Pt?(xf(r,i,g),rs(r,i,g)):($e&&c&&hf(i),i.flags|=1,$t(r,i,o,g),i.child)}function Z0(r,i,o,c,d){if(Ji(i),i.stateNode===null){var g=Qa,w=o.contextType;typeof w=="object"&&w!==null&&(g=en(w)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vf,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Wf(i),w=o.contextType,g.context=typeof w=="object"&&w!==null?en(w):Qa,g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Pf(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Vf.enqueueReplaceState(g,g.state,null),jl(i,c,g,d),Dl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){g=i.stateNode;var S=i.memoizedProps,k=Wi(o,S);g.props=k;var B=g.context,ee=o.contextType;w=Qa,typeof ee=="object"&&ee!==null&&(w=en(ee));var ie=o.getDerivedStateFromProps;ee=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||B!==w)&&L0(i,g,c,w),Gs=!1;var K=i.memoizedState;g.state=K,jl(i,c,g,d),Dl(),B=i.memoizedState,S||K!==B||Gs?(typeof ie=="function"&&(Pf(i,o,ie,c),B=i.memoizedState),(k=Gs||V0(i,o,k,c,K,B,w))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=B),g.props=c,g.state=B,g.context=w,c=k):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Zf(r,i),w=i.memoizedProps,ee=Wi(o,w),g.props=ee,ie=i.pendingProps,K=g.context,B=o.contextType,k=Qa,typeof B=="object"&&B!==null&&(k=en(B)),S=o.getDerivedStateFromProps,(B=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ie||K!==k)&&L0(i,g,c,k),Gs=!1,K=i.memoizedState,g.state=K,jl(i,c,g,d),Dl();var J=i.memoizedState;w!==ie||K!==J||Gs||r!==null&&r.dependencies!==null&&Uu(r.dependencies)?(typeof S=="function"&&(Pf(i,o,S,c),J=i.memoizedState),(ee=Gs||V0(i,o,ee,c,K,J,k)||r!==null&&r.dependencies!==null&&Uu(r.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,k)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=J),g.props=c,g.state=J,g.context=k,c=ee):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),c=!1)}return g=c,Nl(r,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&c?(i.child=Gi(i,r.child,null,d),i.child=Gi(i,null,o,d)):$t(r,i,o,d),i.memoizedState=g.state,r=i.child):r=rs(r,i,d),r}function J0(r,i,o,c){return yl(),i.flags|=256,$t(r,i,o,c),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Bf(r){return{baseLanes:r,cachePool:t0()}}function Ff(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Wn),r}function ev(r,i,o){var c=i.pendingProps,d=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,r===null){if($e){if(d?Bs(i):Fs(),$e){var S=Ht,k;if(k=S){e:{for(k=S,S=Rr;k.nodeType!==8;){if(!S){S=null;break e}if(k=ar(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(i.memoizedState={dehydrated:S,treeContext:qi!==null?{id:Jr,overflow:es}:null,retryLane:536870912},k=Xn(18,null,null,0),k.stateNode=S,k.return=i,i.child=k,hn=i,Ht=null,k=!0):k=!1}k||$i(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;ts(i)}return S=c.children,c=c.fallback,d?(Fs(),d=i.mode,S=Hf({mode:"hidden",children:S},d),c=ta(c,d,o,null),S.return=i,c.return=i,S.sibling=c,i.child=S,d=i.child,d.memoizedState=Bf(o),d.childLanes=Ff(r,w,o),i.memoizedState=zf,c):(Bs(i),qf(i,S))}if(k=r.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(g)i.flags&256?(Bs(i),i.flags&=-257,i=$f(r,i,o)):i.memoizedState!==null?(Fs(),i.child=r.child,i.flags|=128,i=null):(Fs(),d=c.fallback,S=i.mode,c=Hf({mode:"visible",children:c.children},S),d=ta(d,S,o,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,Gi(i,r.child,null,o),c=i.child,c.memoizedState=Bf(o),c.childLanes=Ff(r,w,o),i.memoizedState=zf,i=d);else if(Bs(i),S.data==="$!"){if(w=S.nextSibling&&S.nextSibling.dataset,w)var B=w.dgst;w=B,c=Error(s(419)),c.stack="",c.digest=w,vl({value:c,source:null,stack:null}),i=$f(r,i,o)}else if(Pt||Cl(r,i,o,!1),w=(o&r.childLanes)!==0,Pt||w){if(w=et,w!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(w.suspendedLanes|o)?0:c,c!==0&&c!==k.retryLane)throw k.retryLane=c,zs(r,c),dn(w,r,c),$0}S.data==="$?"||_m(),i=$f(r,i,o)}else S.data==="$?"?(i.flags|=128,i.child=r.child,i=dA.bind(null,r),S._reactRetry=i,i=null):(r=k.treeContext,Ht=ar(S.nextSibling),hn=i,$e=!0,sr=null,Rr=!1,r!==null&&($n[Gn++]=Jr,$n[Gn++]=es,$n[Gn++]=qi,Jr=r.id,es=r.overflow,qi=i),i=qf(i,c.children),i.flags|=4096);return i}return d?(Fs(),d=c.fallback,S=i.mode,k=r.child,B=k.sibling,c=Zs(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&31457280,B!==null?d=Zs(B,d):(d=ta(d,S,o,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,S=r.child.memoizedState,S===null?S=Bf(o):(k=S.cachePool,k!==null?(B=Ct._currentValue,k=k.parent!==B?{parent:B,pool:B}:k):k=t0(),S={baseLanes:S.baseLanes|o,cachePool:k}),d.memoizedState=S,d.childLanes=Ff(r,w,o),i.memoizedState=zf,c):(Bs(i),o=r.child,r=o.sibling,o=Zs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,r!==null&&(w=i.deletions,w===null?(i.deletions=[r],i.flags|=16):w.push(r)),i.child=o,i.memoizedState=null,o)}function qf(r,i){return i=Hf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Hf(r,i){return Av(r,i,0,null)}function $f(r,i,o){return Gi(i,r.child,null,o),r=qf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function tv(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Yf(r.return,i,o)}function Gf(r,i,o,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=d)}function nv(r,i,o){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if($t(r,i,c.children,o),c=Nt.current,c&2)c=c&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tv(r,o,i);else if(r.tag===19)tv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Ye(Nt,c),d){case"forwards":for(o=i.child,d=null;o!==null;)r=o.alternate,r!==null&&Ru(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Gf(i,!1,d,o,g);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&Ru(r)===null){i.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Gf(i,!0,o,null,g);break;case"together":Gf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rs(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Js|=i.lanes,!(o&i.childLanes))if(r!==null){if(Cl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Zs(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Zs(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Kf(r,i){return r.lanes&i?!0:(r=r.dependencies,!!(r!==null&&Uu(r)))}function ZS(r,i,o){switch(i.tag){case 3:Ts(i,i.stateNode.containerInfo),$s(i,Ct,r.memoizedState.cache),yl();break;case 27:case 5:Ko(i);break;case 4:Ts(i,i.stateNode.containerInfo);break;case 10:$s(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Bs(i),i.flags|=128,null):o&i.child.childLanes?ev(r,i,o):(Bs(i),r=rs(r,i,o),r!==null?r.sibling:null);Bs(i);break;case 19:var d=(r.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Cl(r,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return nv(r,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(Nt,Nt.current),c)break;return null;case 22:case 23:return i.lanes=0,Y0(r,i,o);case 24:$s(i,Ct,r.memoizedState.cache)}return rs(r,i,o)}function rv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Kf(r,o)&&!(i.flags&128))return Pt=!1,ZS(r,i,o);Pt=!!(r.flags&131072)}else Pt=!1,$e&&i.flags&1048576&&By(i,Eu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")om(c)?(r=Wi(c,r),i.tag=1,i=Z0(null,i,c,r,o)):(i.tag=0,i=Uf(null,i,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===N){i.tag=11,i=G0(null,i,c,r,o);break e}else if(d===F){i.tag=14,i=K0(null,i,c,r,o);break e}}throw i=T(c)||c,Error(s(306,i,""))}}return i;case 0:return Uf(r,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=Wi(c,i.pendingProps),Z0(r,i,c,d,o);case 3:e:{if(Ts(i,i.stateNode.containerInfo),r===null)throw Error(s(387));var g=i.pendingProps;d=i.memoizedState,c=d.element,Zf(r,i),jl(i,g,null,o);var w=i.memoizedState;if(g=w.cache,$s(i,Ct,g),g!==d.cache&&Xf(i,[Ct],o,!0),Dl(),g=w.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=J0(r,i,g,o);break e}else if(g!==c){c=Hn(Error(s(424)),i),vl(c),i=J0(r,i,g,o);break e}else for(Ht=ar(i.stateNode.containerInfo.firstChild),hn=i,$e=!0,sr=null,Rr=!0,o=Xy(i,null,g,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(yl(),g===c){i=rs(r,i,o);break e}$t(r,i,g,o)}i=i.child}return i;case 26:return Nl(r,i),r===null?(o=a_(i.type,null,i.pendingProps,null))?i.memoizedState=o:$e||(o=i.type,r=i.pendingProps,c=th(Pn.current).createElement(o),c[Ot]=i,c[St]=r,Gt(c,o,r),rt(c),i.stateNode=c):i.memoizedState=a_(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ko(i),r===null&&$e&&(c=i.stateNode=r_(i.type,i.pendingProps,Pn.current),hn=i,Rr=!0,Ht=ar(c.firstChild)),c=i.pendingProps.children,r!==null||$e?$t(r,i,c,o):i.child=Gi(i,null,c,o),Nl(r,i),i.child;case 5:return r===null&&$e&&((d=c=Ht)&&(c=NA(c,i.type,i.pendingProps,Rr),c!==null?(i.stateNode=c,hn=i,Ht=ar(c.firstChild),Rr=!1,d=!0):d=!1),d||$i(i)),Ko(i),d=i.type,g=i.pendingProps,w=r!==null?r.memoizedProps:null,c=g.children,Om(d,g)?c=null:w!==null&&Om(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=wf(r,i,$S,null,null,o),Kl._currentValue=d),Nl(r,i),$t(r,i,c,o),i.child;case 6:return r===null&&$e&&((r=o=Ht)&&(o=CA(o,i.pendingProps,Rr),o!==null?(i.stateNode=o,hn=i,Ht=null,r=!0):r=!1),r||$i(i)),null;case 13:return ev(r,i,o);case 4:return Ts(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Gi(i,null,c,o):$t(r,i,c,o),i.child;case 11:return G0(r,i,i.type,i.pendingProps,o);case 7:return $t(r,i,i.pendingProps,o),i.child;case 8:return $t(r,i,i.pendingProps.children,o),i.child;case 12:return $t(r,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,$s(i,i.type,c.value),$t(r,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,Ji(i),d=en(d),c=c(d),i.flags|=1,$t(r,i,c,o),i.child;case 14:return K0(r,i,i.type,i.pendingProps,o);case 15:return Q0(r,i,i.type,i.pendingProps,o);case 19:return nv(r,i,o);case 22:return Y0(r,i,o);case 24:return Ji(i),c=en(Ct),r===null?(d=_f(),d===null&&(d=et,g=yf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),i.memoizedState={parent:c,cache:d},Wf(i),$s(i,Ct,d)):(r.lanes&o&&(Zf(r,i),jl(i,null,null,o),Dl()),d=r.memoizedState,g=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),$s(i,Ct,c)):(c=g.cache,$s(i,Ct,c),c!==d.cache&&Xf(i,[Ct],o,!0))),$t(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Qf=qe(null),Zi=null,ss=null;function $s(r,i,o){Ye(Qf,i._currentValue),i._currentValue=o}function is(r){r._currentValue=Qf.current,lt(Qf)}function Yf(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function Xf(r,i,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var k=0;k<i.length;k++)if(S.context===i[k]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Yf(g.return,o,r),c||(w=null);break e}g=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Yf(w,o,r),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===r){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Cl(r,i,o,c){r=null;for(var d=i,g=!1;d!==null;){if(!g){if(d.flags&524288)g=!0;else if(d.flags&262144)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var S=d.type;Sn(d.pendingProps.value,w.value)||(r!==null?r.push(S):r=[S])}}else if(d===xs.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Kl):r=[Kl])}d=d.return}r!==null&&Xf(i,r,o,c),i.flags|=262144}function Uu(r){for(r=r.firstContext;r!==null;){if(!Sn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ji(r){Zi=r,ss=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function en(r){return sv(Zi,r)}function zu(r,i){return Zi===null&&Ji(r),sv(r,i)}function sv(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ss===null){if(r===null)throw Error(s(308));ss=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ss=ss.next=i;return o}var Gs=!1;function Wf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ks(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qs(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,it&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=bu(r),Uy(r,null,o),i}return _u(r,c,i,o),bu(r)}function Il(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194176)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,Is(r,o)}}function Jf(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?d=g=i:g=g.next=i}else d=g=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var em=!1;function Dl(){if(em){var r=eo;if(r!==null)throw r}}function jl(r,i,o,c){em=!1;var d=r.updateQueue;Gs=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var k=S,B=k.next;k.next=null,w===null?g=B:w.next=B,w=k;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==w&&(S===null?ee.firstBaseUpdate=B:S.next=B,ee.lastBaseUpdate=k))}if(g!==null){var ie=d.baseState;w=0,ee=B=k=null,S=g;do{var K=S.lane&-536870913,J=K!==S.lane;if(J?(ze&K)===K:(c&K)===K){K!==0&&K===Ja&&(em=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=r,Se=S;K=i;var dt=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ie=me.call(dt,ie,K);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,K=typeof me=="function"?me.call(dt,ie,K):me,K==null)break e;ie=j({},ie,K);break e;case 2:Gs=!0}}K=S.callback,K!==null&&(r.flags|=64,J&&(r.flags|=8192),J=d.callbacks,J===null?d.callbacks=[K]:J.push(K))}else J={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(B=ee=J,k=ie):ee=ee.next=J,w|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;J=S,S=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ee===null&&(k=ie),d.baseState=k,d.firstBaseUpdate=B,d.lastBaseUpdate=ee,g===null&&(d.shared.lanes=0),Js|=w,r.lanes=w,r.memoizedState=ie}}function iv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function av(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)iv(o[r],i)}function Ol(r,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==d)}}catch(S){Ze(i,i.return,S)}}function Ys(r,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){var w=c.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=i;var k=o;try{S()}catch(B){Ze(d,k,B)}}}c=c.next}while(c!==g)}}catch(B){Ze(i,i.return,B)}}function ov(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{av(i,o)}catch(c){Ze(r,r.return,c)}}}function lv(r,i,o){o.props=Wi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(r,i,c)}}function ea(r,i){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=c;break;default:d=c}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){Ze(r,i,g)}}function An(r,i){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Ze(r,i,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ze(r,i,d)}else o.current=null}function cv(r){var i=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Ze(r,r.return,d)}}function uv(r,i,o){try{var c=r.stateNode;xA(c,r.type,o,i),c[St]=i}catch(d){Ze(r,r.return,d)}}function hv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function tm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||hv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nm(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(r,i):o.insertBefore(r,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(r,o)):(i=o,i.appendChild(r)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=eh));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(nm(r,i,o),r=r.sibling;r!==null;)nm(r,i,o),r=r.sibling}function Bu(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Bu(r,i,o),r=r.sibling;r!==null;)Bu(r,i,o),r=r.sibling}var as=!1,ut=!1,rm=!1,dv=typeof WeakSet=="function"?WeakSet:Set,Vt=null,fv=!1;function JS(r,i){if(r=r.containerInfo,Dm=oh,r=Iy(r),sf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,S=-1,k=-1,B=0,ee=0,ie=r,K=null;t:for(;;){for(var J;ie!==o||d!==0&&ie.nodeType!==3||(S=w+d),ie!==g||c!==0&&ie.nodeType!==3||(k=w+c),ie.nodeType===3&&(w+=ie.nodeValue.length),(J=ie.firstChild)!==null;)K=ie,ie=J;for(;;){if(ie===r)break t;if(K===o&&++B===d&&(S=w),K===g&&++ee===c&&(k=w),(J=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=J}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(jm={focusedElem:r,selectionRange:o},oh=!1,Vt=i;Vt!==null;)if(i=Vt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Vt=r;else for(;Vt!==null;){switch(i=Vt,g=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=i,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var me=Wi(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(me,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Se){Ze(o,o.return,Se)}}break;case 3:if(r&1024){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Pm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Pm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Vt=r;break}Vt=i.return}return me=fv,fv=!1,me}function mv(r,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ls(r,o),c&4&&Ol(5,o);break;case 1:if(ls(r,o),c&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(S){Ze(o,o.return,S)}else{var d=Wi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(d,i,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Ze(o,o.return,S)}}c&64&&ov(o),c&512&&ea(o,o.return);break;case 3:if(ls(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{av(c,r)}catch(S){Ze(o,o.return,S)}}break;case 26:ls(r,o),c&512&&ea(o,o.return);break;case 27:case 5:ls(r,o),i===null&&c&4&&cv(o),c&512&&ea(o,o.return);break;case 12:ls(r,o);break;case 13:ls(r,o),c&4&&yv(r,o);break;case 22:if(d=o.memoizedState!==null||as,!d){i=i!==null&&i.memoizedState!==null||ut;var g=as,w=ut;as=d,(ut=i)&&!w?Xs(r,o,(o.subtreeFlags&8772)!==0):ls(r,o),as=g,ut=w}c&512&&(o.memoizedProps.mode==="manual"?ea(o,o.return):An(o,o.return));break;default:ls(r,o)}}function pv(r){var i=r.alternate;i!==null&&(r.alternate=null,pv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ii(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,Rn=!1;function os(r,i,o){for(o=o.child;o!==null;)gv(r,i,o),o=o.sibling}function gv(r,i,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Ss,o)}catch{}switch(o.tag){case 26:ut||An(o,i),os(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ut||An(o,i);var c=bt,d=Rn;for(bt=o.stateNode,os(r,i,o),o=o.stateNode,i=o.attributes;i.length;)o.removeAttributeNode(i[0]);Ii(o),bt=c,Rn=d;break;case 5:ut||An(o,i);case 6:d=bt;var g=Rn;if(bt=null,os(r,i,o),bt=d,Rn=g,bt!==null)if(Rn)try{r=bt,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(w){Ze(o,i,w)}else try{bt.removeChild(o.stateNode)}catch(w){Ze(o,i,w)}break;case 18:bt!==null&&(Rn?(i=bt,o=o.stateNode,i.nodeType===8?Mm(i.parentNode,o):i.nodeType===1&&Mm(i,o),Wl(i)):Mm(bt,o.stateNode));break;case 4:c=bt,d=Rn,bt=o.stateNode.containerInfo,Rn=!0,os(r,i,o),bt=c,Rn=d;break;case 0:case 11:case 14:case 15:ut||Ys(2,o,i),ut||Ys(4,o,i),os(r,i,o);break;case 1:ut||(An(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&lv(o,i,c)),os(r,i,o);break;case 21:os(r,i,o);break;case 22:ut||An(o,i),ut=(c=ut)||o.memoizedState!==null,os(r,i,o),ut=c;break;default:os(r,i,o)}}function yv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wl(r)}catch(o){Ze(i,i.return,o)}}function eA(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new dv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new dv),i;default:throw Error(s(435,r.tag))}}function sm(r,i){var o=eA(r);i.forEach(function(c){var d=fA.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function Qn(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=r,w=i,S=w;e:for(;S!==null;){switch(S.tag){case 27:case 5:bt=S.stateNode,Rn=!1;break e;case 3:bt=S.stateNode.containerInfo,Rn=!0;break e;case 4:bt=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(bt===null)throw Error(s(160));gv(g,w,d),bt=null,Rn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)vv(i,r),i=i.sibling}var ir=null;function vv(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qn(i,r),Yn(r),c&4&&(Ys(3,r,r.return),Ol(3,r),Ys(5,r,r.return));break;case 1:Qn(i,r),Yn(r),c&512&&(ut||o===null||An(o,o.return)),c&64&&as&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=ir;if(Qn(i,r),Yn(r),c&512&&(ut||o===null||An(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[js]||g[Ot]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Gt(g,c,o),g[Ot]=r,rt(g),c=g;break e;case"link":var w=c_("link","href",d).get(c+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}g=d.createElement(c),Gt(g,c,o),d.head.appendChild(g);break;case"meta":if(w=c_("meta","content",d).get(c+(o.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}g=d.createElement(c),Gt(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[Ot]=r,rt(g),c=g}r.stateNode=c}else u_(d,r.type,r.stateNode);else r.stateNode=l_(d,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?u_(d,r.type,r.stateNode):l_(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&uv(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var k=d.firstChild;k;){var B=k.nextSibling,ee=k.nodeName;k[js]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&k.rel.toLowerCase()==="stylesheet"||d.removeChild(k),k=B}for(var ie=r.type,K=d.attributes;K.length;)d.removeAttributeNode(K[0]);Gt(d,ie,g),d[Ot]=r,d[St]=g}catch(me){Ze(r,r.return,me)}}case 5:if(Qn(i,r),Yn(r),c&512&&(ut||o===null||An(o,o.return)),r.flags&32){d=r.stateNode;try{Un(d,"")}catch(me){Ze(r,r.return,me)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,uv(r,d,o!==null?o.memoizedProps:d)),c&1024&&(rm=!0);break;case 6:if(Qn(i,r),Yn(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(me){Ze(r,r.return,me)}}break;case 3:if(sh=null,d=ir,ir=nh(i.containerInfo),Qn(i,r),ir=d,Yn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch(me){Ze(r,r.return,me)}rm&&(rm=!1,_v(r));break;case 4:c=ir,ir=nh(r.stateNode.containerInfo),Qn(i,r),Yn(r),ir=c;break;case 12:Qn(i,r),Yn(r);break;case 13:Qn(i,r),Yn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(fm=pn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,sm(r,c)));break;case 22:if(c&512&&(ut||o===null||An(o,o.return)),k=r.memoizedState!==null,B=o!==null&&o.memoizedState!==null,ee=as,ie=ut,as=ee||k,ut=ie||B,Qn(i,r),ut=ie,as=ee,Yn(r),i=r.stateNode,i._current=r,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,c&8192&&(i._visibility=k?i._visibility&-2:i._visibility|1,k&&(i=as||ut,o===null||B||i||so(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,i=r;;){if(i.tag===5||i.tag===26||i.tag===27){if(o===null){B=o=i;try{if(d=B.stateNode,k)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=B.stateNode,S=B.memoizedProps.style;var J=S!=null&&S.hasOwnProperty("display")?S.display:null;w.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(me){Ze(B,B.return,me)}}}else if(i.tag===6){if(o===null){B=i;try{B.stateNode.nodeValue=k?"":B.memoizedProps}catch(me){Ze(B,B.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,sm(r,o))));break;case 19:Qn(i,r),Yn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,sm(r,c)));break;case 21:break;default:Qn(i,r),Yn(r)}}function Yn(r){var i=r.flags;if(i&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(hv(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 27:var d=c.stateNode,g=tm(r);Bu(r,g,d);break;case 5:var w=c.stateNode;c.flags&32&&(Un(w,""),c.flags&=-33);var S=tm(r);Bu(r,S,w);break;case 3:case 4:var k=c.stateNode.containerInfo,B=tm(r);nm(r,B,k);break;default:throw Error(s(161))}}}catch(ee){Ze(r,r.return,ee)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function _v(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;_v(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ls(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(r,i.alternate,i),i=i.sibling}function so(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ys(4,i,i.return),so(i);break;case 1:An(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&lv(i,i.return,o),so(i);break;case 26:case 27:case 5:An(i,i.return),so(i);break;case 22:An(i,i.return),i.memoizedState===null&&so(i);break;default:so(i)}r=r.sibling}}function Xs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=r,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(d,g,o),Ol(4,g);break;case 1:if(Xs(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Ze(c,c.return,B)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)iv(k[d],S)}catch(B){Ze(c,c.return,B)}}o&&w&64&&ov(g),ea(g,g.return);break;case 26:case 27:case 5:Xs(d,g,o),o&&c===null&&w&4&&cv(g),ea(g,g.return);break;case 12:Xs(d,g,o);break;case 13:Xs(d,g,o),o&&w&4&&yv(d,g);break;case 22:g.memoizedState===null&&Xs(d,g,o),ea(g,g.return);break;default:Xs(d,g,o)}i=i.sibling}}function im(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&xl(o))}function am(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&xl(r))}function Ws(r,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bv(r,i,o,c),i=i.sibling}function bv(r,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ws(r,i,o,c),d&2048&&Ol(9,i);break;case 3:Ws(r,i,o,c),d&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&xl(r)));break;case 12:if(d&2048){Ws(r,i,o,c),r=i.stateNode;try{var g=i.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){Ze(i,i.return,k)}}else Ws(r,i,o,c);break;case 23:break;case 22:g=i.stateNode,i.memoizedState!==null?g._visibility&4?Ws(r,i,o,c):kl(r,i):g._visibility&4?Ws(r,i,o,c):(g._visibility|=4,io(r,i,o,c,(i.subtreeFlags&10256)!==0)),d&2048&&im(i.alternate,i);break;case 24:Ws(r,i,o,c),d&2048&&am(i.alternate,i);break;default:Ws(r,i,o,c)}}function io(r,i,o,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=r,w=i,S=o,k=c,B=w.flags;switch(w.tag){case 0:case 11:case 15:io(g,w,S,k,d),Ol(8,w);break;case 23:break;case 22:var ee=w.stateNode;w.memoizedState!==null?ee._visibility&4?io(g,w,S,k,d):kl(g,w):(ee._visibility|=4,io(g,w,S,k,d)),d&&B&2048&&im(w.alternate,w);break;case 24:io(g,w,S,k,d),d&&B&2048&&am(w.alternate,w);break;default:io(g,w,S,k,d)}i=i.sibling}}function kl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,c=i,d=c.flags;switch(c.tag){case 22:kl(o,c),d&2048&&im(c.alternate,c);break;case 24:kl(o,c),d&2048&&am(c.alternate,c);break;default:kl(o,c)}i=i.sibling}}var Ml=8192;function ao(r){if(r.subtreeFlags&Ml)for(r=r.child;r!==null;)wv(r),r=r.sibling}function wv(r){switch(r.tag){case 26:ao(r),r.flags&Ml&&r.memoizedState!==null&&FA(ir,r.memoizedState,r.memoizedProps);break;case 5:ao(r);break;case 3:case 4:var i=ir;ir=nh(r.stateNode.containerInfo),ao(r),ir=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Ml,Ml=16777216,ao(r),Ml=i):ao(r));break;default:ao(r)}}function Ev(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Pl(r){var i=r.deletions;if(r.flags&16){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Vt=c,Tv(c,r)}Ev(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xv(r),r=r.sibling}function xv(r){switch(r.tag){case 0:case 11:case 15:Pl(r),r.flags&2048&&Ys(9,r,r.return);break;case 3:Pl(r);break;case 12:Pl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&4&&(r.return===null||r.return.tag!==13)?(i._visibility&=-5,Fu(r)):Pl(r);break;default:Pl(r)}}function Fu(r){var i=r.deletions;if(r.flags&16){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Vt=c,Tv(c,r)}Ev(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ys(8,i,i.return),Fu(i);break;case 22:o=i.stateNode,o._visibility&4&&(o._visibility&=-5,Fu(i));break;default:Fu(i)}r=r.sibling}}function Tv(r,i){for(;Vt!==null;){var o=Vt;switch(o.tag){case 0:case 11:case 15:Ys(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Vt=c;else e:for(o=r;Vt!==null;){c=Vt;var d=c.sibling,g=c.return;if(pv(c),c===o){Vt=null;break e}if(d!==null){d.return=g,Vt=d;break e}Vt=g}}}function tA(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,i,o,c){return new tA(r,i,o,c)}function om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zs(r,i){var o=r.alternate;return o===null?(o=Xn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Sv(r,i){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function qu(r,i,o,c,d,g){var w=0;if(c=r,typeof r=="function")om(r)&&(w=1);else if(typeof r=="string")w=zA(r,o,on.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return ta(o.children,d,g,i);case y:w=8,d|=24;break;case _:return r=Xn(12,o,i,d|2),r.elementType=_,r.lanes=g,r;case V:return r=Xn(13,o,i,d),r.elementType=V,r.lanes=g,r;case C:return r=Xn(19,o,i,d),r.elementType=C,r.lanes=g,r;case Q:return Av(o,d,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:case I:w=10;break e;case x:w=9;break e;case N:w=11;break e;case F:w=14;break e;case G:w=16,c=null;break e}w=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Xn(w,o,i,d),i.elementType=r,i.type=c,i.lanes=g,i}function ta(r,i,o,c){return r=Xn(7,r,c,i),r.lanes=o,r}function Av(r,i,o,c){r=Xn(22,r,c,i),r.elementType=Q,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(s(456));if(!(d._pendingVisibility&2)){var w=zs(g,2);w!==null&&(d._pendingVisibility|=2,dn(w,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(s(456));if(d._pendingVisibility&2){var w=zs(g,2);w!==null&&(d._pendingVisibility&=-3,dn(w,g,2))}}};return r.stateNode=d,r}function lm(r,i,o){return r=Xn(6,r,null,i),r.lanes=o,r}function cm(r,i,o){return i=Xn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function cs(r){r.flags|=4}function Rv(r,i){if(i.type!=="stylesheet"||i.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!h_(i)){if(i=Kn.current,i!==null&&((ze&4194176)===ze?Nr!==null:(ze&62914560)!==ze&&!(ze&536870912)||i!==Nr))throw bl=mf,Hy;r.flags|=8192}}function Hu(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ns():536870912,r.lanes|=i,lo|=i)}function Vl(r,i){if(!$e)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function st(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&31457280,c|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function nA(r,i,o){var c=i.pendingProps;switch(df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return o=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),is(Ct),Fr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(gl(i)?cs(i):r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,sr!==null&&(ym(sr),sr=null))),st(i),null;case 26:return o=i.memoizedState,r===null?(cs(i),o!==null?(st(i),Rv(i,o)):(st(i),i.flags&=-16777217)):o?o!==r.memoizedState?(cs(i),st(i),Rv(i,o)):(st(i),i.flags&=-16777217):(r.memoizedProps!==c&&cs(i),st(i),i.flags&=-16777217),null;case 27:Ra(i),o=Pn.current;var d=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&cs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return st(i),null}r=on.current,gl(i)?Fy(i):(r=r_(d,c,o),i.stateNode=r,cs(i))}return st(i),null;case 5:if(Ra(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&cs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(r=on.current,gl(i))Fy(i);else{switch(d=th(Pn.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[Ot]=i,r[St]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=r;e:switch(Gt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cs(i)}}return st(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&cs(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=Pn.current,gl(i)){if(r=i.stateNode,o=i.memoizedProps,c=null,d=hn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Ot]=i,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Wv(r.nodeValue,o)),r||$i(i)}else r=th(r).createTextNode(c),r[Ot]=i,i.stateNode=r}return st(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=gl(i),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ot]=i}else yl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;st(i),d=!1}else sr!==null&&(ym(sr),sr=null),d=!0;if(!d)return i.flags&256?(ts(i),i):(ts(i),null)}if(ts(i),i.flags&128)return i.lanes=o,i;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),Hu(i,i.updateQueue),st(i),null;case 4:return Fr(),r===null&&Nm(i.stateNode.containerInfo),st(i),null;case 10:return is(i.type),st(i),null;case 19:if(lt(Nt),d=i.memoizedState,d===null)return st(i),null;if(c=(i.flags&128)!==0,g=d.rendering,g===null)if(c)Vl(d,!1);else{if(ht!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(g=Ru(r),g!==null){for(i.flags|=128,Vl(d,!1),r=g.updateQueue,i.updateQueue=r,Hu(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Sv(o,r),o=o.sibling;return Ye(Nt,Nt.current&1|2),i.child}r=r.sibling}d.tail!==null&&pn()>$u&&(i.flags|=128,c=!0,Vl(d,!1),i.lanes=4194304)}else{if(!c)if(r=Ru(g),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,Hu(i,r),Vl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!$e)return st(i),null}else 2*pn()-d.renderingStartTime>$u&&o!==536870912&&(i.flags|=128,c=!0,Vl(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(r=d.last,r!==null?r.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=pn(),i.sibling=null,r=Nt.current,Ye(Nt,c?r&1|2:r&1),i):(st(i),null);case 22:case 23:return ts(i),gf(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?o&536870912&&!(i.flags&128)&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),o=i.updateQueue,o!==null&&Hu(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),r!==null&&lt(Ki),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),is(Ct),st(i),null;case 25:return null}throw Error(s(156,i.tag))}function rA(r,i){switch(df(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return is(Ct),Fr(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ra(i),null;case 13:if(ts(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return lt(Nt),null;case 4:return Fr(),null;case 10:return is(i.type),null;case 22:case 23:return ts(i),gf(),r!==null&&lt(Ki),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return is(Ct),null;case 25:return null;default:return null}}function Nv(r,i){switch(df(i),i.tag){case 3:is(Ct),Fr();break;case 26:case 27:case 5:Ra(i);break;case 4:Fr();break;case 13:ts(i);break;case 19:lt(Nt);break;case 10:is(i.type);break;case 22:case 23:ts(i),gf(),r!==null&&lt(Ki);break;case 24:is(Ct)}}var sA={getCacheForType:function(r){var i=en(Ct),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},iA=typeof WeakMap=="function"?WeakMap:Map,it=0,et=null,Oe=null,ze=0,tt=0,Nn=null,us=!1,oo=!1,um=!1,hs=0,ht=0,Js=0,na=0,hm=0,Wn=0,lo=0,Ll=null,Ir=null,dm=!1,fm=0,$u=1/0,Gu=null,ei=null,Ku=!1,ra=null,Ul=0,mm=0,pm=null,zl=0,gm=null;function Cn(){if(it&2&&ze!==0)return ze&-ze;if(A.T!==null){var r=Ja;return r!==0?r:Tm()}return Jc()}function Cv(){Wn===0&&(Wn=!(ze&536870912)||$e?Zo():536870912);var r=Kn.current;return r!==null&&(r.flags|=32),Wn}function dn(r,i,o){(r===et&&tt===2||r.cancelPendingCommit!==null)&&(co(r,0),ds(r,ze,Wn,!1)),ft(r,o),(!(it&2)||r!==et)&&(r===et&&(!(it&2)&&(na|=o),ht===4&&ds(r,ze,Wn,!1)),Dr(r))}function Iv(r,i,o){if(it&6)throw Error(s(327));var c=!o&&(i&60)===0&&(i&r.expiredLanes)===0||Rs(r,i),d=c?lA(r,i):bm(r,i,!0),g=c;do{if(d===0){oo&&!c&&ds(r,i,0,!1);break}else if(d===6)ds(r,i,0,!us);else{if(o=r.current.alternate,g&&!aA(o)){d=bm(r,i,!1),g=!1;continue}if(d===2){if(g=i,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var S=r;d=Ll;var k=S.current.memoizedState.isDehydrated;if(k&&(co(S,w).flags|=256),w=bm(S,w,!1),w!==2){if(um&&!k){S.errorRecoveryDisabledLanes|=g,na|=g,d=4;break e}g=Ir,Ir=d,g!==null&&ym(g)}d=w}if(g=!1,d!==2)continue}}if(d===1){co(r,0),ds(r,i,0,!0);break}e:{switch(c=r,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ds(c,i,Wn,!us);break e}break;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(s(329))}if(c.finishedWork=o,c.finishedLanes=i,(i&62914560)===i&&(g=fm+300-pn(),10<g)){if(ds(c,i,Wn,!us),Vn(c,0)!==0)break e;c.timeoutHandle=e_(Dv.bind(null,c,o,Ir,Gu,dm,i,Wn,na,lo,us,2,-0,0),g);break e}Dv(c,o,Ir,Gu,dm,i,Wn,na,lo,us,0,-0,0)}}break}while(!0);Dr(r)}function ym(r){Ir===null?Ir=r:Ir.push.apply(Ir,r)}function Dv(r,i,o,c,d,g,w,S,k,B,ee,ie,K){var J=i.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:BA},wv(i),i=qA(),i!==null)){r.cancelPendingCommit=i(Lv.bind(null,r,o,c,d,w,S,k,1,ie,K)),ds(r,g,w,!B);return}Lv(r,o,c,d,w,S,k,ee,ie,K)}function aA(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Sn(g(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ds(r,i,o,c){i&=~hm,i&=~na,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var d=i;0<d;){var g=31-ln(d),w=1<<g;c[g]=-1,d&=~w}o!==0&&Cs(r,o,i)}function Qu(){return it&6?!0:(Bl(0),!1)}function vm(){if(Oe!==null){if(tt===0)var r=Oe.return;else r=Oe,ss=Zi=null,Tf(r),Wa=null,wl=0,r=Oe;for(;r!==null;)Nv(r.alternate,r),r=r.return;Oe=null}}function co(r,i){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,SA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),vm(),et=r,Oe=o=Zs(r.current,null),ze=i,tt=0,Nn=null,us=!1,oo=Rs(r,i),um=!1,lo=Wn=hm=na=Js=ht=0,Ir=Ll=null,dm=!1,i&8&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var d=31-ln(c),g=1<<d;i|=r[d],c&=~g}return hs=i,vu(),o}function jv(r,i){De=null,A.H=Cr,i===_l?(i=Ky(),tt=3):i===Hy?(i=Ky(),tt=4):tt=i===$0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Oe===null&&(ht=1,Lu(r,Hn(i,r.current)))}function Ov(){var r=A.H;return A.H=Cr,r===null?Cr:r}function kv(){var r=A.A;return A.A=sA,r}function _m(){ht=4,us||(ze&4194176)!==ze&&Kn.current!==null||(oo=!0),!(Js&134217727)&&!(na&134217727)||et===null||ds(et,ze,Wn,!1)}function bm(r,i,o){var c=it;it|=2;var d=Ov(),g=kv();(et!==r||ze!==i)&&(Gu=null,co(r,i)),i=!1;var w=ht;e:do try{if(tt!==0&&Oe!==null){var S=Oe,k=Nn;switch(tt){case 8:vm(),w=6;break e;case 3:case 2:case 6:Kn.current===null&&(i=!0);var B=tt;if(tt=0,Nn=null,uo(r,S,k,B),o&&oo){w=0;break e}break;default:B=tt,tt=0,Nn=null,uo(r,S,k,B)}}oA(),w=ht;break}catch(ee){jv(r,ee)}while(!0);return i&&r.shellSuspendCounter++,ss=Zi=null,it=c,A.H=d,A.A=g,Oe===null&&(et=null,ze=0,vu()),w}function oA(){for(;Oe!==null;)Mv(Oe)}function lA(r,i){var o=it;it|=2;var c=Ov(),d=kv();et!==r||ze!==i?(Gu=null,$u=pn()+500,co(r,i)):oo=Rs(r,i);e:do try{if(tt!==0&&Oe!==null){i=Oe;var g=Nn;t:switch(tt){case 1:tt=0,Nn=null,uo(r,i,g,1);break;case 2:if($y(g)){tt=0,Nn=null,Pv(i);break}i=function(){tt===2&&et===r&&(tt=7),Dr(r)},g.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:$y(g)?(tt=0,Nn=null,Pv(i)):(tt=0,Nn=null,uo(r,i,g,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var S=Oe;if(!w||h_(w)){tt=0,Nn=null;var k=S.sibling;if(k!==null)Oe=k;else{var B=S.return;B!==null?(Oe=B,Yu(B)):Oe=null}break t}}tt=0,Nn=null,uo(r,i,g,5);break;case 6:tt=0,Nn=null,uo(r,i,g,6);break;case 8:vm(),ht=6;break e;default:throw Error(s(462))}}cA();break}catch(ee){jv(r,ee)}while(!0);return ss=Zi=null,A.H=c,A.A=d,it=o,Oe!==null?0:(et=null,ze=0,vu(),ht)}function cA(){for(;Oe!==null&&!Kd();)Mv(Oe)}function Mv(r){var i=rv(r.alternate,r,hs);r.memoizedProps=r.pendingProps,i===null?Yu(r):Oe=i}function Pv(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=W0(o,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=W0(o,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Tf(i);default:Nv(o,i),i=Oe=Sv(i,hs),i=rv(o,i,hs)}r.memoizedProps=r.pendingProps,i===null?Yu(r):Oe=i}function uo(r,i,o,c){ss=Zi=null,Tf(i),Wa=null,wl=0;var d=i.return;try{if(WS(r,d,i,o,ze)){ht=1,Lu(r,Hn(o,r.current)),Oe=null;return}}catch(g){if(d!==null)throw Oe=d,g;ht=1,Lu(r,Hn(o,r.current)),Oe=null;return}i.flags&32768?($e||c===1?r=!0:oo||ze&536870912?r=!1:(us=r=!0,(c===2||c===3||c===6)&&(c=Kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vv(i,r)):Yu(i)}function Yu(r){var i=r;do{if(i.flags&32768){Vv(i,us);return}r=i.return;var o=nA(i.alternate,i,hs);if(o!==null){Oe=o;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=r}while(i!==null);ht===0&&(ht=5)}function Vv(r,i){do{var o=rA(r.alternate,r);if(o!==null){o.flags&=32767,Oe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=o}while(r!==null);ht=6,Oe=null}function Lv(r,i,o,c,d,g,w,S,k,B){var ee=A.T,ie=he.p;try{he.p=2,A.T=null,uA(r,i,o,c,ie,d,g,w,S,k,B)}finally{A.T=ee,he.p=ie}}function uA(r,i,o,c,d,g,w,S){do ho();while(ra!==null);if(it&6)throw Error(s(327));var k=r.finishedWork;if(c=r.finishedLanes,k===null)return null;if(r.finishedWork=null,r.finishedLanes=0,k===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var B=k.lanes|k.childLanes;if(B|=cf,Wc(r,c,B,g,w,S),r===et&&(Oe=et=null,ze=0),!(k.subtreeFlags&10256)&&!(k.flags&10256)||Ku||(Ku=!0,mm=B,pm=o,mA(qr,function(){return ho(),null})),o=(k.flags&15990)!==0,k.subtreeFlags&15990||o?(o=A.T,A.T=null,g=he.p,he.p=2,w=it,it|=4,JS(r,k),vv(k,r),kS(jm,r.containerInfo),oh=!!Dm,jm=Dm=null,r.current=k,mv(r,k.alternate,k),Qo(),it=w,he.p=g,A.T=o):r.current=k,Ku?(Ku=!1,ra=r,Ul=c):Uv(r,B),B=r.pendingLanes,B===0&&(ei=null),Xo(k.stateNode),Dr(r),i!==null)for(d=r.onRecoverableError,k=0;k<i.length;k++)B=i[k],d(B.value,{componentStack:B.stack});return Ul&3&&ho(),B=r.pendingLanes,c&4194218&&B&42?r===gm?zl++:(zl=0,gm=r):zl=0,Bl(0),null}function Uv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,xl(i)))}function ho(){if(ra!==null){var r=ra,i=mm;mm=0;var o=Zc(Ul),c=A.T,d=he.p;try{if(he.p=32>o?32:o,A.T=null,ra===null)var g=!1;else{o=pm,pm=null;var w=ra,S=Ul;if(ra=null,Ul=0,it&6)throw Error(s(331));var k=it;if(it|=4,xv(w.current),bv(w,w.current,S,o),it=k,Bl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Ss,w)}catch{}g=!0}return g}finally{he.p=d,A.T=c,Uv(r,i)}}return!1}function zv(r,i,o){i=Hn(o,i),i=Lf(r.stateNode,i,2),r=Qs(r,i,2),r!==null&&(ft(r,2),Dr(r))}function Ze(r,i,o){if(r.tag===3)zv(r,r,o);else for(;i!==null;){if(i.tag===3){zv(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ei===null||!ei.has(c))){r=Hn(o,r),o=q0(2),c=Qs(i,o,2),c!==null&&(H0(o,c,i,r),ft(c,2),Dr(c));break}}i=i.return}}function wm(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new iA;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(um=!0,d.add(o),r=hA.bind(null,r,i,o),i.then(r,r))}function hA(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,et===r&&(ze&o)===o&&(ht===4||ht===3&&(ze&62914560)===ze&&300>pn()-fm?!(it&2)&&co(r,0):hm|=o,lo===ze&&(lo=0)),Dr(r)}function Bv(r,i){i===0&&(i=Ns()),r=zs(r,i),r!==null&&(ft(r,i),Dr(r))}function dA(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Bv(r,o)}function fA(r,i){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),Bv(r,o)}function mA(r,i){return Ri(r,i)}var Xu=null,fo=null,Em=!1,Wu=!1,xm=!1,sa=0;function Dr(r){r!==fo&&r.next===null&&(fo===null?Xu=fo=r:fo=fo.next=r),Wu=!0,Em||(Em=!0,gA(pA))}function Bl(r,i){if(!xm&&Wu){xm=!0;do for(var o=!1,c=Xu;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var w=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-ln(42|r)+1)-1,g&=d&~(w&~S),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Hv(c,g))}else g=ze,g=Vn(c,c===et?g:0),!(g&3)||Rs(c,g)||(o=!0,Hv(c,g));c=c.next}while(o);xm=!1}}function pA(){Wu=Em=!1;var r=0;sa!==0&&(TA()&&(r=sa),sa=0);for(var i=pn(),o=null,c=Xu;c!==null;){var d=c.next,g=Fv(c,i);g===0?(c.next=null,o===null?Xu=d:o.next=d,d===null&&(fo=o)):(o=c,(r!==0||g&3)&&(Wu=!0)),c=d}Bl(r)}function Fv(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-ln(g),S=1<<w,k=d[w];k===-1?(!(S&o)||S&c)&&(d[w]=Ia(S,i)):k<=i&&(r.expiredLanes|=S),g&=~S}if(i=et,o=ze,o=Vn(r,r===i?o:0),c=r.callbackNode,o===0||r===i&&tt===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ca(c),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||Rs(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(c!==null&&Ca(c),Zc(o)){case 2:case 8:o=jt;break;case 32:o=qr;break;case 268435456:o=Yo;break;default:o=qr}return c=qv.bind(null,r),o=Ri(o,c),r.callbackPriority=i,r.callbackNode=o,i}return c!==null&&c!==null&&Ca(c),r.callbackPriority=2,r.callbackNode=null,2}function qv(r,i){var o=r.callbackNode;if(ho()&&r.callbackNode!==o)return null;var c=ze;return c=Vn(r,r===et?c:0),c===0?null:(Iv(r,c,i),Fv(r,pn()),r.callbackNode!=null&&r.callbackNode===o?qv.bind(null,r):null)}function Hv(r,i){if(ho())return null;Iv(r,i,!0)}function gA(r){AA(function(){it&6?Ri(Tt,r):r()})}function Tm(){return sa===0&&(sa=Zo()),sa}function $v(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:br(""+r)}function Gv(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function yA(r,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var g=$v((d[St]||null).action),w=c.submitter;w&&(i=(i=w[St]||null)?$v(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var S=new Va("action","action",null,c,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(sa!==0){var k=w?Gv(d,w):new FormData(d);Of(o,{pending:!0,data:k,method:d.method,action:g},null,k)}}else typeof g=="function"&&(S.preventDefault(),k=w?Gv(d,w):new FormData(d),Of(o,{pending:!0,data:k,method:d.method,action:g},g,k))},currentTarget:d}]})}}for(var Sm=0;Sm<Ly.length;Sm++){var Am=Ly[Sm],vA=Am.toLowerCase(),_A=Am[0].toUpperCase()+Am.slice(1);rr(vA,"on"+_A)}rr(Oy,"onAnimationEnd"),rr(ky,"onAnimationIteration"),rr(My,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(PS,"onTransitionRun"),rr(VS,"onTransitionStart"),rr(LS,"onTransitionCancel"),rr(Py,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Kv(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var S=c[w],k=S.instance,B=S.currentTarget;if(S=S.listener,k!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=B;try{g(d)}catch(ee){Vu(ee)}d.currentTarget=null,g=k}else for(w=0;w<c.length;w++){if(S=c[w],k=S.instance,B=S.currentTarget,S=S.listener,k!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=B;try{g(d)}catch(ee){Vu(ee)}d.currentTarget=null,g=k}}}}function Pe(r,i){var o=i[Ci];o===void 0&&(o=i[Ci]=new Set);var c=r+"__bubble";o.has(c)||(Qv(i,r,2,!1),o.add(c))}function Rm(r,i,o){var c=0;i&&(c|=4),Qv(o,r,c,i)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Nm(r){if(!r[Zu]){r[Zu]=!0,el.forEach(function(o){o!=="selectionchange"&&(bA.has(o)||Rm(o,!1,r),Rm(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Zu]||(i[Zu]=!0,Rm("selectionchange",!1,i))}}function Qv(r,i,o,c){switch(y_(i)){case 2:var d=GA;break;case 8:d=KA;break;default:d=Bm}o=d.bind(null,i,o,r),d=void 0,!Bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,o,{capture:!0,passive:d}):r.addEventListener(i,o,!0):d!==void 0?r.addEventListener(i,o,{passive:d}):r.addEventListener(i,o,!1)}function Cm(r,i,o,c,d){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;w=w.return}for(;S!==null;){if(w=nr(S),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=g=w;continue e}S=S.parentNode}}c=c.return}ru(function(){var B=g,ee=Pa(o),ie=[];e:{var K=Vy.get(r);if(K!==void 0){var J=Va,me=r;switch(r){case"keypress":if(Er(o)===0)break e;case"keydown":case"keyup":J=qa;break;case"focusin":me="focus",J=za;break;case"focusout":me="blur",J=za;break;case"beforeblur":case"afterblur":J=za;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hu;break;case Oy:case ky:case My:J=Ba;break;case Py:J=fu;break;case"scroll":case"scrollend":J=su;break;case"wheel":J=Ha;break;case"copy":case"cut":case"paste":J=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=dl;break;case"toggle":case"beforetoggle":J=pu}var Se=(i&4)!==0,dt=!Se&&(r==="scroll"||r==="scrollend"),q=Se?K!==null?K+"Capture":null:K;Se=[];for(var U=B,$;U!==null;){var re=U;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||q===null||(re=ki(U,q),re!=null&&Se.push(ql(U,re,$))),dt)break;U=U.return}0<Se.length&&(K=new J(K,me,null,o,ee),ie.push({event:K,listeners:Se}))}}if(!(i&7)){e:{if(K=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",K&&o!==zn&&(me=o.relatedTarget||o.fromElement)&&(nr(me)||me[Hr]))break e;if((J||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,J?(me=o.relatedTarget||o.toElement,J=B,me=me?nr(me):null,me!==null&&(dt=ve(me),Se=me.tag,me!==dt||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(J=null,me=B),J!==me)){if(Se=Fn,re="onMouseLeave",q="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Se=dl,re="onPointerLeave",q="onPointerEnter",U="pointer"),dt=J==null?K:Os(J),$=me==null?K:Os(me),K=new Se(re,U+"leave",J,o,ee),K.target=dt,K.relatedTarget=$,re=null,nr(ee)===B&&(Se=new Se(q,U+"enter",me,o,ee),Se.target=$,Se.relatedTarget=dt,re=Se),dt=re,J&&me)t:{for(Se=J,q=me,U=0,$=Se;$;$=mo($))U++;for($=0,re=q;re;re=mo(re))$++;for(;0<U-$;)Se=mo(Se),U--;for(;0<$-U;)q=mo(q),$--;for(;U--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=mo(Se),q=mo(q)}Se=null}else Se=null;J!==null&&Yv(ie,K,J,Se,!1),me!==null&&dt!==null&&Yv(ie,dt,me,Se,!0)}}e:{if(K=B?Os(B):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var fe=Ey;else if(Rt(K))if(xy)fe=jS;else{fe=IS;var je=CS}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?B&&il(B.elementType)&&(fe=Ey):fe=DS;if(fe&&(fe=fe(r,B))){Zr(ie,fe,o,ee);break e}je&&je(r,K,B),r==="focusout"&&B&&K.type==="number"&&B.memoizedProps.value!=null&&Ma(K,"number",K.value)}switch(je=B?Os(B):window,r){case"focusin":(Rt(je)||je.contentEditable==="true")&&($a=je,af=B,pl=null);break;case"focusout":pl=af=$a=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Dy(ie,o,ee);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":Dy(ie,o,ee)}var ge;if(Sr)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?X(r,o)&&(be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(b&&o.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(ge=ol()):(wr=ee,Us="value"in wr?wr.value:wr.textContent,Le=!0)),je=Ju(B,be),0<je.length&&(be=new ul(be,r,null,o,ee),ie.push({event:be,listeners:je}),ge?be.data=ge:(ge=oe(o),ge!==null&&(be.data=ge)))),(ge=v?At(r,o):Ue(r,o))&&(be=Ju(B,"onBeforeInput"),0<be.length&&(je=new ul("onBeforeInput","beforeinput",null,o,ee),ie.push({event:je,listeners:be}),je.data=ge)),yA(ie,r,B,o,ee)}Kv(ie,i)})}function ql(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Ju(r,i){for(var o=i+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ki(r,o),d!=null&&c.unshift(ql(r,d,g)),d=ki(r,i),d!=null&&c.push(ql(r,d,g))),r=r.return}return c}function mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Yv(r,i,o,c,d){for(var g=i._reactName,w=[];o!==null&&o!==c;){var S=o,k=S.alternate,B=S.stateNode;if(S=S.tag,k!==null&&k===c)break;S!==5&&S!==26&&S!==27||B===null||(k=B,d?(B=ki(o,g),B!=null&&w.unshift(ql(o,B,k))):d||(B=ki(o,g),B!=null&&w.push(ql(o,B,k)))),o=o.return}w.length!==0&&r.push({event:i,listeners:w})}var wA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function Xv(r){return(typeof r=="string"?r:""+r).replace(wA,`
`).replace(EA,"")}function Wv(r,i){return i=Xv(i),Xv(r)===i}function eh(){}function We(r,i,o,c,d,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Un(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Un(r,""+c);break;case"className":Ps(r,"class",c);break;case"tabIndex":Ps(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(r,o,c);break;case"style":nu(r,c,g);break;case"data":if(i!=="object"){Ps(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=br(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&We(r,i,"name",d.name,d,null),We(r,i,"formEncType",d.formEncType,d,null),We(r,i,"formMethod",d.formMethod,d,null),We(r,i,"formTarget",d.formTarget,d,null)):(We(r,i,"encType",d.encType,d,null),We(r,i,"method",d.method,d,null),We(r,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=br(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=eh);break;case"onScroll":c!=null&&Pe("scroll",r);break;case"onScrollEnd":c!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=br(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Ms(r,"popover",c);break;case"xlinkActuate":Ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ln(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ln(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ln(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ln(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ms(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zd.get(o)||o,Ms(r,o,c))}}function Im(r,i,o,c,d,g){switch(o){case"style":nu(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Un(r,c):(typeof c=="number"||typeof c=="bigint")&&Un(r,""+c);break;case"onScroll":c!=null&&Pe("scroll",r);break;case"onScrollEnd":c!=null&&Pe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),g=r[St]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(i,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Ms(r,o,c)}}}function Gt(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(r,i,g,w,o,null)}}d&&We(r,i,"srcSet",o.srcSet,o,null),c&&We(r,i,"src",o.src,o,null);return;case"input":Pe("invalid",r);var S=g=w=d=null,k=null,B=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":d=ee;break;case"type":w=ee;break;case"checked":k=ee;break;case"defaultChecked":B=ee;break;case"value":g=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:We(r,i,c,ee,o,null)}}ji(r,g,S,k,B,w,d,!1),Di(r);return;case"select":Pe("invalid",r),c=w=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":c=S;default:We(r,i,d,S,o,null)}i=g,o=w,r.multiple=!!c,i!=null?He(r,!!c,i,!1):o!=null&&He(r,!!c,o,!0);return;case"textarea":Pe("invalid",r),g=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(r,i,w,S,o,null)}Ls(r,c,d,g),Di(r);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:We(r,i,k,c,o,null)}return;case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(c=0;c<Fl.length;c++)Pe(Fl[c],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(r,i,B,c,o,null)}return;default:if(il(i)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&Im(r,i,ee,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&We(r,i,S,c,o,null))}function xA(r,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,S=null,k=null,B=null,ee=null;for(J in o){var ie=o[J];if(o.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=ie;default:c.hasOwnProperty(J)||We(r,i,J,null,c,ie)}}for(var K in c){var J=c[K];if(ie=o[K],c.hasOwnProperty(K)&&(J!=null||ie!=null))switch(K){case"type":g=J;break;case"name":d=J;break;case"checked":B=J;break;case"defaultChecked":ee=J;break;case"value":w=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==ie&&We(r,i,K,J,c,ie)}}Vs(r,w,S,k,B,ee,g,d);return;case"select":J=w=S=K=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":J=k;default:c.hasOwnProperty(g)||We(r,i,g,null,c,k)}for(d in c)if(g=c[d],k=o[d],c.hasOwnProperty(d)&&(g!=null||k!=null))switch(d){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==k&&We(r,i,d,g,c,k)}i=S,o=w,c=J,K!=null?He(r,!!o,K,!1):!!c!=!!o&&(i!=null?He(r,!!o,i,!0):He(r,!!o,o?[]:"",!1));return;case"textarea":J=K=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(r,i,S,null,c,d)}for(w in c)if(d=c[w],g=o[w],c.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":K=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&We(r,i,w,d,c,g)}Oi(r,K,J);return;case"option":for(var me in o)if(K=o[me],o.hasOwnProperty(me)&&K!=null&&!c.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:We(r,i,me,null,c,K)}for(k in c)if(K=c[k],J=o[k],c.hasOwnProperty(k)&&K!==J&&(K!=null||J!=null))switch(k){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:We(r,i,k,K,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!c.hasOwnProperty(Se)&&We(r,i,Se,null,c,K);for(B in c)if(K=c[B],J=o[B],c.hasOwnProperty(B)&&K!==J&&(K!=null||J!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:We(r,i,B,K,c,J)}return;default:if(il(i)){for(var dt in o)K=o[dt],o.hasOwnProperty(dt)&&K!==void 0&&!c.hasOwnProperty(dt)&&Im(r,i,dt,void 0,c,K);for(ee in c)K=c[ee],J=o[ee],!c.hasOwnProperty(ee)||K===J||K===void 0&&J===void 0||Im(r,i,ee,K,c,J);return}}for(var q in o)K=o[q],o.hasOwnProperty(q)&&K!=null&&!c.hasOwnProperty(q)&&We(r,i,q,null,c,K);for(ie in c)K=c[ie],J=o[ie],!c.hasOwnProperty(ie)||K===J||K==null&&J==null||We(r,i,ie,K,c,J)}var Dm=null,jm=null;function th(r){return r.nodeType===9?r:r.ownerDocument}function Zv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Om(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var km=null;function TA(){var r=window.event;return r&&r.type==="popstate"?r===km?!1:(km=r,!0):(km=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(r){return t_.resolve(null).then(r).catch(RA)}:e_;function RA(r){setTimeout(function(){throw r})}function Mm(r,i){var o=i,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){r.removeChild(d),Wl(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);Wl(i)}function Pm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pm(o),Ii(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function NA(r,i,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[js])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ar(r.nextSibling),r===null)break}return null}function CA(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ar(r.nextSibling),r===null))return null;return r}function ar(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}function n_(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function r_(r,i,o){switch(i=th(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}var Zn=new Map,s_=new Set;function nh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var fs=he.d;he.d={f:IA,r:DA,D:jA,C:OA,L:kA,m:MA,X:VA,S:PA,M:LA};function IA(){var r=fs.f(),i=Qu();return r||i}function DA(r){var i=$r(r);i!==null&&i.tag===5&&i.type==="form"?D0(i):fs.r(r)}var po=typeof document>"u"?null:document;function i_(r,i,o){var c=po;if(c&&typeof i=="string"&&i){var d=ct(i);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),s_.has(d)||(s_.add(d),r={rel:r,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),Gt(i,"link",r),rt(i),c.head.appendChild(i)))}}function jA(r){fs.D(r),i_("dns-prefetch",r,null)}function OA(r,i){fs.C(r,i),i_("preconnect",r,i)}function kA(r,i,o){fs.L(r,i,o);var c=po;if(c&&r&&i){var d='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+ct(o.imageSizes)+'"]')):d+='[href="'+ct(r)+'"]';var g=d;switch(i){case"style":g=go(r);break;case"script":g=yo(r)}Zn.has(g)||(r=j({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Zn.set(g,r),c.querySelector(d)!==null||i==="style"&&c.querySelector(Hl(g))||i==="script"&&c.querySelector($l(g))||(i=c.createElement("link"),Gt(i,"link",r),rt(i),c.head.appendChild(i)))}}function MA(r,i){fs.m(r,i);var o=po;if(o&&r){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+ct(c)+'"][href="'+ct(r)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yo(r)}if(!Zn.has(g)&&(r=j({rel:"modulepreload",href:r},i),Zn.set(g,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($l(g)))return}c=o.createElement("link"),Gt(c,"link",r),rt(c),o.head.appendChild(c)}}}function PA(r,i,o){fs.S(r,i,o);var c=po;if(c&&r){var d=ks(c).hoistableStyles,g=go(r);i=i||"default";var w=d.get(g);if(!w){var S={loading:0,preload:null};if(w=c.querySelector(Hl(g)))S.loading=5;else{r=j({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Zn.get(g))&&Vm(r,o);var k=w=c.createElement("link");rt(k),Gt(k,"link",r),k._p=new Promise(function(B,ee){k.onload=B,k.onerror=ee}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(g,w)}}}function VA(r,i){fs.X(r,i);var o=po;if(o&&r){var c=ks(o).hoistableScripts,d=yo(r),g=c.get(d);g||(g=o.querySelector($l(d)),g||(r=j({src:r,async:!0},i),(i=Zn.get(d))&&Lm(r,i),g=o.createElement("script"),rt(g),Gt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function LA(r,i){fs.M(r,i);var o=po;if(o&&r){var c=ks(o).hoistableScripts,d=yo(r),g=c.get(d);g||(g=o.querySelector($l(d)),g||(r=j({src:r,async:!0,type:"module"},i),(i=Zn.get(d))&&Lm(r,i),g=o.createElement("script"),rt(g),Gt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function a_(r,i,o,c){var d=(d=Pn.current)?nh(d):null;if(!d)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=go(o.href),o=ks(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=go(o.href);var g=ks(d).hoistableStyles,w=g.get(r);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=d.querySelector(Hl(r)))&&!g._p&&(w.instance=g,w.state.loading=5),Zn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(r,o),g||UA(d,r,o,w.state))),i&&c===null)throw Error(s(528,""));return w}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(o),o=ks(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function go(r){return'href="'+ct(r)+'"'}function Hl(r){return'link[rel="stylesheet"]['+r+"]"}function o_(r){return j({},r,{"data-precedence":r.precedence,precedence:null})}function UA(r,i,o,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Gt(i,"link",o),rt(i),r.head.appendChild(i))}function yo(r){return'[src="'+ct(r)+'"]'}function $l(r){return"script[async]"+r}function l_(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+ct(o.href)+'"]');if(c)return i.instance=c,rt(c),c;var d=j({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),rt(c),Gt(c,"style",d),rh(c,o.precedence,r),i.instance=c;case"stylesheet":d=go(o.href);var g=r.querySelector(Hl(d));if(g)return i.state.loading|=4,i.instance=g,rt(g),g;c=o_(o),(d=Zn.get(d))&&Vm(c,d),g=(r.ownerDocument||r).createElement("link"),rt(g);var w=g;return w._p=new Promise(function(S,k){w.onload=S,w.onerror=k}),Gt(g,"link",c),i.state.loading|=4,rh(g,o.precedence,r),i.instance=g;case"script":return g=yo(o.src),(d=r.querySelector($l(g)))?(i.instance=d,rt(d),d):(c=o,(d=Zn.get(g))&&(c=j({},o),Lm(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),rt(d),Gt(d,"link",c),r.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(c=i.instance,i.state.loading|=4,rh(c,o.precedence,r));return i.instance}function rh(r,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,w=0;w<c.length;w++){var S=c[w];if(S.dataset.precedence===i)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Vm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Lm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var sh=null;function c_(r,i,o){if(sh===null){var c=new Map,d=sh=new Map;d.set(o,c)}else d=sh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[js]||g[Ot]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=r+w;var S=c.get(w);S?S.push(g):c.set(w,[g])}}return c}function u_(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function zA(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function h_(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Gl=null;function BA(){}function FA(r,i,o){if(Gl===null)throw Error(s(475));var c=Gl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var d=go(o.href),g=r.querySelector(Hl(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=ih.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=g,rt(g);return}g=r.ownerDocument||r,o=o_(o),(d=Zn.get(d))&&Vm(o,d),g=g.createElement("link"),rt(g);var w=g;w._p=new Promise(function(S,k){w.onload=S,w.onerror=k}),Gt(g,"link",o),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&!(i.state.loading&3)&&(c.count++,i=ih.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function qA(){if(Gl===null)throw Error(s(475));var r=Gl;return r.stylesheets&&r.count===0&&Um(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Um(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)Um(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ah=null;function Um(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ah=new Map,i.forEach(HA,r),ah=null,ih.call(r))}function HA(r,i){if(!(i.state.loading&4)){var o=ah.get(r);if(o)var c=o.get(null);else{o=new Map,ah.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=i.instance,w=d.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,d),o.set(w,d),this.count++,c=ih.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),i.state.loading|=4}}var Kl={$$typeof:I,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function $A(r,i,o,c,d,g,w,S){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function d_(r,i,o,c,d,g,w,S,k,B,ee,ie){return r=new $A(r,i,o,w,S,k,B,ie),i=1,g===!0&&(i|=24),g=Xn(3,null,null,i),r.current=g,g.stateNode=r,i=yf(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Wf(g),r}function f_(r){return r?(r=Qa,r):Qa}function m_(r,i,o,c,d,g){d=f_(d),c.context===null?c.context=d:c.pendingContext=d,c=Ks(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Qs(r,c,i),o!==null&&(dn(o,r,i),Il(o,r,i))}function p_(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function zm(r,i){p_(r,i),(r=r.alternate)&&p_(r,i)}function g_(r){if(r.tag===13){var i=zs(r,67108864);i!==null&&dn(i,r,67108864),zm(r,67108864)}}var oh=!0;function GA(r,i,o,c){var d=A.T;A.T=null;var g=he.p;try{he.p=2,Bm(r,i,o,c)}finally{he.p=g,A.T=d}}function KA(r,i,o,c){var d=A.T;A.T=null;var g=he.p;try{he.p=8,Bm(r,i,o,c)}finally{he.p=g,A.T=d}}function Bm(r,i,o,c){if(oh){var d=Fm(c);if(d===null)Cm(r,i,c,lh,o),v_(r,c);else if(YA(d,r,i,o,c))c.stopPropagation();else if(v_(r,c),i&4&&-1<QA.indexOf(r)){for(;d!==null;){var g=$r(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=tr(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var k=1<<31-ln(w);S.entanglements[1]|=k,w&=~k}Dr(g),!(it&6)&&($u=pn()+500,Bl(0))}}break;case 13:S=zs(g,2),S!==null&&dn(S,g,2),Qu(),zm(g,2)}if(g=Fm(c),g===null&&Cm(r,i,c,lh,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Cm(r,i,c,null,o)}}function Fm(r){return r=Pa(r),qm(r)}var lh=null;function qm(r){if(lh=null,r=nr(r),r!==null){var i=ve(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=Ke(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return lh=r,null}function y_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kc()){case Tt:return 2;case jt:return 8;case qr:case Qc:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var Hm=!1,ti=null,ni=null,ri=null,Ql=new Map,Yl=new Map,si=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(r,i){switch(r){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Xl(r,i,o,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=$r(i),i!==null&&g_(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function YA(r,i,o,c,d){switch(i){case"focusin":return ti=Xl(ti,r,i,o,c,d),!0;case"dragenter":return ni=Xl(ni,r,i,o,c,d),!0;case"mouseover":return ri=Xl(ri,r,i,o,c,d),!0;case"pointerover":var g=d.pointerId;return Ql.set(g,Xl(Ql.get(g)||null,r,i,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Yl.set(g,Xl(Yl.get(g)||null,r,i,o,c,d)),!0}return!1}function __(r){var i=nr(r.target);if(i!==null){var o=ve(i);if(o!==null){if(i=o.tag,i===13){if(i=Ke(o),i!==null){r.blockedOn=i,Ds(r.priority,function(){if(o.tag===13){var c=Cn(),d=zs(o,c);d!==null&&dn(d,o,c),zm(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ch(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Fm(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);zn=c,o.target.dispatchEvent(c),zn=null}else return i=$r(o),i!==null&&g_(i),r.blockedOn=o,!1;i.shift()}return!0}function b_(r,i,o){ch(r)&&o.delete(i)}function XA(){Hm=!1,ti!==null&&ch(ti)&&(ti=null),ni!==null&&ch(ni)&&(ni=null),ri!==null&&ch(ri)&&(ri=null),Ql.forEach(b_),Yl.forEach(b_)}function uh(r,i){r.blockedOn===i&&(r.blockedOn=null,Hm||(Hm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XA)))}var hh=null;function w_(r){hh!==r&&(hh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hh===r&&(hh=null);for(var i=0;i<r.length;i+=3){var o=r[i],c=r[i+1],d=r[i+2];if(typeof c!="function"){if(qm(c||o)===null)continue;break}var g=$r(o);g!==null&&(r.splice(i,3),i-=3,Of(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Wl(r){function i(k){return uh(k,r)}ti!==null&&uh(ti,r),ni!==null&&uh(ni,r),ri!==null&&uh(ri,r),Ql.forEach(i),Yl.forEach(i);for(var o=0;o<si.length;o++){var c=si[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<si.length&&(o=si[0],o.blockedOn===null);)__(o),o.blockedOn===null&&si.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],w=d[St]||null;if(typeof g=="function")w||w_(o);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[St]||null)S=w.formAction;else if(qm(d)!==null)continue}else S=w.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),w_(o)}}}function $m(r){this._internalRoot=r}dh.prototype.render=$m.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=Cn();m_(o,c,r,i,null,null)},dh.prototype.unmount=$m.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;r.tag===0&&ho(),m_(r.current,2,null,r,null,null),Qu(),i[Hr]=null}};function dh(r){this._internalRoot=r}dh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Jc();r={blockedOn:null,target:r,priority:i};for(var o=0;o<si.length&&i!==0&&i<si[o].priority;o++);si.splice(o,0,r),o===0&&__(r)}};var E_=e.version;if(E_!=="19.0.0")throw Error(s(527,E_,"19.0.0"));he.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=ae(i),r=r!==null?pe(r):null,r=r===null?null:r.stateNode,r};var WA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:nr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Ss=fh.inject(WA),Jt=fh}catch{}}return Jl.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,c="",d=U0,g=z0,w=B0,S=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=d_(r,1,!1,null,null,o,c,d,g,w,S,null),r[Hr]=i.current,Nm(r.nodeType===8?r.parentNode:r),new $m(i)},Jl.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var c=!1,d="",g=U0,w=z0,S=B0,k=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),i=d_(r,1,!0,i,o??null,c,d,g,w,S,k,B),i.context=f_(null),o=i.current,c=Cn(),d=Ks(c),d.callback=null,Qs(o,d,c),i.current.lanes=c,ft(i,c),Dr(i),r[Hr]=i.current,Nm(r),new dh(i)},Jl.version="19.0.0",Jl}var j_;function lR(){if(j_)return Qm.exports;j_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qm.exports=oR(),Qm.exports}var cR=lR();const uR=Fw(cR);var ec={},O_;function hR(){if(O_)return ec;O_=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.parse=u,ec.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,I){const N=new l,V=x.length;if(V<2)return N;const C=(I==null?void 0:I.decode)||_;let F=0;do{const G=x.indexOf("=",F);if(G===-1)break;const Q=x.indexOf(";",F),Y=Q===-1?V:Q;if(G>Y){F=x.lastIndexOf(";",G-1)+1;continue}const Z=m(x,F,G),ne=p(x,G,Z),D=x.slice(Z,ne);if(N[D]===void 0){let T=m(x,G+1,Y),A=p(x,Y,T);const j=C(x.slice(T,A));N[D]=j}F=Y+1}while(F<V);return N}function m(x,I,N){do{const V=x.charCodeAt(I);if(V!==32&&V!==9)return I}while(++I<N);return N}function p(x,I,N){for(;I>N;){const V=x.charCodeAt(--I);if(V!==32&&V!==9)return I+1}return N}function y(x,I,N){const V=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=V(I);if(!e.test(C))throw new TypeError(`argument val is invalid: ${I}`);let F=x+"="+C;if(!N)return F;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);F+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);F+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);F+="; Path="+N.path}if(N.expires){if(!E(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);F+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(F+="; HttpOnly"),N.secure&&(F+="; Secure"),N.partitioned&&(F+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return F}function _(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function E(x){return a.call(x)==="[object Date]"}return ec}hR();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k_="popstate";function dR(n={}){function e(a,l){let{pathname:u="/",search:m="",hash:p=""}=_a(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),xp("",{pathname:u,search:m,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let u=a.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let p=a.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof l=="string"?l:vc(l))}function s(a,l){Mn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return mR(e,t,s,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fR(){return Math.random().toString(36).substring(2,10)}function M_(n,e){return{usr:n.state,key:n.key,idx:e}}function xp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:t,key:e&&e.key||s||fR()}}function vc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _a(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function mR(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,m="POP",p=null,y=_();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function _(){return(u.state||{idx:null}).idx}function E(){m="POP";let C=_(),F=C==null?null:C-y;y=C,p&&p({action:m,location:V.location,delta:F})}function x(C,F){m="PUSH";let G=xp(V.location,C,F);t&&t(G,C),y=_()+1;let Q=M_(G,y),Y=V.createHref(G);try{u.pushState(Q,"",Y)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(Y)}l&&p&&p({action:m,location:V.location,delta:1})}function I(C,F){m="REPLACE";let G=xp(V.location,C,F);t&&t(G,C),y=_();let Q=M_(G,y),Y=V.createHref(G);u.replaceState(Q,"",Y),l&&p&&p({action:m,location:V.location,delta:0})}function N(C){let F=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof C=="string"?C:vc(C);return G=G.replace(/ $/,"%20"),nt(F,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,F)}let V={get action(){return m},get location(){return n(a,u)},listen(C){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(k_,E),p=C,()=>{a.removeEventListener(k_,E),p=null}},createHref(C){return e(a,C)},createURL:N,encodeLocation(C){let F=N(C);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:x,replace:I,go(C){return u.go(C)}};return V}function qw(n,e,t="/"){return pR(n,e,t,!1)}function pR(n,e,t,s){let a=typeof e=="string"?_a(e):e,l=gi(a.pathname||"/",t);if(l==null)return null;let u=Hw(n);gR(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let y=RR(l);m=SR(u[p],y,s)}return m}function Hw(n,e=[],t=[],s=""){let a=(l,u,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=ys([s,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hw(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:xR(y,l.index),routesMeta:_})};return n.forEach((l,u)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))a(l,u);else for(let p of $w(l.path))a(l,u,p)}),e}function $w(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=$w(s.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&m.push(...u),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function gR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var yR=/^:[\w-]+$/,vR=3,_R=2,bR=1,wR=10,ER=-2,P_=n=>n==="*";function xR(n,e){let t=n.split("/"),s=t.length;return t.some(P_)&&(s+=ER),e&&(s+=_R),t.filter(a=>!P_(a)).reduce((a,l)=>a+(yR.test(l)?vR:l===""?bR:wR),s)}function TR(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function SR(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",u=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),x=p.route;if(!E&&y&&t&&!s[s.length-1].route.index&&(E=Lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:ys([l,E.pathname]),pathnameBase:DR(ys([l,E.pathnameBase])),route:x}),E.pathnameBase!=="/"&&(l=ys([l,E.pathnameBase]))}return u}function Lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=AR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:E},x)=>{if(_==="*"){let N=m[x]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const I=m[x];return E&&!I?y[_]=void 0:y[_]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:n}}function AR(n,e=!1,t=!0){Mn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function RR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function NR(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?_a(n):n;return{pathname:t?t.startsWith("/")?t:CR(t,e):e,search:jR(s),hash:OR(a)}}function CR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Zm(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ag(n){let e=IR(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function og(n,e,t,s=!1){let a;typeof n=="string"?a=_a(n):(a={...n},nt(!a.pathname||!a.pathname.includes("?"),Zm("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),Zm("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),Zm("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,m;if(u==null)m=t;else{let E=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),E-=1;a.pathname=x.join("/")}m=E>=0?e[E]:"/"}let p=NR(a,m),y=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var ys=n=>n.join("/").replace(/\/\/+/g,"/"),DR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Gw=["POST","PUT","PATCH","DELETE"];new Set(Gw);var MR=["GET",...Gw];new Set(MR);var Po=O.createContext(null);Po.displayName="DataRouter";var dd=O.createContext(null);dd.displayName="DataRouterState";var Kw=O.createContext({isTransitioning:!1});Kw.displayName="ViewTransition";var PR=O.createContext(new Map);PR.displayName="Fetchers";var VR=O.createContext(null);VR.displayName="Await";var hr=O.createContext(null);hr.displayName="Navigation";var Nc=O.createContext(null);Nc.displayName="Location";var dr=O.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var lg=O.createContext(null);lg.displayName="RouteError";function LR(n,{relative:e}={}){nt(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=O.useContext(hr),{hash:a,pathname:l,search:u}=Cc(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:ys([t,l])),s.createHref({pathname:m,search:u,hash:a})}function Vo(){return O.useContext(Nc)!=null}function En(){return nt(Vo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Nc).location}var Qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(n){O.useContext(hr).static||O.useLayoutEffect(n)}function Ft(){let{isDataRoute:n}=O.useContext(dr);return n?WR():UR()}function UR(){nt(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Po),{basename:e,navigator:t}=O.useContext(hr),{matches:s}=O.useContext(dr),{pathname:a}=En(),l=JSON.stringify(ag(s)),u=O.useRef(!1);return Yw(()=>{u.current=!0}),O.useCallback((p,y={})=>{if(Mn(u.current,Qw),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=og(p,JSON.parse(l),a,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ys([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,a,n])}O.createContext(null);function Xw(){let{matches:n}=O.useContext(dr),e=n[n.length-1];return e?e.params:{}}function Cc(n,{relative:e}={}){let{matches:t}=O.useContext(dr),{pathname:s}=En(),a=JSON.stringify(ag(t));return O.useMemo(()=>og(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function zR(n,e){return Ww(n,e)}function Ww(n,e,t,s){var G;nt(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=O.useContext(hr),{matches:u}=O.useContext(dr),m=u[u.length-1],p=m?m.params:{},y=m?m.pathname:"/",_=m?m.pathnameBase:"/",E=m&&m.route;{let Q=E&&E.path||"";Zw(y,!E||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let x=En(),I;if(e){let Q=typeof e=="string"?_a(e):e;nt(_==="/"||((G=Q.pathname)==null?void 0:G.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),I=Q}else I=x;let N=I.pathname||"/",V=N;if(_!=="/"){let Q=_.replace(/^\//,"").split("/");V="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let C=!l&&t&&t.matches&&t.matches.length>0?t.matches:qw(n,{pathname:V});Mn(E||C!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Mn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=$R(C&&C.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:ys([_,a.encodeLocation?a.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?_:ys([_,a.encodeLocation?a.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,t,s);return e&&F?O.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},F):F}function BR(){let n=XR(),e=kR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:a},t):null,u)}var FR=O.createElement(BR,null),qR=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(dr.Provider,{value:this.props.routeContext},O.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HR({routeContext:n,match:e,children:t}){let s=O.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(dr.Provider,{value:n},t)}function $R(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,m=-1;if(t)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:E}=t,x=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||x){u=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((p,y,_)=>{let E,x=!1,I=null,N=null;t&&(E=l&&y.route.id?l[y.route.id]:void 0,I=y.route.errorElement||FR,u&&(m<0&&_===0?(Zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):m===_&&(x=!0,N=y.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,_+1)),C=()=>{let F;return E?F=I:x?F=N:y.route.Component?F=O.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=p,O.createElement(HR,{match:y,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:F})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?O.createElement(qR,{location:t.location,revalidation:t.revalidation,component:I,error:E,children:C(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):C()},null)}function cg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GR(n){let e=O.useContext(Po);return nt(e,cg(n)),e}function KR(n){let e=O.useContext(dd);return nt(e,cg(n)),e}function QR(n){let e=O.useContext(dr);return nt(e,cg(n)),e}function ug(n){let e=QR(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function YR(){return ug("useRouteId")}function XR(){var s;let n=O.useContext(lg),e=KR("useRouteError"),t=ug("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function WR(){let{router:n}=GR("useNavigate"),e=ug("useNavigate"),t=O.useRef(!1);return Yw(()=>{t.current=!0}),O.useCallback(async(a,l={})=>{Mn(t.current,Qw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var V_={};function Zw(n,e,t){!e&&!V_[n]&&(V_[n]=!0,Mn(!1,t))}O.memo(ZR);function ZR({routes:n,future:e,state:t}){return Ww(n,void 0,t,e)}function JR({to:n,replace:e,state:t,relative:s}){nt(Vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(hr);Mn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(dr),{pathname:u}=En(),m=Ft(),p=og(n,ag(l),u,s==="path"),y=JSON.stringify(p);return O.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:s})},[m,y,s,e,t]),null}function In(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e1({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){nt(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=_a(t));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:x="default"}=t,I=O.useMemo(()=>{let N=gi(p,u);return N==null?null:{location:{pathname:N,search:y,hash:_,state:E,key:x},navigationType:s}},[u,p,y,_,E,x,s]);return Mn(I!=null,`<Router basename="${u}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(hr.Provider,{value:m},O.createElement(Nc.Provider,{children:e,value:I}))}function t1({children:n,location:e}){return zR(Tp(n),e)}function Tp(n,e=[]){let t=[];return O.Children.forEach(n,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){t.push.apply(t,Tp(s.props.children,l));return}nt(s.type===In,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Tp(s.props.children,l)),t.push(u)}),t}var xh="get",Th="application/x-www-form-urlencoded";function fd(n){return n!=null&&typeof n.tagName=="string"}function n1(n){return fd(n)&&n.tagName.toLowerCase()==="button"}function r1(n){return fd(n)&&n.tagName.toLowerCase()==="form"}function s1(n){return fd(n)&&n.tagName.toLowerCase()==="input"}function i1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function a1(n,e){return n.button===0&&(!e||e==="_self")&&!i1(n)}function Sp(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(a=>[t,a]):[[t,s]])},[]))}function o1(n,e){let t=Sp(n);return e&&e.forEach((s,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var mh=null;function l1(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var c1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jm(n){return n!=null&&!c1.has(n)?(Mn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):n}function u1(n,e){let t,s,a,l,u;if(r1(n)){let m=n.getAttribute("action");s=m?gi(m,e):null,t=n.getAttribute("method")||xh,a=Jm(n.getAttribute("enctype"))||Th,l=new FormData(n)}else if(n1(n)||s1(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(s=p?gi(p,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||xh,a=Jm(n.getAttribute("formenctype"))||Jm(m.getAttribute("enctype"))||Th,l=new FormData(m,n),!l1()){let{name:y,type:_,value:E}=n;if(_==="image"){let x=y?`${y}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else y&&l.append(y,E)}}else{if(fd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xh,s=null,a=Th,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:u}}function hg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function h1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function f1(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await h1(l,t);return u.links?u.links():[]}return[]}));return y1(s.flat(1).filter(d1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function L_(n,e,t,s,a,l){let u=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>u(p,y)||m(p,y)):l==="data"?e.filter((p,y)=>{var E;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function m1(n,e){return p1(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function p1(n){return[...new Set(n)]}function g1(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function y1(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(g1(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function v1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function _1(){let n=O.useContext(Po);return hg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function b1(){let n=O.useContext(dd);return hg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dg=O.createContext(void 0);dg.displayName="FrameworkContext";function Jw(){let n=O.useContext(dg);return hg(n,"You must render this element inside a <HydratedRouter> element"),n}function w1(n,e){let t=O.useContext(dg),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,x=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=F=>{F.forEach(G=>{u(G.isIntersecting)})},C=new IntersectionObserver(V,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),O.useEffect(()=>{if(s){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[s]);let I=()=>{a(!0)},N=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:tc(m,I),onBlur:tc(p,N),onMouseEnter:tc(y,I),onMouseLeave:tc(_,N),onTouchStart:tc(E,I)}]:[!1,x,{}]}function tc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function E1({page:n,...e}){let{router:t}=_1(),s=O.useMemo(()=>qw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?O.createElement(T1,{page:n,matches:s,...e}):null}function x1(n){let{manifest:e,routeModules:t}=Jw(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return f1(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),s}function T1({page:n,matches:e,...t}){let s=En(),{manifest:a,routeModules:l}=Jw(),{loaderData:u,matches:m}=b1(),p=O.useMemo(()=>L_(n,e,m,a,s,"data"),[n,e,m,a,s]),y=O.useMemo(()=>L_(n,e,m,a,s,"assets"),[n,e,m,a,s]),_=O.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let I=new Set,N=!1;if(e.forEach(C=>{var G;let F=a.routes[C.route.id];!F||!F.hasLoader||(!p.some(Q=>Q.route.id===C.route.id)&&C.route.id in u&&((G=l[C.route.id])!=null&&G.shouldRevalidate)||F.hasClientLoader?N=!0:I.add(C.route.id))}),I.size===0)return[];let V=v1(n);return N&&I.size>0&&V.searchParams.set("_routes",e.filter(C=>I.has(C.route.id)).map(C=>C.route.id).join(",")),[V.pathname+V.search]},[u,s,a,p,e,n,l]),E=O.useMemo(()=>m1(y,a),[y,a]),x=x1(y);return O.createElement(O.Fragment,null,_.map(I=>O.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),E.map(I=>O.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),x.map(({key:I,link:N})=>O.createElement("link",{key:I,...N})))}function S1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var eE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eE&&(window.__reactRouterVersion="7.1.5")}catch{}function A1({basename:n,children:e,window:t}){let s=O.useRef();s.current==null&&(s.current=dR({window:t,v5Compat:!0}));let a=s.current,[l,u]=O.useState({action:a.action,location:a.location}),m=O.useCallback(p=>{O.startTransition(()=>u(p))},[u]);return O.useLayoutEffect(()=>a.listen(m),[a,m]),O.createElement(e1,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=O.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:m,target:p,to:y,preventScrollReset:_,viewTransition:E,...x},I){let{basename:N}=O.useContext(hr),V=typeof y=="string"&&tE.test(y),C,F=!1;if(typeof y=="string"&&V&&(C=y,eE))try{let A=new URL(window.location.href),j=y.startsWith("//")?new URL(A.protocol+y):new URL(y),P=gi(j.pathname,N);j.origin===A.origin&&P!=null?y=P+j.search+j.hash:F=!0}catch{Mn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=LR(y,{relative:a}),[Q,Y,Z]=w1(s,x),ne=I1(y,{replace:u,state:m,target:p,preventScrollReset:_,relative:a,viewTransition:E});function D(A){e&&e(A),A.defaultPrevented||ne(A)}let T=O.createElement("a",{...x,...Z,href:C||G,onClick:F||l?e:D,ref:S1(I,Y),target:p,"data-discover":!V&&t==="render"?"true":void 0});return Q&&!V?O.createElement(O.Fragment,null,T,O.createElement(E1,{page:G})):T});Ut.displayName="Link";var R1=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:m,children:p,...y},_){let E=Cc(u,{relative:y.relative}),x=En(),I=O.useContext(dd),{navigator:N,basename:V}=O.useContext(hr),C=I!=null&&M1(E)&&m===!0,F=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,G=x.pathname,Q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,F=F.toLowerCase()),Q&&V&&(Q=gi(Q,V)||Q);const Y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let Z=G===F||!a&&G.startsWith(F)&&G.charAt(Y)==="/",ne=Q!=null&&(Q===F||!a&&Q.startsWith(F)&&Q.charAt(F.length)==="/"),D={isActive:Z,isPending:ne,isTransitioning:C},T=Z?e:void 0,A;typeof s=="function"?A=s(D):A=[s,Z?"active":null,ne?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(D):l;return O.createElement(Ut,{...y,"aria-current":T,className:A,ref:_,style:j,to:u,viewTransition:m},typeof p=="function"?p(D):p)});R1.displayName="NavLink";var N1=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:u=xh,action:m,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:E,...x},I)=>{let N=O1(),V=k1(m,{relative:y}),C=u.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&tE.test(m),G=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let Y=Q.nativeEvent.submitter,Z=(Y==null?void 0:Y.getAttribute("formmethod"))||u;N(Y||Q.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:a,state:l,relative:y,preventScrollReset:_,viewTransition:E})};return O.createElement("form",{ref:I,method:C,action:V,onSubmit:s?p:G,...x,"data-discover":!F&&n==="render"?"true":void 0})});N1.displayName="Form";function C1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(n){let e=O.useContext(Po);return nt(e,C1(n)),e}function I1(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let m=Ft(),p=En(),y=Cc(n,{relative:l});return O.useCallback(_=>{if(a1(_,e)){_.preventDefault();let E=t!==void 0?t:vc(p)===vc(y);m(n,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[p,m,y,t,s,e,n,a,l,u])}function fg(n){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(Sp(n)),t=O.useRef(!1),s=En(),a=O.useMemo(()=>o1(s.search,t.current?null:e.current),[s.search]),l=Ft(),u=O.useCallback((m,p)=>{const y=Sp(typeof m=="function"?m(a):m);t.current=!0,l("?"+y,p)},[l,a]);return[a,u]}var D1=0,j1=()=>`__${String(++D1)}__`;function O1(){let{router:n}=nE("useSubmit"),{basename:e}=O.useContext(hr),t=YR();return O.useCallback(async(s,a={})=>{let{action:l,method:u,encType:m,formData:p,body:y}=u1(s,e);if(a.navigate===!1){let _=a.fetcherKey||j1();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:y,formMethod:a.method||u,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:y,formMethod:a.method||u,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function k1(n,{relative:e}={}){let{basename:t}=O.useContext(hr),s=O.useContext(dr);nt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Cc(n||".",{relative:e})},u=En();if(n==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let _=m.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ys([t,l.pathname])),vc(l)}function M1(n,e={}){let t=O.useContext(Kw);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nE("useViewTransitionState"),a=Cc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=gi(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=gi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Lh(a.pathname,u)!=null||Lh(a.pathname,l)!=null}new TextEncoder;function rE(n,e){return function(){return n.apply(e,arguments)}}const{toString:P1}=Object.prototype,{getPrototypeOf:mg}=Object,md=(n=>e=>{const t=P1.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),fr=n=>(n=n.toLowerCase(),e=>md(e)===n),pd=n=>e=>typeof e===n,{isArray:Lo}=Array,_c=pd("undefined");function V1(n){return n!==null&&!_c(n)&&n.constructor!==null&&!_c(n.constructor)&&jn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const sE=fr("ArrayBuffer");function L1(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&sE(n.buffer),e}const U1=pd("string"),jn=pd("function"),iE=pd("number"),gd=n=>n!==null&&typeof n=="object",z1=n=>n===!0||n===!1,Sh=n=>{if(md(n)!=="object")return!1;const e=mg(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},B1=fr("Date"),F1=fr("File"),q1=fr("Blob"),H1=fr("FileList"),$1=n=>gd(n)&&jn(n.pipe),G1=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||jn(n.append)&&((e=md(n))==="formdata"||e==="object"&&jn(n.toString)&&n.toString()==="[object FormData]"))},K1=fr("URLSearchParams"),[Q1,Y1,X1,W1]=["ReadableStream","Request","Response","Headers"].map(fr),Z1=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ic(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,a;if(typeof n!="object"&&(n=[n]),Lo(n))for(s=0,a=n.length;s<a;s++)e.call(null,n[s],s,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),u=l.length;let m;for(s=0;s<u;s++)m=l[s],e.call(null,n[m],m,n)}}function aE(n,e){e=e.toLowerCase();const t=Object.keys(n);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oE=n=>!_c(n)&&n!==aa;function Ap(){const{caseless:n}=oE(this)&&this||{},e={},t=(s,a)=>{const l=n&&aE(e,a)||a;Sh(e[l])&&Sh(s)?e[l]=Ap(e[l],s):Sh(s)?e[l]=Ap({},s):Lo(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Ic(arguments[s],t);return e}const J1=(n,e,t,{allOwnKeys:s}={})=>(Ic(e,(a,l)=>{t&&jn(a)?n[l]=rE(a,t):n[l]=a},{allOwnKeys:s}),n),eN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),tN=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},nN=(n,e,t,s)=>{let a,l,u;const m={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)u=a[l],(!s||s(u,n,e))&&!m[u]&&(e[u]=n[u],m[u]=!0);n=t!==!1&&mg(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},rN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},sN=n=>{if(!n)return null;if(Lo(n))return n;let e=n.length;if(!iE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},iN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&mg(Uint8Array)),aN=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},oN=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},lN=fr("HTMLFormElement"),cN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),U_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),uN=fr("RegExp"),lE=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};Ic(t,(a,l)=>{let u;(u=e(a,l,n))!==!1&&(s[l]=u||a)}),Object.defineProperties(n,s)},hN=n=>{lE(n,(e,t)=>{if(jn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(jn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},dN=(n,e)=>{const t={},s=a=>{a.forEach(l=>{t[l]=!0})};return Lo(n)?s(n):s(String(n).split(e)),t},fN=()=>{},mN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,ep="abcdefghijklmnopqrstuvwxyz",z_="0123456789",cE={DIGIT:z_,ALPHA:ep,ALPHA_DIGIT:ep+ep.toUpperCase()+z_},pN=(n=16,e=cE.ALPHA_DIGIT)=>{let t="";const{length:s}=e;for(;n--;)t+=e[Math.random()*s|0];return t};function gN(n){return!!(n&&jn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const yN=n=>{const e=new Array(10),t=(s,a)=>{if(gd(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=Lo(s)?[]:{};return Ic(s,(u,m)=>{const p=t(u,a+1);!_c(p)&&(l[m]=p)}),e[a]=void 0,l}}return s};return t(n,0)},vN=fr("AsyncFunction"),_N=n=>n&&(gd(n)||jn(n))&&jn(n.then)&&jn(n.catch),uE=((n,e)=>n?setImmediate:e?((t,s)=>(aa.addEventListener("message",({source:a,data:l})=>{a===aa&&l===t&&s.length&&s.shift()()},!1),a=>{s.push(a),aa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",jn(aa.postMessage)),bN=typeof queueMicrotask<"u"?queueMicrotask.bind(aa):typeof process<"u"&&process.nextTick||uE,W={isArray:Lo,isArrayBuffer:sE,isBuffer:V1,isFormData:G1,isArrayBufferView:L1,isString:U1,isNumber:iE,isBoolean:z1,isObject:gd,isPlainObject:Sh,isReadableStream:Q1,isRequest:Y1,isResponse:X1,isHeaders:W1,isUndefined:_c,isDate:B1,isFile:F1,isBlob:q1,isRegExp:uN,isFunction:jn,isStream:$1,isURLSearchParams:K1,isTypedArray:iN,isFileList:H1,forEach:Ic,merge:Ap,extend:J1,trim:Z1,stripBOM:eN,inherits:tN,toFlatObject:nN,kindOf:md,kindOfTest:fr,endsWith:rN,toArray:sN,forEachEntry:aN,matchAll:oN,isHTMLForm:lN,hasOwnProperty:U_,hasOwnProp:U_,reduceDescriptors:lE,freezeMethods:hN,toObjectSet:dN,toCamelCase:cN,noop:fN,toFiniteNumber:mN,findKey:aE,global:aa,isContextDefined:oE,ALPHABET:cE,generateString:pN,isSpecCompliantForm:gN,toJSONObject:yN,isAsyncFn:vN,isThenable:_N,setImmediate:uE,asap:bN};function Re(n,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const hE=Re.prototype,dE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{dE[n]={value:n}});Object.defineProperties(Re,dE);Object.defineProperty(hE,"isAxiosError",{value:!0});Re.from=(n,e,t,s,a,l)=>{const u=Object.create(hE);return W.toFlatObject(n,u,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Re.call(u,n.message,e,t,s,a),u.cause=n,u.name=n.name,l&&Object.assign(u,l),u};const wN=null;function Rp(n){return W.isPlainObject(n)||W.isArray(n)}function fE(n){return W.endsWith(n,"[]")?n.slice(0,-2):n}function B_(n,e,t){return n?n.concat(e).map(function(a,l){return a=fE(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function EN(n){return W.isArray(n)&&!n.some(Rp)}const xN=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function yd(n,e,t){if(!W.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=W.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,C){return!W.isUndefined(C[V])});const s=t.metaTokens,a=t.visitor||_,l=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function y(N){if(N===null)return"";if(W.isDate(N))return N.toISOString();if(!p&&W.isBlob(N))throw new Re("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(N)||W.isTypedArray(N)?p&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function _(N,V,C){let F=N;if(N&&!C&&typeof N=="object"){if(W.endsWith(V,"{}"))V=s?V:V.slice(0,-2),N=JSON.stringify(N);else if(W.isArray(N)&&EN(N)||(W.isFileList(N)||W.endsWith(V,"[]"))&&(F=W.toArray(N)))return V=fE(V),F.forEach(function(Q,Y){!(W.isUndefined(Q)||Q===null)&&e.append(u===!0?B_([V],Y,l):u===null?V:V+"[]",y(Q))}),!1}return Rp(N)?!0:(e.append(B_(C,V,l),y(N)),!1)}const E=[],x=Object.assign(xN,{defaultVisitor:_,convertValue:y,isVisitable:Rp});function I(N,V){if(!W.isUndefined(N)){if(E.indexOf(N)!==-1)throw Error("Circular reference detected in "+V.join("."));E.push(N),W.forEach(N,function(F,G){(!(W.isUndefined(F)||F===null)&&a.call(e,F,W.isString(G)?G.trim():G,V,x))===!0&&I(F,V?V.concat(G):[G])}),E.pop()}}if(!W.isObject(n))throw new TypeError("data must be an object");return I(n),e}function F_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function pg(n,e){this._pairs=[],n&&yd(n,this,e)}const mE=pg.prototype;mE.append=function(e,t){this._pairs.push([e,t])};mE.toString=function(e){const t=e?function(s){return e.call(this,s,F_)}:F_;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function TN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pE(n,e,t){if(!e)return n;const s=t&&t.encode||TN;W.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=W.isURLSearchParams(e)?e.toString():new pg(e,t).toString(s),l){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class q_{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(s){s!==null&&e(s)})}}const gE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SN=typeof URLSearchParams<"u"?URLSearchParams:pg,AN=typeof FormData<"u"?FormData:null,RN=typeof Blob<"u"?Blob:null,NN={isBrowser:!0,classes:{URLSearchParams:SN,FormData:AN,Blob:RN},protocols:["http","https","file","blob","url","data"]},gg=typeof window<"u"&&typeof document<"u",Np=typeof navigator=="object"&&navigator||void 0,CN=gg&&(!Np||["ReactNative","NativeScript","NS"].indexOf(Np.product)<0),IN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DN=gg&&window.location.href||"http://localhost",jN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gg,hasStandardBrowserEnv:CN,hasStandardBrowserWebWorkerEnv:IN,navigator:Np,origin:DN},Symbol.toStringTag,{value:"Module"})),sn={...jN,...NN};function ON(n,e){return yd(n,new sn.classes.URLSearchParams,Object.assign({visitor:function(t,s,a,l){return sn.isNode&&W.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function kN(n){return W.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function MN(n){const e={},t=Object.keys(n);let s;const a=t.length;let l;for(s=0;s<a;s++)l=t[s],e[l]=n[l];return e}function yE(n){function e(t,s,a,l){let u=t[l++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),p=l>=t.length;return u=!u&&W.isArray(a)?a.length:u,p?(W.hasOwnProp(a,u)?a[u]=[a[u],s]:a[u]=s,!m):((!a[u]||!W.isObject(a[u]))&&(a[u]=[]),e(t,s,a[u],l)&&W.isArray(a[u])&&(a[u]=MN(a[u])),!m)}if(W.isFormData(n)&&W.isFunction(n.entries)){const t={};return W.forEachEntry(n,(s,a)=>{e(kN(s),a,t,0)}),t}return null}function PN(n,e,t){if(W.isString(n))try{return(e||JSON.parse)(n),W.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const Dc={transitional:gE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,l=W.isObject(e);if(l&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return a?JSON.stringify(yE(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ON(e,this.formSerializer).toString();if((m=W.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return yd(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),PN(e)):e}],transformResponse:[function(e){const t=this.transitional||Dc.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(s&&!this.responseType||a)){const u=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(m){if(u)throw m.name==="SyntaxError"?Re.from(m,Re.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sn.classes.FormData,Blob:sn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],n=>{Dc.headers[n]={}});const VN=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LN=n=>{const e={};let t,s,a;return n&&n.split(`
`).forEach(function(u){a=u.indexOf(":"),t=u.substring(0,a).trim().toLowerCase(),s=u.substring(a+1).trim(),!(!t||e[t]&&VN[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},H_=Symbol("internals");function nc(n){return n&&String(n).trim().toLowerCase()}function Ah(n){return n===!1||n==null?n:W.isArray(n)?n.map(Ah):String(n)}function UN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const zN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function tp(n,e,t,s,a){if(W.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!W.isString(e)){if(W.isString(s))return e.indexOf(s)!==-1;if(W.isRegExp(s))return s.test(e)}}function BN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function FN(n,e){const t=W.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(a,l,u){return this[s].call(this,e,a,l,u)},configurable:!0})})}let bn=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function l(m,p,y){const _=nc(p);if(!_)throw new Error("header name must be a non-empty string");const E=W.findKey(a,_);(!E||a[E]===void 0||y===!0||y===void 0&&a[E]!==!1)&&(a[E||p]=Ah(m))}const u=(m,p)=>W.forEach(m,(y,_)=>l(y,_,p));if(W.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(W.isString(e)&&(e=e.trim())&&!zN(e))u(LN(e),t);else if(W.isHeaders(e))for(const[m,p]of e.entries())l(p,m,s);else e!=null&&l(t,e,s);return this}get(e,t){if(e=nc(e),e){const s=W.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return UN(a);if(W.isFunction(t))return t.call(this,a,s);if(W.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nc(e),e){const s=W.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||tp(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function l(u){if(u=nc(u),u){const m=W.findKey(s,u);m&&(!t||tp(s,s[m],m,t))&&(delete s[m],a=!0)}}return W.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const l=t[s];(!e||tp(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,s={};return W.forEach(this,(a,l)=>{const u=W.findKey(s,l);if(u){t[u]=Ah(a),delete t[l];return}const m=e?BN(l):String(l).trim();m!==l&&delete t[l],t[m]=Ah(a),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return W.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&W.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[H_]=this[H_]={accessors:{}}).accessors,a=this.prototype;function l(u){const m=nc(u);s[m]||(FN(a,u),s[m]=!0)}return W.isArray(e)?e.forEach(l):l(e),this}};bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(bn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});W.freezeMethods(bn);function np(n,e){const t=this||Dc,s=e||t,a=bn.from(s.headers);let l=s.data;return W.forEach(n,function(m){l=m.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function vE(n){return!!(n&&n.__CANCEL__)}function Uo(n,e,t){Re.call(this,n??"canceled",Re.ERR_CANCELED,e,t),this.name="CanceledError"}W.inherits(Uo,Re,{__CANCEL__:!0});function _E(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Re("Request failed with status code "+t.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function qN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function HN(n,e){n=n||10;const t=new Array(n),s=new Array(n);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),_=s[l];u||(u=y),t[a]=p,s[a]=y;let E=l,x=0;for(;E!==a;)x+=t[E++],E=E%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),y-u<e)return;const I=_&&y-_;return I?Math.round(x*1e3/I):void 0}}function $N(n,e){let t=0,s=1e3/e,a,l;const u=(y,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),n.apply(null,y)};return[(...y)=>{const _=Date.now(),E=_-t;E>=s?u(y,_):(a=y,l||(l=setTimeout(()=>{l=null,u(a)},s-E)))},()=>a&&u(a)]}const Uh=(n,e,t=3)=>{let s=0;const a=HN(50,250);return $N(l=>{const u=l.loaded,m=l.lengthComputable?l.total:void 0,p=u-s,y=a(p),_=u<=m;s=u;const E={loaded:u,total:m,progress:m?u/m:void 0,bytes:p,rate:y||void 0,estimated:y&&m&&_?(m-u)/y:void 0,event:l,lengthComputable:m!=null,[e?"download":"upload"]:!0};n(E)},t)},$_=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},G_=n=>(...e)=>W.asap(()=>n(...e)),GN=sn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,sn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(sn.origin),sn.navigator&&/(msie|trident)/i.test(sn.navigator.userAgent)):()=>!0,KN=sn.hasStandardBrowserEnv?{write(n,e,t,s,a,l){const u=[n+"="+encodeURIComponent(e)];W.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),W.isString(s)&&u.push("path="+s),W.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QN(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function YN(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function bE(n,e){return n&&!QN(e)?YN(n,e):e}const K_=n=>n instanceof bn?{...n}:n;function ua(n,e){e=e||{};const t={};function s(y,_,E,x){return W.isPlainObject(y)&&W.isPlainObject(_)?W.merge.call({caseless:x},y,_):W.isPlainObject(_)?W.merge({},_):W.isArray(_)?_.slice():_}function a(y,_,E,x){if(W.isUndefined(_)){if(!W.isUndefined(y))return s(void 0,y,E,x)}else return s(y,_,E,x)}function l(y,_){if(!W.isUndefined(_))return s(void 0,_)}function u(y,_){if(W.isUndefined(_)){if(!W.isUndefined(y))return s(void 0,y)}else return s(void 0,_)}function m(y,_,E){if(E in e)return s(y,_);if(E in n)return s(void 0,y)}const p={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(y,_,E)=>a(K_(y),K_(_),E,!0)};return W.forEach(Object.keys(Object.assign({},n,e)),function(_){const E=p[_]||a,x=E(n[_],e[_],_);W.isUndefined(x)&&E!==m||(t[_]=x)}),t}const wE=n=>{const e=ua({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:m}=e;e.headers=u=bn.from(u),e.url=pE(bE(e.baseURL,e.url),n.params,n.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if(W.isFormData(t)){if(sn.hasStandardBrowserEnv||sn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[y,..._]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];u.setContentType([y||"multipart/form-data",..._].join("; "))}}if(sn.hasStandardBrowserEnv&&(s&&W.isFunction(s)&&(s=s(e)),s||s!==!1&&GN(e.url))){const y=a&&l&&KN.read(l);y&&u.set(a,y)}return e},XN=typeof XMLHttpRequest<"u",WN=XN&&function(n){return new Promise(function(t,s){const a=wE(n);let l=a.data;const u=bn.from(a.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:y}=a,_,E,x,I,N;function V(){I&&I(),N&&N(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let C=new XMLHttpRequest;C.open(a.method.toUpperCase(),a.url,!0),C.timeout=a.timeout;function F(){if(!C)return;const Q=bn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),Z={data:!m||m==="text"||m==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:Q,config:n,request:C};_E(function(D){t(D),V()},function(D){s(D),V()},Z),C=null}"onloadend"in C?C.onloadend=F:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(F)},C.onabort=function(){C&&(s(new Re("Request aborted",Re.ECONNABORTED,n,C)),C=null)},C.onerror=function(){s(new Re("Network Error",Re.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let Y=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Z=a.transitional||gE;a.timeoutErrorMessage&&(Y=a.timeoutErrorMessage),s(new Re(Y,Z.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,n,C)),C=null},l===void 0&&u.setContentType(null),"setRequestHeader"in C&&W.forEach(u.toJSON(),function(Y,Z){C.setRequestHeader(Z,Y)}),W.isUndefined(a.withCredentials)||(C.withCredentials=!!a.withCredentials),m&&m!=="json"&&(C.responseType=a.responseType),y&&([x,N]=Uh(y,!0),C.addEventListener("progress",x)),p&&C.upload&&([E,I]=Uh(p),C.upload.addEventListener("progress",E),C.upload.addEventListener("loadend",I)),(a.cancelToken||a.signal)&&(_=Q=>{C&&(s(!Q||Q.type?new Uo(null,n,C):Q),C.abort(),C=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const G=qN(a.url);if(G&&sn.protocols.indexOf(G)===-1){s(new Re("Unsupported protocol "+G+":",Re.ERR_BAD_REQUEST,n));return}C.send(l||null)})},ZN=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,a;const l=function(y){if(!a){a=!0,m();const _=y instanceof Error?y:this.reason;s.abort(_ instanceof Re?_:new Uo(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,l(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const m=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(l):y.removeEventListener("abort",l)}),n=null)};n.forEach(y=>y.addEventListener("abort",l));const{signal:p}=s;return p.unsubscribe=()=>W.asap(m),p}},JN=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,a;for(;s<t;)a=s+e,yield n.slice(s,a),s=a},eC=async function*(n,e){for await(const t of tC(n))yield*JN(t,e)},tC=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Q_=(n,e,t,s)=>{const a=eC(n,e);let l=0,u,m=p=>{u||(u=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:y,value:_}=await a.next();if(y){m(),p.close();return}let E=_.byteLength;if(t){let x=l+=E;t(x)}p.enqueue(new Uint8Array(_))}catch(y){throw m(y),y}},cancel(p){return m(p),a.return()}},{highWaterMark:2})},vd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",EE=vd&&typeof ReadableStream=="function",nC=vd&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),xE=(n,...e)=>{try{return!!n(...e)}catch{return!1}},rC=EE&&xE(()=>{let n=!1;const e=new Request(sn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Y_=64*1024,Cp=EE&&xE(()=>W.isReadableStream(new Response("").body)),zh={stream:Cp&&(n=>n.body)};vd&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zh[e]&&(zh[e]=W.isFunction(n[e])?t=>t[e]():(t,s)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,s)})})})(new Response);const sC=async n=>{if(n==null)return 0;if(W.isBlob(n))return n.size;if(W.isSpecCompliantForm(n))return(await new Request(sn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(W.isArrayBufferView(n)||W.isArrayBuffer(n))return n.byteLength;if(W.isURLSearchParams(n)&&(n=n+""),W.isString(n))return(await nC(n)).byteLength},iC=async(n,e)=>{const t=W.toFiniteNumber(n.getContentLength());return t??sC(e)},aC=vd&&(async n=>{let{url:e,method:t,data:s,signal:a,cancelToken:l,timeout:u,onDownloadProgress:m,onUploadProgress:p,responseType:y,headers:_,withCredentials:E="same-origin",fetchOptions:x}=wE(n);y=y?(y+"").toLowerCase():"text";let I=ZN([a,l&&l.toAbortSignal()],u),N;const V=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let C;try{if(p&&rC&&t!=="get"&&t!=="head"&&(C=await iC(_,s))!==0){let Z=new Request(e,{method:"POST",body:s,duplex:"half"}),ne;if(W.isFormData(s)&&(ne=Z.headers.get("content-type"))&&_.setContentType(ne),Z.body){const[D,T]=$_(C,Uh(G_(p)));s=Q_(Z.body,Y_,D,T)}}W.isString(E)||(E=E?"include":"omit");const F="credentials"in Request.prototype;N=new Request(e,{...x,signal:I,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:F?E:void 0});let G=await fetch(N);const Q=Cp&&(y==="stream"||y==="response");if(Cp&&(m||Q&&V)){const Z={};["status","statusText","headers"].forEach(A=>{Z[A]=G[A]});const ne=W.toFiniteNumber(G.headers.get("content-length")),[D,T]=m&&$_(ne,Uh(G_(m),!0))||[];G=new Response(Q_(G.body,Y_,D,()=>{T&&T(),V&&V()}),Z)}y=y||"text";let Y=await zh[W.findKey(zh,y)||"text"](G,n);return!Q&&V&&V(),await new Promise((Z,ne)=>{_E(Z,ne,{data:Y,headers:bn.from(G.headers),status:G.status,statusText:G.statusText,config:n,request:N})})}catch(F){throw V&&V(),F&&F.name==="TypeError"&&/fetch/i.test(F.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,n,N),{cause:F.cause||F}):Re.from(F,F&&F.code,n,N)}}),Ip={http:wN,xhr:WN,fetch:aC};W.forEach(Ip,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const X_=n=>`- ${n}`,oC=n=>W.isFunction(n)||n===null||n===!1,TE={getAdapter:n=>{n=W.isArray(n)?n:[n];const{length:e}=n;let t,s;const a={};for(let l=0;l<e;l++){t=n[l];let u;if(s=t,!oC(t)&&(s=Ip[(u=String(t)).toLowerCase()],s===void 0))throw new Re(`Unknown adapter '${u}'`);if(s)break;a[u||"#"+l]=s}if(!s){const l=Object.entries(a).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(X_).join(`
`):" "+X_(l[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:Ip};function rp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Uo(null,n)}function W_(n){return rp(n),n.headers=bn.from(n.headers),n.data=np.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),TE.getAdapter(n.adapter||Dc.adapter)(n).then(function(s){return rp(n),s.data=np.call(n,n.transformResponse,s),s.headers=bn.from(s.headers),s},function(s){return vE(s)||(rp(n),s&&s.response&&(s.response.data=np.call(n,n.transformResponse,s.response),s.response.headers=bn.from(s.response.headers))),Promise.reject(s)})}const SE="1.7.9",_d={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{_d[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Z_={};_d.transitional=function(e,t,s){function a(l,u){return"[Axios v"+SE+"] Transitional option '"+l+"'"+u+(s?". "+s:"")}return(l,u,m)=>{if(e===!1)throw new Re(a(u," has been removed"+(t?" in "+t:"")),Re.ERR_DEPRECATED);return t&&!Z_[u]&&(Z_[u]=!0,console.warn(a(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,u,m):!0}};_d.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function lC(n,e,t){if(typeof n!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let a=s.length;for(;a-- >0;){const l=s[a],u=e[l];if(u){const m=n[l],p=m===void 0||u(m,l,n);if(p!==!0)throw new Re("option "+l+" must be "+p,Re.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Re("Unknown option "+l,Re.ERR_BAD_OPTION)}}const Rh={assertOptions:lC,validators:_d},jr=Rh.validators;let ca=class{constructor(e){this.defaults=e,this.interceptors={request:new q_,response:new q_}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ua(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:l}=t;s!==void 0&&Rh.assertOptions(s,{silentJSONParsing:jr.transitional(jr.boolean),forcedJSONParsing:jr.transitional(jr.boolean),clarifyTimeoutError:jr.transitional(jr.boolean)},!1),a!=null&&(W.isFunction(a)?t.paramsSerializer={serialize:a}:Rh.assertOptions(a,{encode:jr.function,serialize:jr.function},!0)),Rh.assertOptions(t,{baseUrl:jr.spelling("baseURL"),withXsrfToken:jr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=l&&W.merge(l.common,l[t.method]);l&&W.forEach(["delete","get","head","post","put","patch","common"],N=>{delete l[N]}),t.headers=bn.concat(u,l);const m=[];let p=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(t)===!1||(p=p&&V.synchronous,m.unshift(V.fulfilled,V.rejected))});const y=[];this.interceptors.response.forEach(function(V){y.push(V.fulfilled,V.rejected)});let _,E=0,x;if(!p){const N=[W_.bind(this),void 0];for(N.unshift.apply(N,m),N.push.apply(N,y),x=N.length,_=Promise.resolve(t);E<x;)_=_.then(N[E++],N[E++]);return _}x=m.length;let I=t;for(E=0;E<x;){const N=m[E++],V=m[E++];try{I=N(I)}catch(C){V.call(this,C);break}}try{_=W_.call(this,I)}catch(N){return Promise.reject(N)}for(E=0,x=y.length;E<x;)_=_.then(y[E++],y[E++]);return _}getUri(e){e=ua(this.defaults,e);const t=bE(e.baseURL,e.url);return pE(t,e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){ca.prototype[e]=function(t,s){return this.request(ua(s||{},{method:e,url:t,data:(s||{}).data}))}});W.forEach(["post","put","patch"],function(e){function t(s){return function(l,u,m){return this.request(ua(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}ca.prototype[e]=t(),ca.prototype[e+"Form"]=t(!0)});let cC=class AE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(m=>{s.subscribe(m),l=m}).then(a);return u.cancel=function(){s.unsubscribe(l)},u},e(function(l,u,m){s.reason||(s.reason=new Uo(l,u,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new AE(function(a){e=a}),cancel:e}}};function uC(n){return function(t){return n.apply(null,t)}}function hC(n){return W.isObject(n)&&n.isAxiosError===!0}const Dp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dp).forEach(([n,e])=>{Dp[e]=n});function RE(n){const e=new ca(n),t=rE(ca.prototype.request,e);return W.extend(t,ca.prototype,e,{allOwnKeys:!0}),W.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return RE(ua(n,a))},t}const Ae=RE(Dc);Ae.Axios=ca;Ae.CanceledError=Uo;Ae.CancelToken=cC;Ae.isCancel=vE;Ae.VERSION=SE;Ae.toFormData=yd;Ae.AxiosError=Re;Ae.Cancel=Ae.CanceledError;Ae.all=function(e){return Promise.all(e)};Ae.spread=uC;Ae.isAxiosError=hC;Ae.mergeConfig=ua;Ae.AxiosHeaders=bn;Ae.formToJSON=n=>yE(W.isHTMLForm(n)?new FormData(n):n);Ae.getAdapter=TE.getAdapter;Ae.HttpStatusCode=Dp;Ae.default=Ae;const{Axios:SP,AxiosError:AP,CanceledError:RP,isCancel:NP,CancelToken:CP,VERSION:IP,all:DP,Cancel:jP,isAxiosError:OP,spread:kP,toFormData:MP,AxiosHeaders:PP,HttpStatusCode:VP,formToJSON:LP,getAdapter:UP,mergeConfig:zP}=Ae;function zo({id:n,title:e,poster:t,rating:s}){const a=Ft(),[l,u]=O.useState(!1),m=()=>{a(`/movie/${n}`)},p=E=>{E.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"},y=Number(s).toFixed(1),_=()=>s>=8?"bg-green-600":s>=6?"bg-yellow-600":"bg-red-600";return f.jsxs("div",{className:"relative overflow-hidden bg-gray-900 rounded-lg shadow-lg transition-all duration-300 hover:shadow-2xl",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:m,children:[f.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-end p-4 transform transition-opacity duration-300 z-10 ${l?"opacity-100":"opacity-0"}`,children:f.jsxs("div",{className:"text-white",children:[f.jsx("h3",{className:"text-xl font-bold mb-1",children:e}),f.jsx("button",{className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md w-full transition-colors",children:"Ver detalles"})]})}),f.jsx("div",{className:`absolute top-2 right-2 ${_()} text-white text-sm font-bold rounded-full h-9 w-9 flex items-center justify-center z-20 shadow-md`,children:y}),f.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[f.jsx("img",{src:t,alt:e,className:`w-full h-full object-cover transition-transform duration-300 ${l?"scale-110":"scale-100"}`,onError:p}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-70"})]}),f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"text-white font-semibold text-lg truncate",children:e}),f.jsxs("div",{className:"flex items-center text-yellow-400",children:[f.jsx("span",{className:"mr-1",children:""}),f.jsx("span",{className:"text-sm text-gray-300",children:y})]})]})]})}var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},dC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],m=n[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,m=u?n[a+1]:0,p=a+2<n.length,y=p?n[a+2]:0,_=l>>2,E=(l&3)<<4|m>>4;let x=(m&15)<<2|y>>6,I=y&63;p||(I=64,u||(x=64)),s.push(t[_],t[E],t[x],t[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const y=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||m==null||y==null||E==null)throw new fC;const x=l<<2|m>>4;if(s.push(x),y!==64){const I=m<<4&240|y>>2;if(s.push(I),E!==64){const N=y<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mC=function(n){const e=NE(n);return CE.encodeByteArray(e,!0)},Bh=function(n){return mC(n).replace(/\./g,"")},IE=function(n){try{return CE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>pC().__FIREBASE_DEFAULTS__,yC=()=>{if(typeof process>"u"||typeof J_>"u")return;const n=J_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IE(n[1]);return e&&JSON.parse(e)},bd=()=>{try{return gC()||yC()||vC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DE=n=>{var e,t;return(t=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_C=n=>{const e=DE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},jE=()=>{var n;return(n=bd())===null||n===void 0?void 0:n.config},OE=n=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bh(JSON.stringify(t)),Bh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function xC(){var n;const e=(n=bd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AC(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RC(){return!xC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ME(){try{return typeof indexedDB=="object"}catch{return!1}}function PE(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function NC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="FirebaseError";class mr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=CC,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?IC(l,s):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new mr(a,m,s)}}function IC(n,e){return n.replace(DC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const DC=/\{\$([^}]+)}/g;function jC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ha(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(eb(l)&&eb(u)){if(!ha(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function eb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ic(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ac(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function OC(n,e){const t=new kC(n,e);return t.subscribe.bind(t)}class kC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");MC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=sp),a.error===void 0&&(a.error=sp),a.complete===void 0&&(a.complete=sp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1e3,VC=2,LC=4*60*60*1e3,UC=.5;function tb(n,e=PC,t=VC){const s=e*Math.pow(t,n),a=Math.round(UC*s*(Math.random()-.5)*2);return Math.min(LC,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class lr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new bC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FC(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&u.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BC(n){return n===ia?void 0:n}function FC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const HC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},$C=ke.INFO,GC={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},KC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=GC[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wd{constructor(e){this.name=e,this._logLevel=$C,this._logHandler=KC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const QC=(n,e)=>e.some(t=>n instanceof t);let nb,rb;function YC(){return nb||(nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XC(){return rb||(rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,jp=new WeakMap,LE=new WeakMap,ip=new WeakMap,yg=new WeakMap;function WC(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(di(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&VE.set(t,n)}).catch(()=>{}),yg.set(e,n),e}function ZC(n){if(jp.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});jp.set(n,e)}let Op={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return di(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JC(n){Op=n(Op)}function e2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(ap(this),e,...t);return LE.set(s,e.sort?e.sort():[e]),di(s)}:XC().includes(n)?function(...e){return n.apply(ap(this),e),di(VE.get(this))}:function(...e){return di(n.apply(ap(this),e))}}function t2(n){return typeof n=="function"?e2(n):(n instanceof IDBTransaction&&ZC(n),QC(n,YC())?new Proxy(n,Op):n)}function di(n){if(n instanceof IDBRequest)return WC(n);if(ip.has(n))return ip.get(n);const e=t2(n);return e!==n&&(ip.set(n,e),yg.set(e,n)),e}const ap=n=>yg.get(n);function UE(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),m=di(u);return s&&u.addEventListener("upgradeneeded",p=>{s(di(u.result),p.oldVersion,p.newVersion,di(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const n2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],op=new Map;function sb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=r2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||n2.includes(t)))return;const l=async function(u,...m){const p=this.transaction(u,a?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),a&&p.done]))[0]};return op.set(e,l),l}JC(n=>({...n,get:(e,t,s)=>sb(e,t)||n.get(e,t,s),has:(e,t)=>!!sb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(i2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function i2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kp="@firebase/app",ib="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new wd("@firebase/app"),a2="@firebase/app-compat",o2="@firebase/analytics-compat",l2="@firebase/analytics",c2="@firebase/app-check-compat",u2="@firebase/app-check",h2="@firebase/auth",d2="@firebase/auth-compat",f2="@firebase/database",m2="@firebase/data-connect",p2="@firebase/database-compat",g2="@firebase/functions",y2="@firebase/functions-compat",v2="@firebase/installations",_2="@firebase/installations-compat",b2="@firebase/messaging",w2="@firebase/messaging-compat",E2="@firebase/performance",x2="@firebase/performance-compat",T2="@firebase/remote-config",S2="@firebase/remote-config-compat",A2="@firebase/storage",R2="@firebase/storage-compat",N2="@firebase/firestore",C2="@firebase/vertexai",I2="@firebase/firestore-compat",D2="firebase",j2="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",O2={[kp]:"fire-core",[a2]:"fire-core-compat",[l2]:"fire-analytics",[o2]:"fire-analytics-compat",[u2]:"fire-app-check",[c2]:"fire-app-check-compat",[h2]:"fire-auth",[d2]:"fire-auth-compat",[f2]:"fire-rtdb",[m2]:"fire-data-connect",[p2]:"fire-rtdb-compat",[g2]:"fire-fn",[y2]:"fire-fn-compat",[v2]:"fire-iid",[_2]:"fire-iid-compat",[b2]:"fire-fcm",[w2]:"fire-fcm-compat",[E2]:"fire-perf",[x2]:"fire-perf-compat",[T2]:"fire-rc",[S2]:"fire-rc-compat",[A2]:"fire-gcs",[R2]:"fire-gcs-compat",[N2]:"fire-fst",[I2]:"fire-fst-compat",[C2]:"fire-vertex","fire-js":"fire-js",[D2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Map,k2=new Map,Pp=new Map;function ab(n,e){try{n.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lr(n){const e=n.name;if(Pp.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,n);for(const t of Fh.values())ab(t,n);for(const t of k2.values())ab(t,n);return!0}function wa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new ba("app","Firebase",M2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=j2;function zE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw fi.create("bad-app-name",{appName:String(a)});if(t||(t=jE()),!t)throw fi.create("no-options");const l=Fh.get(a);if(l){if(ha(t,l.options)&&ha(s,l.config))return l;throw fi.create("duplicate-app",{appName:a})}const u=new qC(a);for(const p of Pp.values())u.addComponent(p);const m=new P2(t,s,u);return Fh.set(a,m),m}function vg(n=Mp){const e=Fh.get(n);if(!e&&n===Mp&&jE())return zE();if(!e)throw fi.create("no-app",{appName:n});return e}function er(n,e,t){var s;let a=(s=O2[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const m=[`Unable to register library "${a}" with version "${e}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(m.join(" "));return}Lr(new lr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firebase-heartbeat-database",L2=1,bc="firebase-heartbeat-store";let lp=null;function BE(){return lp||(lp=UE(V2,L2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw fi.create("idb-open",{originalErrorMessage:n.message})})),lp}async function U2(n){try{const t=(await BE()).transaction(bc),s=await t.objectStore(bc).get(FE(n));return await t.done,s}catch(e){if(e instanceof mr)_s.warn(e.message);else{const t=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(t.message)}}}async function ob(n,e){try{const s=(await BE()).transaction(bc,"readwrite");await s.objectStore(bc).put(e,FE(n)),await s.done}catch(t){if(t instanceof mr)_s.warn(t.message);else{const s=fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_s.warn(s.message)}}}function FE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=1024,B2=30;class F2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=lb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>B2){const u=$2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_s.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lb(),{heartbeatsToSend:s,unsentEntries:a}=q2(this._heartbeatsCache.heartbeats),l=Bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return _s.warn(t),""}}}function lb(){return new Date().toISOString().substring(0,10)}function q2(n,e=z2){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),cb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),cb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class H2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ME()?PE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await U2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return ob(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return ob(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function cb(n){return Bh(JSON.stringify({version:2,heartbeats:n})).length}function $2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){Lr(new lr("platform-logger",e=>new s2(e),"PRIVATE")),Lr(new lr("heartbeat",e=>new F2(e),"PRIVATE")),er(kp,ib,n),er(kp,ib,"esm2017"),er("fire-js","")}G2("");function _g(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K2=qE,HE=new ba("auth","Firebase",qE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new wd("@firebase/auth");function Q2(n,...e){qh.logLevel<=ke.WARN&&qh.warn(`Auth (${Bo}): ${n}`,...e)}function Nh(n,...e){qh.logLevel<=ke.ERROR&&qh.error(`Auth (${Bo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,...e){throw bg(n,...e)}function kr(n,...e){return bg(n,...e)}function $E(n,e,t){const s=Object.assign(Object.assign({},K2()),{[e]:t});return new ba("auth","Firebase",s).create(e,{appName:n.name})}function vs(n){return $E(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return HE.create(n,...e)}function xe(n,e,...t){if(!n)throw bg(e,...t)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nh(e),new Error(e)}function bs(n,e){n||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Y2(){return ub()==="http:"||ub()==="https:"}function ub(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||kE()||"connection"in navigator)?navigator.onLine:!0}function W2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,bs(t>e,"Short delay should be less than long delay!"),this.isMobile=EC()||SC()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(n,e){bs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Oc(3e4,6e4);function xi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ti(n,e,t,s,a={}){return KE(n,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const m=jc(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return TC()||(y.referrerPolicy="no-referrer"),GE.fetch()(QE(n,n.config.apiHost,t,m),y)})}async function KE(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},Z2),e);try{const a=new tI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ph(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw ph(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw ph(n,"user-disabled",u);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $E(n,_,y);cr(n,_)}}catch(a){if(a instanceof mr)throw a;cr(n,"network-request-failed",{message:String(a)})}}async function kc(n,e,t,s,a={}){const l=await Ti(n,e,t,s,a);return"mfaPendingCredential"in l&&cr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function QE(n,e,t,s){const a=`${e}${t}?${s}`;return n.config.emulator?wg(n.config,a):`${n.config.apiScheme}://${a}`}function eI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(kr(this.auth,"network-request-failed")),J2.get())})}}function ph(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=kr(n,e,s);return a.customData._tokenResponse=t,a}function hb(n){return n!==void 0&&n.enterprise!==void 0}class nI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rI(n,e){return Ti(n,"GET","/v2/recaptchaConfig",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(n,e){return Ti(n,"POST","/v1/accounts:delete",e)}async function YE(n,e){return Ti(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iI(n,e=!1){const t=at(n),s=await t.getIdToken(e),a=Eg(s);xe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:hc(cp(a.auth_time)),issuedAtTime:hc(cp(a.iat)),expirationTime:hc(cp(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function cp(n){return Number(n)*1e3}function Eg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const a=IE(t);return a?JSON.parse(a):(Nh("Failed to decode base64 JWT payload"),null)}catch(a){return Nh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function db(n){const e=Eg(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof mr&&aI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function aI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(n){var e;const t=n.auth,s=await n.getIdToken(),a=await wc(n,YE(t,{idToken:s}));xe(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?XE(l.providerUserInfo):[],m=cI(n.providerData,u),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(m!=null&&m.length),_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Lp(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function lI(n){const e=at(n);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cI(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function XE(n){return n.map(e=>{var{providerId:t}=e,s=_g(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,e){const t=await KE(n,{},async()=>{const s=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=QE(n,a,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",GE.fetch()(u,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hI(n,e){return Ti(n,"POST","/v2/accounts:revokeToken",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=db(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await uI(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new To;return s&&(xe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(xe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=_g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Lp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await wc(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iI(this,e)}reload(){return lI(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await wc(this,sI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,u,m,p,y,_;const E=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(a=t.email)!==null&&a!==void 0?a:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(m=t.tenantId)!==null&&m!==void 0?m:void 0,C=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,F=(y=t.createdAt)!==null&&y!==void 0?y:void 0,G=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:Y,isAnonymous:Z,providerData:ne,stsTokenManager:D}=t;xe(Q&&D,e,"internal-error");const T=To.fromJSON(this.name,D);xe(typeof Q=="string",e,"internal-error"),ai(E,e.name),ai(x,e.name),xe(typeof Y=="boolean",e,"internal-error"),xe(typeof Z=="boolean",e,"internal-error"),ai(I,e.name),ai(N,e.name),ai(V,e.name),ai(C,e.name),ai(F,e.name),ai(G,e.name);const A=new ps({uid:Q,auth:e,email:x,emailVerified:Y,displayName:E,isAnonymous:Z,photoURL:N,phoneNumber:I,tenantId:V,stsTokenManager:T,createdAt:F,lastLoginAt:G});return ne&&Array.isArray(ne)&&(A.providerData=ne.map(j=>Object.assign({},j))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,t,s=!1){const a=new To;a.updateFromServerResponse(t);const l=new ps({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Hh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?XE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),m=new To;m.updateFromIdToken(s);const p=new ps({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;function gs(n){bs(n instanceof Function,"Expected a class definition");let e=fb.get(n);return e?(bs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WE.type="NONE";const mb=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n,e,t){return`firebase:${n}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Ch(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ch("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(gs(mb),e,s);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||gs(mb);const u=Ch(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const _=await y._get(u);if(_){const E=ps._fromJSON(e,_);y!==l&&(m=E),l=y;break}}catch{}const p=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new So(l,e,s):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new So(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rx(e))return"Blackberry";if(sx(e))return"Webos";if(JE(e))return"Safari";if((e.includes("chrome/")||ex(e))&&!e.includes("edge/"))return"Chrome";if(nx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ZE(n=an()){return/firefox\//i.test(n)}function JE(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ex(n=an()){return/crios\//i.test(n)}function tx(n=an()){return/iemobile/i.test(n)}function nx(n=an()){return/android/i.test(n)}function rx(n=an()){return/blackberry/i.test(n)}function sx(n=an()){return/webos/i.test(n)}function xg(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dI(n=an()){var e;return xg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fI(){return AC()&&document.documentMode===10}function ix(n=an()){return xg(n)||nx(n)||sx(n)||rx(n)||/windows phone/i.test(n)||tx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(n,e=[]){let t;switch(n){case"Browser":t=pb(an());break;case"Worker":t=`${pb(an())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(n,e={}){return Ti(n,"GET","/v2/passwordPolicy",xi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=6;class yI{constructor(e){var t,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:gI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,u,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gb(this),this.idTokenSubscription=new gb(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await YE(this,{idToken:e}),s=await ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(vs(this));const t=e?at(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pI(this),t=new yI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await hI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ax(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Q2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ea(n){return at(n)}class gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=OC(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(n){Ed=n}function ox(n){return Ed.loadJS(n)}function bI(){return Ed.recaptchaEnterpriseScript}function wI(){return Ed.gapiScript}function EI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class xI{constructor(){this.enterprise=new TI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SI="recaptcha-enterprise",lx="NO_RECAPTCHA";class AI{constructor(e){this.type=SI,this.auth=Ea(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{rI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new nI(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(p=>{m(p)})})}function a(l,u,m){const p=window.grecaptcha;hb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(lx)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(m=>{if(!t&&hb(window.grecaptcha))a(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bI();p.length!==0&&(p+=m),ox(p).then(()=>{a(m,l,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function yb(n,e,t,s=!1,a=!1){const l=new AI(n);let u;if(a)u=lx;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Up(n,e,t,s,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await yb(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await yb(n,e,t,t==="getOobCode");return s(n,m)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n,e){const t=wa(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ha(l,e??{}))return a;cr(a,"already-initialized")}return t.initialize({options:e})}function NI(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(gs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function CI(n,e,t){const s=Ea(n);xe(s._canInitEmulator,s,"emulator-config-failed"),xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=cx(e),{host:u,port:m}=II(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${u}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),DI()}function cx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function II(n){const e=cx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:vb(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:vb(u)}}}function vb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function jI(n,e){return Ti(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e){return kc(n,"POST","/v1/accounts:signInWithPassword",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(n,e){return kc(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))}async function MI(n,e){return kc(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Tg{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ec(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ec(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,t,"signInWithPassword",OI);case"emailLink":return kI(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,s,"signUpPassword",jI);case"emailLink":return MI(e,{idToken:t,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(n,e){return kc(n,"POST","/v1/accounts:signInWithIdp",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="http://localhost";class da extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=_g(t,["providerId","signInMethod"]);if(!s||!a)return null;const u=new da(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:PI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LI(n){const e=ic(ac(n)).link,t=e?ic(ac(e)).deep_link_id:null,s=ic(ac(n)).deep_link_id;return(s?ic(ac(s)).link:null)||s||t||e||n}class Sg{constructor(e){var t,s,a,l,u,m;const p=ic(ac(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,E=VI((a=p.mode)!==null&&a!==void 0?a:null);xe(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=LI(e);try{return new Sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,t){return Ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Sg.parseLink(t);return xe(s,"argument-error"),Ec._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends ux{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Mc{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return li.credential(t,s)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Mc{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Mc{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ui.credential(t,s)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(n,e){return kc(n,"POST","/v1/accounts:signUp",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await ps._fromIdTokenResponse(e,s,a),u=_b(s);return new fa({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=_b(s);return new fa({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function _b(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends mr{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new $h(e,t,s,a)}}function hx(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(n,l,e,s):l})}async function zI(n,e,t=!1){const s=await wc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fa._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(n,e,t=!1){const{auth:s}=n;if(Jn(s.app))return Promise.reject(vs(s));const a="reauthenticate";try{const l=await wc(n,hx(s,a,e,n),t);xe(l.idToken,s,"internal-error");const u=Eg(l.idToken);xe(u,s,"internal-error");const{sub:m}=u;return xe(n.uid===m,s,"user-mismatch"),fa._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&cr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,e,t=!1){if(Jn(n.app))return Promise.reject(vs(n));const s="signIn",a=await hx(n,s,e),l=await fa._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function FI(n,e){return dx(Ea(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(n){const e=Ea(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qI(n,e,t){if(Jn(n.app))return Promise.reject(vs(n));const s=Ea(n),u=await Up(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fx(n),p}),m=await fa._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(m.user),m}function HI(n,e,t){return Jn(n.app)?Promise.reject(vs(n)):FI(at(n),Fo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fx(n),s})}function $I(n,e,t,s){return at(n).onIdTokenChanged(e,t,s)}function GI(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function KI(n,e,t,s){return at(n).onAuthStateChanged(e,t,s)}function QI(n){return at(n).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1e3,XI=10;class px extends mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ix(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);fI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,XI):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}px.type="LOCAL";const WI=px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gx.type="SESSION";const yx=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new xd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(u).map(async y=>y(t.origin,l)),p=await ZI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const y=Ag("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(E){const x=E;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(x.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function eD(n){Mr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function tD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rD(){return vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebaseLocalStorageDb",sD=1,Kh="firebaseLocalStorage",bx="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(n,e){return n.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function iD(){const n=indexedDB.deleteDatabase(_x);return new Pc(n).toPromise()}function zp(){const n=indexedDB.open(_x,sD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Kh,{keyPath:bx})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await iD(),e(await zp()))})})}async function bb(n,e,t){const s=Td(n,!0).put({[bx]:e,value:t});return new Pc(s).toPromise()}async function aD(n,e){const t=Td(n,!1).get(e),s=await new Pc(t).toPromise();return s===void 0?null:s.value}function wb(n,e){const t=Td(n,!0).delete(e);return new Pc(t).toPromise()}const oD=800,lD=3;class wx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>lD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(rD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tD(),!this.activeServiceWorker)return;this.sender=new JI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await bb(e,Gh,"1"),await wb(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>bb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>aD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Td(a,!1).getAll();return new Pc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wx.type="LOCAL";const cD=wx;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n,e){return e?gs(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hD(n){return dx(n.auth,new Rg(n),n.bypassAuthState)}function dD(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),BI(t,new Rg(n),n.bypassAuthState)}async function fD(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),zI(t,new Rg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hD;case"linkViaPopup":case"linkViaRedirect":return fD;case"reauthViaPopup":case"reauthViaRedirect":return dD;default:cr(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new Oc(2e3,1e4);class Eo extends Ex{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mD.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="pendingRedirect",Ih=new Map;class gD extends Ex{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const s=await yD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yD(n,e){const t=bD(e),s=_D(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function vD(n,e){Ih.set(n._key(),e)}function _D(n){return gs(n._redirectPersistence)}function bD(n){return Ch(pD,n.config.apiKey,n.name)}async function wD(n,e,t=!1){if(Jn(n.app))return Promise.reject(vs(n));const s=Ea(n),a=uD(s,e),u=await new gD(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=10*60*1e3;class xD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!xx(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ED&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eb(e))}saveEventToCache(e){this.cachedEventUids.add(Eb(e)),this.lastProcessedEventTime=Date.now()}}function Eb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(n,e={}){return Ti(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RD=/^https?/;async function ND(n){if(n.config.emulator)return;const{authorizedDomains:e}=await SD(n);for(const t of e)try{if(CD(t))return}catch{}cr(n,"unauthorized-domain")}function CD(n){const e=Vp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!RD.test(t))return!1;if(AD.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new Oc(3e4,6e4);function xb(){const n=Mr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DD(n){return new Promise((e,t)=>{var s,a,l;function u(){xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xb(),t(kr(n,"network-request-failed"))},timeout:ID.get()})}if(!((a=(s=Mr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Mr().gapi)===null||l===void 0)&&l.load)u();else{const m=EI("iframefcb");return Mr()[m]=()=>{gapi.load?u():t(kr(n,"network-request-failed"))},ox(`${wI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function jD(n){return Dh=Dh||DD(n),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Oc(5e3,15e3),kD="__/auth/iframe",MD="emulator/auth/iframe",PD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LD(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wg(e,MD):`https://${n.config.authDomain}/${kD}`,s={apiKey:e.apiKey,appName:n.name,v:Bo},a=VD.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${jc(s).slice(1)}`}async function UD(n){const e=await jD(n),t=Mr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:LD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=kr(n,"network-request-failed"),m=Mr().setTimeout(()=>{l(u)},OD.get());function p(){Mr().clearTimeout(m),a(s)}s.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BD=500,FD=600,qD="_blank",HD="http://localhost";class Tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $D(n,e,t,s=BD,a=FD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},zD),{width:s.toString(),height:a.toString(),top:l,left:u}),y=an().toLowerCase();t&&(m=ex(y)?qD:t),ZE(y)&&(e=e||HD,p.scrollbars="yes");const _=Object.entries(p).reduce((x,[I,N])=>`${x}${I}=${N},`,"");if(dI(y)&&m!=="_self")return GD(e||"",m),new Tb(null);const E=window.open(e||"",m,_);xe(E,n,"popup-blocked");try{E.focus()}catch{}return new Tb(E)}function GD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="__/auth/handler",QD="emulator/auth/handler",YD=encodeURIComponent("fac");async function Sb(n,e,t,s,a,l){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Bo,eventId:a};if(e instanceof ux){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",jC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Mc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const m=u;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await n._getAppCheckToken(),y=p?`#${YD}=${encodeURIComponent(p)}`:"";return`${XD(n)}?${jc(m).slice(1)}${y}`}function XD({config:n}){return n.emulator?wg(n,QD):`https://${n.authDomain}/${KD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="webStorageSupport";class WD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yx,this._completeRedirectFn=wD,this._overrideRedirectResult=vD}async _openPopup(e,t,s,a){var l;bs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Sb(e,t,s,Vp(),a);return $D(e,u,Ag())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await Sb(e,t,s,Vp(),a);return eD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(bs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await UD(e),s=new xD(e);return t.register("authEvent",a=>(xe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(up,{type:up},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[up];u!==void 0&&t(!!u),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ND(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ix()||JE()||xg()}}const ZD=WD;var Ab="@firebase/auth",Rb="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tj(n){Lr(new lr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ax(n)},y=new vI(s,a,l,p);return NI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Lr(new lr("auth-internal",e=>{const t=Ea(e.getProvider("auth").getImmediate());return(s=>new JD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(Ab,Rb,ej(n)),er(Ab,Rb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=5*60,rj=OE("authIdTokenMaxAge")||nj;let Nb=null;const sj=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>rj)return;const a=t==null?void 0:t.token;Nb!==a&&(Nb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ij(n=vg()){const e=wa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RI(n,{popupRedirectResolver:ZD,persistence:[cD,WI,yx]}),s=OE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=sj(l.toString());GI(t,u,()=>u(t.currentUser)),$I(t,m=>u(m))}}const a=DE("auth");return a&&CI(t,`http://${a}`),t}function aj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_I({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=kr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",aj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tj("Browser");var oj="firebase",lj="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(oj,lj,"app");const Tx="@firebase/installations",Ng="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=1e4,Ax=`w:${Ng}`,Rx="FIS_v2",cj="https://firebaseinstallations.googleapis.com/v1",uj=60*60*1e3,hj="installations",dj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new ba(hj,dj,fj);function Nx(n){return n instanceof mr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx({projectId:n}){return`${cj}/projects/${n}/installations`}function Ix(n){return{token:n.token,requestStatus:2,expiresIn:pj(n.expiresIn),creationTime:Date.now()}}async function Dx(n,e){const s=(await e.json()).error;return ma.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function jx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function mj(n,{refreshToken:e}){const t=jx(n);return t.append("Authorization",gj(e)),t}async function Ox(n){const e=await n();return e.status>=500&&e.status<600?n():e}function pj(n){return Number(n.replace("s","000"))}function gj(n){return`${Rx} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=Cx(n),a=jx(n),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&a.append("x-firebase-client",y)}const u={fid:t,authVersion:Rx,appId:n.appId,sdkVersion:Ax},m={method:"POST",headers:a,body:JSON.stringify(u)},p=await Ox(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Ix(y.authToken)}}else throw await Dx("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=/^[cdef][\w-]{21}$/,Bp="";function bj(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=wj(n);return _j.test(t)?t:Bp}catch{return Bp}}function wj(n){return vj(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;function Px(n,e){const t=Sd(n);Vx(t,e),Ej(t,e)}function Vx(n,e){const t=Mx.get(n);if(t)for(const s of t)s(e)}function Ej(n,e){const t=xj();t&&t.postMessage({key:n,fid:e}),Tj()}let oa=null;function xj(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=n=>{Vx(n.data.key,n.data.fid)}),oa}function Tj(){Mx.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="firebase-installations-database",Aj=1,pa="firebase-installations-store";let hp=null;function Cg(){return hp||(hp=UE(Sj,Aj,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(pa)}}})),hp}async function Qh(n,e){const t=Sd(n),a=(await Cg()).transaction(pa,"readwrite"),l=a.objectStore(pa),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&Px(n,e.fid),e}async function Lx(n){const e=Sd(n),s=(await Cg()).transaction(pa,"readwrite");await s.objectStore(pa).delete(e),await s.done}async function Ad(n,e){const t=Sd(n),a=(await Cg()).transaction(pa,"readwrite"),l=a.objectStore(pa),u=await l.get(t),m=e(u);return m===void 0?await l.delete(t):await l.put(m,t),await a.done,m&&(!u||u.fid!==m.fid)&&Px(n,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(n){let e;const t=await Ad(n.appConfig,s=>{const a=Rj(s),l=Nj(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Bp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Rj(n){const e=n||{fid:bj(),registrationStatus:0};return Ux(e)}function Nj(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ma.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Cj(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ij(n)}:{installationEntry:e}}async function Cj(n,e){try{const t=await yj(n,e);return Qh(n.appConfig,t)}catch(t){throw Nx(t)&&t.customData.serverCode===409?await Lx(n.appConfig):await Qh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Ij(n){let e=await Cb(n.appConfig);for(;e.registrationStatus===1;)await kx(100),e=await Cb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Ig(n);return s||t}return e}function Cb(n){return Ad(n,e=>{if(!e)throw ma.create("installation-not-found");return Ux(e)})}function Ux(n){return Dj(n)?{fid:n.fid,registrationStatus:0}:n}function Dj(n){return n.registrationStatus===1&&n.registrationTime+Sx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj({appConfig:n,heartbeatServiceProvider:e},t){const s=Oj(n,t),a=mj(n,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&a.append("x-firebase-client",y)}const u={installation:{sdkVersion:Ax,appId:n.appId}},m={method:"POST",headers:a,body:JSON.stringify(u)},p=await Ox(()=>fetch(s,m));if(p.ok){const y=await p.json();return Ix(y)}else throw await Dx("Generate Auth Token",p)}function Oj(n,{fid:e}){return`${Cx(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(n,e=!1){let t;const s=await Ad(n.appConfig,l=>{if(!zx(l))throw ma.create("not-registered");const u=l.authToken;if(!e&&Pj(u))return l;if(u.requestStatus===1)return t=kj(n,e),l;{if(!navigator.onLine)throw ma.create("app-offline");const m=Lj(l);return t=Mj(n,m),m}});return t?await t:s.authToken}async function kj(n,e){let t=await Ib(n.appConfig);for(;t.authToken.requestStatus===1;)await kx(100),t=await Ib(n.appConfig);const s=t.authToken;return s.requestStatus===0?Dg(n,e):s}function Ib(n){return Ad(n,e=>{if(!zx(e))throw ma.create("not-registered");const t=e.authToken;return Uj(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Mj(n,e){try{const t=await jj(n,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Qh(n.appConfig,s),t}catch(t){if(Nx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Lx(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qh(n.appConfig,s)}throw t}}function zx(n){return n!==void 0&&n.registrationStatus===2}function Pj(n){return n.requestStatus===2&&!Vj(n)}function Vj(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+uj}function Lj(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Uj(n){return n.requestStatus===1&&n.requestTime+Sx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(n){const e=n,{installationEntry:t,registrationPromise:s}=await Ig(e);return s?s.catch(console.error):Dg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(n,e=!1){const t=n;return await Fj(t),(await Dg(t,e)).token}async function Fj(n){const{registrationPromise:e}=await Ig(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(n){if(!n||!n.options)throw dp("App Configuration");if(!n.name)throw dp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw dp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function dp(n){return ma.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="installations",Hj="installations-internal",$j=n=>{const e=n.getProvider("app").getImmediate(),t=qj(e),s=wa(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Gj=n=>{const e=n.getProvider("app").getImmediate(),t=wa(e,Bx).getImmediate();return{getId:()=>zj(t),getToken:a=>Bj(t,a)}};function Kj(){Lr(new lr(Bx,$j,"PUBLIC")),Lr(new lr(Hj,Gj,"PRIVATE"))}Kj();er(Tx,Ng);er(Tx,Ng,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="analytics",Qj="firebase_id",Yj="origin",Xj=60*1e3,Wj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new wd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new ba("analytics","Analytics",Zj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(n){if(!n.startsWith(jg)){const e=On.create("invalid-gtag-resource",{gtagURL:n});return wn.warn(e.message),""}return n}function Fx(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eO(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tO(n,e){const t=eO("firebase-js-sdk-policy",{createScriptURL:Jj}),s=document.createElement("script"),a=`${jg}?l=${n}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function nO(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rO(n,e,t,s,a,l){const u=s[a];try{if(u)await e[u];else{const p=(await Fx(t)).find(y=>y.measurementId===a);p&&await e[p.appId]}}catch(m){wn.error(m)}n("config",a,l)}async function sO(n,e,t,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const m=await Fx(t);for(const p of u){const y=m.find(E=>E.measurementId===p),_=y&&e[y.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,a||{})}catch(l){wn.error(l)}}function iO(n,e,t,s){async function a(l,...u){try{if(l==="event"){const[m,p]=u;await sO(n,e,t,m,p)}else if(l==="config"){const[m,p]=u;await rO(n,e,t,s,m,p)}else if(l==="consent"){const[m,p]=u;n("consent",m,p)}else if(l==="get"){const[m,p,y]=u;n("get",m,p,y)}else if(l==="set"){const[m]=u;n("set",m)}else n(l,...u)}catch(m){wn.error(m)}}return a}function aO(n,e,t,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=iO(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function oO(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(jg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=30,cO=1e3;class uO{constructor(e={},t=cO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qx=new uO;function hO(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function dO(n){var e;const{appId:t,apiKey:s}=n,a={method:"GET",headers:hO(s)},l=Wj.replace("{app-id}",t),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let m="";try{const p=await u.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function fO(n,e=qx,t){const{appId:s,apiKey:a,measurementId:l}=n.options;if(!s)throw On.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw On.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new gO;return setTimeout(async()=>{m.abort()},Xj),Hx({appId:s,apiKey:a,measurementId:l},u,m,e)}async function Hx(n,{throttleEndTimeMillis:e,backoffCount:t},s,a=qx){var l;const{appId:u,measurementId:m}=n;try{await mO(s,e)}catch(p){if(m)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:m};throw p}try{const p=await dO(n);return a.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!pO(y)){if(a.deleteThrottleMetadata(u),m)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:m};throw p}const _=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?tb(t,a.intervalMillis,lO):tb(t,a.intervalMillis),E={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return a.setThrottleMetadata(u,E),wn.debug(`Calling attemptFetch again in ${_} millis`),Hx(n,E,s,a)}}function mO(n,e){return new Promise((t,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),s(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pO(n){if(!(n instanceof mr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yO(n,e,t,s,a){if(a&&a.global){n("event",t,s);return}else{const l=await e,u=Object.assign(Object.assign({},s),{send_to:l});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(){if(ME())try{await PE()}catch(n){return wn.warn(On.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return wn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _O(n,e,t,s,a,l,u){var m;const p=fO(n);p.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>wn.error(I)),e.push(p);const y=vO().then(I=>{if(I)return s.getId()}),[_,E]=await Promise.all([p,y]);oO(l)||tO(l,_.measurementId),a("js",new Date);const x=(m=u==null?void 0:u.config)!==null&&m!==void 0?m:{};return x[Yj]="firebase",x.update=!0,E!=null&&(x[Qj]=E),a("config",_.measurementId,x),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.app=e}_delete(){return delete dc[this.app.options.appId],Promise.resolve()}}let dc={},Db=[];const jb={};let fp="dataLayer",wO="gtag",Ob,$x,kb=!1;function EO(){const n=[];if(kE()&&n.push("This is a browser extension environment."),NC()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,a)=>`(${a+1}) ${s}`).join(" "),t=On.create("invalid-analytics-context",{errorInfo:e});wn.warn(t.message)}}function xO(n,e,t){EO();const s=n.options.appId;if(!s)throw On.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(dc[s]!=null)throw On.create("already-exists",{id:s});if(!kb){nO(fp);const{wrappedGtag:l,gtagCore:u}=aO(dc,Db,jb,fp,wO);$x=l,Ob=u,kb=!0}return dc[s]=_O(n,Db,jb,e,Ob,fp,t),new bO(n)}function TO(n=vg()){n=at(n);const e=wa(n,Yh);return e.isInitialized()?e.getImmediate():SO(n)}function SO(n,e={}){const t=wa(n,Yh);if(t.isInitialized()){const a=t.getImmediate();if(ha(e,t.getOptions()))return a;throw On.create("already-initialized")}return t.initialize({options:e})}function AO(n,e,t,s){n=at(n),yO($x,dc[n.app.options.appId],e,t,s).catch(a=>wn.error(a))}const Mb="@firebase/analytics",Pb="0.10.11";function RO(){Lr(new lr(Yh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return xO(s,a,t)},"PUBLIC")),Lr(new lr("analytics-internal",n,"PRIVATE")),er(Mb,Pb),er(Mb,Pb,"esm2017");function n(e){try{const t=e.getProvider(Yh).getImmediate();return{logEvent:(s,a,l)=>AO(t,s,a,l)}}catch(t){throw On.create("interop-component-reg-failed",{reason:t})}}}RO();var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mi,Gx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,T){function A(){}A.prototype=T.prototype,D.D=T.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(j,P,z){for(var M=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)M[xt-2]=arguments[xt];return T.prototype[P].apply(j,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,T,A){A||(A=0);var j=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)j[P]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(P=0;16>P;++P)j[P]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=D.g[0],A=D.g[1],P=D.g[2];var z=D.g[3],M=T+(z^A&(P^z))+j[0]+3614090360&4294967295;T=A+(M<<7&4294967295|M>>>25),M=z+(P^T&(A^P))+j[1]+3905402710&4294967295,z=T+(M<<12&4294967295|M>>>20),M=P+(A^z&(T^A))+j[2]+606105819&4294967295,P=z+(M<<17&4294967295|M>>>15),M=A+(T^P&(z^T))+j[3]+3250441966&4294967295,A=P+(M<<22&4294967295|M>>>10),M=T+(z^A&(P^z))+j[4]+4118548399&4294967295,T=A+(M<<7&4294967295|M>>>25),M=z+(P^T&(A^P))+j[5]+1200080426&4294967295,z=T+(M<<12&4294967295|M>>>20),M=P+(A^z&(T^A))+j[6]+2821735955&4294967295,P=z+(M<<17&4294967295|M>>>15),M=A+(T^P&(z^T))+j[7]+4249261313&4294967295,A=P+(M<<22&4294967295|M>>>10),M=T+(z^A&(P^z))+j[8]+1770035416&4294967295,T=A+(M<<7&4294967295|M>>>25),M=z+(P^T&(A^P))+j[9]+2336552879&4294967295,z=T+(M<<12&4294967295|M>>>20),M=P+(A^z&(T^A))+j[10]+4294925233&4294967295,P=z+(M<<17&4294967295|M>>>15),M=A+(T^P&(z^T))+j[11]+2304563134&4294967295,A=P+(M<<22&4294967295|M>>>10),M=T+(z^A&(P^z))+j[12]+1804603682&4294967295,T=A+(M<<7&4294967295|M>>>25),M=z+(P^T&(A^P))+j[13]+4254626195&4294967295,z=T+(M<<12&4294967295|M>>>20),M=P+(A^z&(T^A))+j[14]+2792965006&4294967295,P=z+(M<<17&4294967295|M>>>15),M=A+(T^P&(z^T))+j[15]+1236535329&4294967295,A=P+(M<<22&4294967295|M>>>10),M=T+(P^z&(A^P))+j[1]+4129170786&4294967295,T=A+(M<<5&4294967295|M>>>27),M=z+(A^P&(T^A))+j[6]+3225465664&4294967295,z=T+(M<<9&4294967295|M>>>23),M=P+(T^A&(z^T))+j[11]+643717713&4294967295,P=z+(M<<14&4294967295|M>>>18),M=A+(z^T&(P^z))+j[0]+3921069994&4294967295,A=P+(M<<20&4294967295|M>>>12),M=T+(P^z&(A^P))+j[5]+3593408605&4294967295,T=A+(M<<5&4294967295|M>>>27),M=z+(A^P&(T^A))+j[10]+38016083&4294967295,z=T+(M<<9&4294967295|M>>>23),M=P+(T^A&(z^T))+j[15]+3634488961&4294967295,P=z+(M<<14&4294967295|M>>>18),M=A+(z^T&(P^z))+j[4]+3889429448&4294967295,A=P+(M<<20&4294967295|M>>>12),M=T+(P^z&(A^P))+j[9]+568446438&4294967295,T=A+(M<<5&4294967295|M>>>27),M=z+(A^P&(T^A))+j[14]+3275163606&4294967295,z=T+(M<<9&4294967295|M>>>23),M=P+(T^A&(z^T))+j[3]+4107603335&4294967295,P=z+(M<<14&4294967295|M>>>18),M=A+(z^T&(P^z))+j[8]+1163531501&4294967295,A=P+(M<<20&4294967295|M>>>12),M=T+(P^z&(A^P))+j[13]+2850285829&4294967295,T=A+(M<<5&4294967295|M>>>27),M=z+(A^P&(T^A))+j[2]+4243563512&4294967295,z=T+(M<<9&4294967295|M>>>23),M=P+(T^A&(z^T))+j[7]+1735328473&4294967295,P=z+(M<<14&4294967295|M>>>18),M=A+(z^T&(P^z))+j[12]+2368359562&4294967295,A=P+(M<<20&4294967295|M>>>12),M=T+(A^P^z)+j[5]+4294588738&4294967295,T=A+(M<<4&4294967295|M>>>28),M=z+(T^A^P)+j[8]+2272392833&4294967295,z=T+(M<<11&4294967295|M>>>21),M=P+(z^T^A)+j[11]+1839030562&4294967295,P=z+(M<<16&4294967295|M>>>16),M=A+(P^z^T)+j[14]+4259657740&4294967295,A=P+(M<<23&4294967295|M>>>9),M=T+(A^P^z)+j[1]+2763975236&4294967295,T=A+(M<<4&4294967295|M>>>28),M=z+(T^A^P)+j[4]+1272893353&4294967295,z=T+(M<<11&4294967295|M>>>21),M=P+(z^T^A)+j[7]+4139469664&4294967295,P=z+(M<<16&4294967295|M>>>16),M=A+(P^z^T)+j[10]+3200236656&4294967295,A=P+(M<<23&4294967295|M>>>9),M=T+(A^P^z)+j[13]+681279174&4294967295,T=A+(M<<4&4294967295|M>>>28),M=z+(T^A^P)+j[0]+3936430074&4294967295,z=T+(M<<11&4294967295|M>>>21),M=P+(z^T^A)+j[3]+3572445317&4294967295,P=z+(M<<16&4294967295|M>>>16),M=A+(P^z^T)+j[6]+76029189&4294967295,A=P+(M<<23&4294967295|M>>>9),M=T+(A^P^z)+j[9]+3654602809&4294967295,T=A+(M<<4&4294967295|M>>>28),M=z+(T^A^P)+j[12]+3873151461&4294967295,z=T+(M<<11&4294967295|M>>>21),M=P+(z^T^A)+j[15]+530742520&4294967295,P=z+(M<<16&4294967295|M>>>16),M=A+(P^z^T)+j[2]+3299628645&4294967295,A=P+(M<<23&4294967295|M>>>9),M=T+(P^(A|~z))+j[0]+4096336452&4294967295,T=A+(M<<6&4294967295|M>>>26),M=z+(A^(T|~P))+j[7]+1126891415&4294967295,z=T+(M<<10&4294967295|M>>>22),M=P+(T^(z|~A))+j[14]+2878612391&4294967295,P=z+(M<<15&4294967295|M>>>17),M=A+(z^(P|~T))+j[5]+4237533241&4294967295,A=P+(M<<21&4294967295|M>>>11),M=T+(P^(A|~z))+j[12]+1700485571&4294967295,T=A+(M<<6&4294967295|M>>>26),M=z+(A^(T|~P))+j[3]+2399980690&4294967295,z=T+(M<<10&4294967295|M>>>22),M=P+(T^(z|~A))+j[10]+4293915773&4294967295,P=z+(M<<15&4294967295|M>>>17),M=A+(z^(P|~T))+j[1]+2240044497&4294967295,A=P+(M<<21&4294967295|M>>>11),M=T+(P^(A|~z))+j[8]+1873313359&4294967295,T=A+(M<<6&4294967295|M>>>26),M=z+(A^(T|~P))+j[15]+4264355552&4294967295,z=T+(M<<10&4294967295|M>>>22),M=P+(T^(z|~A))+j[6]+2734768916&4294967295,P=z+(M<<15&4294967295|M>>>17),M=A+(z^(P|~T))+j[13]+1309151649&4294967295,A=P+(M<<21&4294967295|M>>>11),M=T+(P^(A|~z))+j[4]+4149444226&4294967295,T=A+(M<<6&4294967295|M>>>26),M=z+(A^(T|~P))+j[11]+3174756917&4294967295,z=T+(M<<10&4294967295|M>>>22),M=P+(T^(z|~A))+j[2]+718787259&4294967295,P=z+(M<<15&4294967295|M>>>17),M=A+(z^(P|~T))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+T&4294967295,D.g[1]=D.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.u=function(D,T){T===void 0&&(T=D.length);for(var A=T-this.blockSize,j=this.B,P=this.h,z=0;z<T;){if(P==0)for(;z<=A;)a(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<T;)if(j[P++]=D.charCodeAt(z++),P==this.blockSize){a(this,j),P=0;break}}else for(;z<T;)if(j[P++]=D[z++],P==this.blockSize){a(this,j),P=0;break}}this.h=P,this.o+=T},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var T=1;T<D.length-8;++T)D[T]=0;var A=8*this.o;for(T=D.length-8;T<D.length;++T)D[T]=A&255,A/=256;for(this.u(D),D=Array(16),T=A=0;4>T;++T)for(var j=0;32>j;j+=8)D[A++]=this.g[T]>>>j&255;return D};function l(D,T){var A=m;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=T(D)}function u(D,T){this.h=T;for(var A=[],j=!0,P=D.length-1;0<=P;P--){var z=D[P]|0;j&&z==T||(A[P]=z,j=!1)}this.g=A}var m={};function p(D){return-128<=D&&128>D?l(D,function(T){return new u([T|0],0>T?-1:0)}):new u([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return C(y(-D));for(var T=[],A=1,j=0;D>=A;j++)T[j]=D/A|0,A*=4294967296;return new u(T,0)}function _(D,T){if(D.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D.charAt(0)=="-")return C(_(D.substring(1),T));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(T,8)),j=E,P=0;P<D.length;P+=8){var z=Math.min(8,D.length-P),M=parseInt(D.substring(P,P+z),T);8>z?(z=y(Math.pow(T,z)),j=j.j(z).add(y(M))):(j=j.j(A),j=j.add(y(M)))}return j}var E=p(0),x=p(1),I=p(16777216);n=u.prototype,n.m=function(){if(V(this))return-C(this).m();for(var D=0,T=1,A=0;A<this.g.length;A++){var j=this.i(A);D+=(0<=j?j:4294967296+j)*T,T*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(V(this))return"-"+C(this).toString(D);for(var T=y(Math.pow(D,6)),A=this,j="";;){var P=Y(A,T).g;A=F(A,P.j(T));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=P,N(A))return z+j;for(;6>z.length;)z="0"+z;j=z+j}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var T=0;T<D.g.length;T++)if(D.g[T]!=0)return!1;return!0}function V(D){return D.h==-1}n.l=function(D){return D=F(this,D),V(D)?-1:N(D)?0:1};function C(D){for(var T=D.g.length,A=[],j=0;j<T;j++)A[j]=~D.g[j];return new u(A,~D.h).add(x)}n.abs=function(){return V(this)?C(this):this},n.add=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],j=0,P=0;P<=T;P++){var z=j+(this.i(P)&65535)+(D.i(P)&65535),M=(z>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);j=M>>>16,z&=65535,M&=65535,A[P]=M<<16|z}return new u(A,A[A.length-1]&-2147483648?-1:0)};function F(D,T){return D.add(C(T))}n.j=function(D){if(N(this)||N(D))return E;if(V(this))return V(D)?C(this).j(C(D)):C(C(this).j(D));if(V(D))return C(this.j(C(D)));if(0>this.l(I)&&0>D.l(I))return y(this.m()*D.m());for(var T=this.g.length+D.g.length,A=[],j=0;j<2*T;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(var P=0;P<D.g.length;P++){var z=this.i(j)>>>16,M=this.i(j)&65535,xt=D.i(P)>>>16,gt=D.i(P)&65535;A[2*j+2*P]+=M*gt,G(A,2*j+2*P),A[2*j+2*P+1]+=z*gt,G(A,2*j+2*P+1),A[2*j+2*P+1]+=M*xt,G(A,2*j+2*P+1),A[2*j+2*P+2]+=z*xt,G(A,2*j+2*P+2)}for(j=0;j<T;j++)A[j]=A[2*j+1]<<16|A[2*j];for(j=T;j<2*T;j++)A[j]=0;return new u(A,0)};function G(D,T){for(;(D[T]&65535)!=D[T];)D[T+1]+=D[T]>>>16,D[T]&=65535,T++}function Q(D,T){this.g=D,this.h=T}function Y(D,T){if(N(T))throw Error("division by zero");if(N(D))return new Q(E,E);if(V(D))return T=Y(C(D),T),new Q(C(T.g),C(T.h));if(V(T))return T=Y(D,C(T)),new Q(C(T.g),T.h);if(30<D.g.length){if(V(D)||V(T))throw Error("slowDivide_ only works with positive integers.");for(var A=x,j=T;0>=j.l(D);)A=Z(A),j=Z(j);var P=ne(A,1),z=ne(j,1);for(j=ne(j,2),A=ne(A,2);!N(j);){var M=z.add(j);0>=M.l(D)&&(P=P.add(A),z=M),j=ne(j,1),A=ne(A,1)}return T=F(D,P.j(T)),new Q(P,T)}for(P=E;0<=D.l(T);){for(A=Math.max(1,Math.floor(D.m()/T.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),z=y(A),M=z.j(T);V(M)||0<M.l(D);)A-=j,z=y(A),M=z.j(T);N(z)&&(z=x),P=P.add(z),D=F(D,M)}return new Q(P,D)}n.A=function(D){return Y(this,D).h},n.and=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],j=0;j<T;j++)A[j]=this.i(j)&D.i(j);return new u(A,this.h&D.h)},n.or=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],j=0;j<T;j++)A[j]=this.i(j)|D.i(j);return new u(A,this.h|D.h)},n.xor=function(D){for(var T=Math.max(this.g.length,D.g.length),A=[],j=0;j<T;j++)A[j]=this.i(j)^D.i(j);return new u(A,this.h^D.h)};function Z(D){for(var T=D.g.length+1,A=[],j=0;j<T;j++)A[j]=D.i(j)<<1|D.i(j-1)>>>31;return new u(A,D.h)}function ne(D,T){var A=T>>5;T%=32;for(var j=D.g.length-A,P=[],z=0;z<j;z++)P[z]=0<T?D.i(z+A)>>>T|D.i(z+A+1)<<32-T:D.i(z+A);return new u(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Gx=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,mi=u}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kx,oc,Qx,jh,Fp,Yx,Xx,Wx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function a(h,v){if(v)e:{var b=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var H=h[R];if(!(H in b))break e;b=b[H]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var b=0,R=!1,H={next:function(){if(!R&&b<h.length){var X=b++;return{value:v(X,h[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,b){return h.call.apply(h.bind,arguments)}function E(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function x(h,v,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,x.apply(null,arguments)}function I(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function N(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,H,X){for(var oe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)oe[Le-2]=arguments[Le];return v.prototype[H].apply(R,oe)}}function V(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function C(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(p(R)){const H=h.length||0,X=R.length||0;h.length=H+X;for(let oe=0;oe<X;oe++)h[H+oe]=R[oe]}else h.push(R)}}class F{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function Y(h){return Y[" "](h),h}Y[" "]=function(){};var Z=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ne(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function D(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function T(h){const v={};for(const b in h)v[b]=h[b];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(h,v){let b,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(b in R)h[b]=R[b];for(let X=0;X<A.length;X++)b=A[X],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function P(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function z(h){m.setTimeout(()=>{throw h},0)}function M(){var h=Ke;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class xt{constructor(){this.h=this.g=null}add(v,b){const R=gt.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var gt=new F(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ve=!1,Ke=new xt,L=()=>{const h=m.Promise.resolve(void 0);Ee=()=>{h.then(ae)}};var ae=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(b){z(b)}var v=gt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ve=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};m.addEventListener("test",b,v),m.removeEventListener("test",b,v)}catch{}return h}();function Ie(h,v){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Z){e:{try{Y(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}N(Ie,ue);var Ne={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function lt(h,v,b,R,H){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=H,this.key=++qe,this.da=this.fa=!1}function Ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function on(h){this.src=h,this.g={},this.h=0}on.prototype.add=function(h,v,b,R,H){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var oe=Pn(h,v,R,H);return-1<oe?(v=h[oe],b||(v.fa=!1)):(v=new lt(v,this.src,X,!!R,H),v.fa=b,h.push(v)),v};function Br(h,v){var b=v.type;if(b in h.g){var R=h.g[b],H=Array.prototype.indexOf.call(R,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(R,H,1),X&&(Ye(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Pn(h,v,b,R){for(var H=0;H<h.length;++H){var X=h[H];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==R)return H}return-1}var xs="closure_lm_"+(1e6*Math.random()|0),Ts={};function Fr(h,v,b,R,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Fr(h,v[X],b,R,H);return null}return b=Kc(b),h&&h[yt]?h.K(v,b,y(R)?!!R.capture:!1,H):Ko(h,v,b,!1,R,H)}function Ko(h,v,b,R,H,X){if(!v)throw Error("Invalid event type");var oe=y(H)?!!H.capture:!!H,Le=Qo(h);if(Le||(h[xs]=Le=new on(h)),b=Le.add(v,b,R,oe,X),b.proxy)return b;if(R=Ra(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)he||(H=oe),H===void 0&&(H=!1),h.addEventListener(v.toString(),R,H);else if(h.attachEvent)h.attachEvent(Ca(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ra(){function h(b){return v.call(h.src,h.listener,b)}const v=Kd;return h}function Na(h,v,b,R,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Na(h,v[X],b,R,H);else R=y(R)?!!R.capture:!!R,b=Kc(b),h&&h[yt]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],b=Pn(X,b,R,H),-1<b&&(Ye(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=Qo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Pn(v,b,R,H)),(b=-1<h?v[h]:null)&&Ri(b))}function Ri(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[yt])Br(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Ca(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=Qo(v))?(Br(b,h),b.h==0&&(b.src=null,v[xs]=null)):Ye(h)}}}function Ca(h){return h in Ts?Ts[h]:Ts[h]="on"+h}function Kd(h,v){if(h.da)h=!0;else{v=new Ie(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&Ri(h),h=b.call(R,v)}return h}function Qo(h){return h=h[xs],h instanceof on?h:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kc(h){return typeof h=="function"?h:(h[pn]||(h[pn]=function(v){return h.handleEvent(v)}),h[pn])}function Tt(){pe.call(this),this.i=new on(this),this.M=this,this.F=null}N(Tt,pe),Tt.prototype[yt]=!0,Tt.prototype.removeEventListener=function(h,v,b,R){Na(this,h,v,b,R)};function jt(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new ue(v,h);else if(v instanceof ue)v.target=v.target||h;else{var H=v;v=new ue(R,h),j(v,H)}if(H=!0,b)for(var X=b.length-1;0<=X;X--){var oe=v.g=b[X];H=qr(oe,R,!0,v)&&H}if(oe=v.g=h,H=qr(oe,R,!0,v)&&H,H=qr(oe,R,!1,v)&&H,b)for(X=0;X<b.length;X++)oe=v.g=b[X],H=qr(oe,R,!1,v)&&H}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Ye(b[R]);delete h.g[v],h.h--}}this.F=null},Tt.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},Tt.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function qr(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var oe=v[X];if(oe&&!oe.da&&oe.capture==b){var Le=oe.listener,At=oe.ha||oe.src;oe.fa&&Br(h.i,oe),H=Le.call(At,R)!==!1&&H}}return H&&!R.defaultPrevented}function Qc(h,v,b){if(typeof h=="function")b&&(h=x(h,b));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function Yo(h){h.g=Qc(()=>{h.g=null,h.i&&(h.i=!1,Yo(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Qd extends pe{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(h){pe.call(this),this.h=h,this.g={}}N(Ni,pe);var Ss=[];function Jt(h){ne(h.g,function(v,b){this.g.hasOwnProperty(b)&&Ri(v)},h),h.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),Jt(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=m.JSON.stringify,gr=m.JSON.parse,ln=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Wo(){}Wo.prototype.h=null;function Yc(h){return h.h||(h.h=h.i())}function Xc(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function As(){ue.call(this,"d")}N(As,ue);function tr(){ue.call(this,"c")}N(tr,ue);var Vn={},Rs=null;function Ia(){return Rs=Rs||new Tt}Vn.La="serverreachability";function Zo(h){ue.call(this,Vn.La,h)}N(Zo,ue);function Ns(h){const v=Ia();jt(v,new Zo(v))}Vn.STAT_EVENT="statevent";function Da(h,v){ue.call(this,Vn.STAT_EVENT,h),this.stat=v}N(Da,ue);function ft(h){const v=Ia();jt(v,new Da(v,h))}Vn.Ma="timingevent";function Wc(h,v){ue.call(this,Vn.Ma,h),this.size=v}N(Wc,ue);function Cs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function Zc(h,v,b,R,H,X){h.info(function(){if(h.g)if(X)for(var oe="",Le=X.split("&"),At=0;At<Le.length;At++){var Ue=Le[At].split("=");if(1<Ue.length){var Mt=Ue[0];Ue=Ue[1];var Rt=Mt.split("_");oe=2<=Rt.length&&Rt[1]=="type"?oe+(Mt+"="+Ue+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+b+`
`+oe})}function Jc(h,v,b,R,H,X,oe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+b+`
`+X+" "+oe})}function Ds(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ot(h,b)+(R?" "+R:"")})}function vr(h,v){h.info(function(){return"TIMEOUT: "+v})}Is.prototype.info=function(){};function Ot(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return Xo(b)}catch{return v}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function ja(){}N(ja,Wo),ja.prototype.g=function(){return new XMLHttpRequest},ja.prototype.i=function(){return{}},Ci=new ja;function _r(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var js={},Ii={};function nr(h,v,b){h.L=1,h.v=Oi(ct(v)),h.m=b,h.P=!0,$r(h,null)}function $r(h,v){h.F=Date.now(),rt(h),h.A=ct(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Qr(b.i,"t",R),h.C=0,b=h.j.J,h.h=new Jo,h.g=fu(h.j,b?v:null,!h.m),0<h.O&&(h.M=new Qd(x(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ss[0]=H.toString()),H=Ss);for(var X=0;X<H.length;X++){var oe=Fr(b,H[X],R||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ns(),Zc(h.i,h.u,h.A,h.l,h.R,h.m)}_r.prototype.ca=function(h){h=h.target;const v=this.M;v&&Fn(h)==3?v.j():this.Y(h)},_r.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=Fn(this.g);var v=this.g.Ba();const Zr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||iu(this.g)))){this.J||Rt!=4||v==7||(v==8||0>=Zr?Ns(3):Ns(2)),Oa(this);var b=this.g.Z();this.X=b;t:if(Os(this)){var R=iu(this.g);h="";var H=R.length,X=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),xn(this);var oe="";break t}this.h.i=new m.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(X&&v==H-1)});R.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=b==200,Jc(this.i,this.u,this.A,this.l,this.R,Rt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,At=this.g;if((Le=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Le)){var Ue=Le;break t}}Ue=null}if(b=Ue)Ds(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tn(this,b);else{this.o=!1,this.s=3,ft(12),gn(this),xn(this);break e}}if(this.P){b=!0;let qt;for(;!this.J&&this.C<oe.length;)if(qt=ks(this,oe),qt==Ii){Rt==4&&(this.s=4,ft(14),b=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==js){this.s=4,ft(15),Ds(this.i,this.l,oe,"[Invalid Chunk]"),b=!1;break}else Ds(this.i,this.l,qt,null),Tn(this,qt);if(Os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||oe.length!=0||this.h.h||(this.s=1,ft(16),b=!1),this.o=this.o&&b,!b)Ds(this.i,this.l,oe,"[Invalid Chunked Response]"),gn(this),xn(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),zi(Mt),Mt.M=!0,ft(11))}}else Ds(this.i,this.l,oe,null),Tn(this,oe);Rt==4&&gn(this),this.o&&!this.J&&(Rt==4?uu(this.j,this):(this.o=!1,rt(this)))}else ef(this.g),b==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),gn(this),xn(this)}}}catch{}finally{}};function Os(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ks(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?Ii:(b=Number(v.substring(b,R)),isNaN(b)?js:(R+=1,R+b>v.length?Ii:(v=v.slice(R,R+b),h.C=R+b,v)))}_r.prototype.cancel=function(){this.J=!0,gn(this)};function rt(h){h.S=Date.now()+h.I,el(h,h.I)}function el(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Cs(x(h.ba,h),v)}function Oa(h){h.B&&(m.clearTimeout(h.B),h.B=null)}_r.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vr(this.i,this.A),this.L!=2&&(Ns(),ft(17)),gn(this),this.s=2,xn(this)):el(this,this.S-h)};function xn(h){h.j.G==0||h.J||uu(h.j,h)}function gn(h){Oa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Jt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Tn(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||Ms(b.h,h))){if(!h.K&&Ms(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)qa(b),Ba(b);else break e;hl(b),ft(18)}}else b.za=H[1],0<b.za-b.T&&37500>H[2]&&b.F&&b.v==0&&!b.C&&(b.C=Cs(x(b.Za,b),6e3));if(1>=eu(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Wr(b,11)}else if((h.K||b.g==h)&&qa(b),!G(v))for(H=b.Da.g.parse(v),v=0;v<H.length;v++){let Ue=H[v];if(b.T=Ue[0],Ue=Ue[1],b.G==2)if(Ue[0]=="c"){b.K=Ue[1],b.ia=Ue[2];const Mt=Ue[3];Mt!=null&&(b.la=Mt,b.j.info("VER="+b.la));const Rt=Ue[4];Rt!=null&&(b.Aa=Rt,b.j.info("SVER="+b.Aa));const Zr=Ue[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(R=1.5*Zr,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const qt=h.g;if(qt){const Ar=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var X=R.h;X.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ps(X,X.h),X.h=null))}if(R.D){const fl=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(R.ya=fl,He(R.I,R.D,fl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var oe=h;if(R.qa=du(R,R.J?R.ia:null,R.W),oe.K){Ln(R.h,oe);var Le=oe,At=R.L;At&&(Le.I=At),Le.B&&(Oa(Le),rt(Le)),R.g=oe}else lu(R);0<b.i.length&&Fa(b)}else Ue[0]!="stop"&&Ue[0]!="close"||Wr(b,7);else b.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Wr(b,7):cl(b):Ue[0]!="noop"&&b.l&&b.l.ta(Ue),b.v=0)}}Ns(4)}catch{}}var Yd=class{constructor(h,v){this.g=h,this.map=v}};function tl(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function eu(h){return h.h?1:h.g?h.g.size:0}function Ms(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ps(h,v){h.g?h.g.add(v):h.h=v}function Ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}tl.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return V(h.i)}function tu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function Xd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function Di(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=Xd(h),R=tu(h),H=R.length,X=0;X<H;X++)v.call(void 0,R[X],b&&b[X],h)}var rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),H=null;if(0<=R){var X=h[b].substring(0,R);H=h[b].substring(R+1)}else X=h[b];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Gr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Gr){this.h=h.h,Vs(this,h.j),this.o=h.o,this.g=h.g,ji(this,h.s),this.l=h.l;var v=h.i,b=new br;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Ma(this,b),this.m=h.m}else h&&(v=String(h).match(rl))?(this.h=!1,Vs(this,v[1]||"",!0),this.o=Ls(v[2]||""),this.g=Ls(v[3]||"",!0),ji(this,v[4]),this.l=Ls(v[5]||"",!0),Ma(this,v[6]||"",!0),this.m=Ls(v[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Gr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Un(v,sl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Un(v,sl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Un(b,b.charAt(0)=="/"?il:nu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Un(b,Jd)),h.join("")};function ct(h){return new Gr(h)}function Vs(h,v,b){h.j=b?Ls(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ji(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ma(h,v,b){v instanceof br?(h.i=v,al(h.i,h.h)):(b||(v=Un(v,Zd)),h.i=new br(v,h.h))}function He(h,v,b){h.i.set(v,b)}function Oi(h){return He(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ls(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Un(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,Wd),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Wd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var sl=/[#\/\?@]/g,nu=/[#\?:]/g,il=/[#\?]/g,Zd=/[#\?@]/g,Jd=/#/g;function br(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&ka(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=br.prototype,n.add=function(h,v){zn(this),this.i=null,h=Yr(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Pa(h,v){zn(h),v=Yr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Kr(h,v){return zn(h),v=Yr(h,v),h.g.has(v)}n.forEach=function(h,v){zn(this),this.g.forEach(function(b,R){b.forEach(function(H){h.call(v,H,R,this)},this)},this)},n.na=function(){zn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const H=h[R];for(let X=0;X<H.length;X++)b.push(v[R])}return b},n.V=function(h){zn(this);let v=[];if(typeof h=="string")Kr(this,h)&&(v=v.concat(this.g.get(Yr(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},n.set=function(h,v){return zn(this),this.i=null,h=Yr(this,h),Kr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Qr(h,v,b){Pa(h,v),0<b.length&&(h.i=null,h.g.set(Yr(h,v),V(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const X=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var H=X;oe[R]!==""&&(H+="="+encodeURIComponent(String(oe[R]))),h.push(H)}}return this.i=h.join("&")};function Yr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function al(h,v){v&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(b,R){var H=R.toLowerCase();R!=H&&(Pa(this,R),Qr(this,H,b))},h)),h.j=v}function ru(h,v){const b=new Is;if(m.Image){const R=new Image;R.onload=I(Bn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=I(Bn,b,"TestLoadImage: error",!1,v,R),R.onabort=I(Bn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=I(Bn,b,"TestLoadImage: timeout",!1,v,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function ki(h,v){const b=new Is,R=new AbortController,H=setTimeout(()=>{R.abort(),Bn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(H),X.ok?Bn(b,"TestPingServer: ok",!0,v):Bn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Bn(b,"TestPingServer: error",!1,v)})}function Bn(h,v,b,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(b)}catch{}}function Mi(){this.g=new ln}function wr(h,v,b){const R=b||"";try{Di(h,function(H,X){let oe=H;y(H)&&(oe=Xo(H)),v.push(R+X+"="+encodeURIComponent(oe))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function Us(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Us,Wo),Us.prototype.g=function(){return new Xr(this.l,this.j)},Us.prototype.i=function(h){return function(){return h}}({});function Xr(h,v){Tt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Xr,Tt),n=Xr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,xr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Er(this):xr(this),this.readyState==3&&ol(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Er(this))},n.Qa=function(h){this.g&&(this.response=h,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(h){h.readyState=4,h.l=null,h.j=null,h.v=null,xr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function xr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ll(h){let v="";return ne(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function kt(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ll(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):He(h,v,b))}function Qe(h){Tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Qe,Tt);var Va=/^https?$/i,Pi=["POST","PUT"];n=Qe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?Yc(this.o):Yc(Ci),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){su(this,X);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)b.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())b.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),H=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Pi,v,void 0))||R||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of b)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vi(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){su(this,X)}};function su(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,La(h),Tr(h)}function La(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,jt(this,"complete"),jt(this,"abort"),Tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)Qc(h.Ea,0,h);else if(jt(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=oe===0){var H=String(h.D).match(rl)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),R=!Va.test(H?H.toLowerCase():"")}b=R}if(b)jt(h,"complete"),jt(h,"success");else{h.m=6;try{var X=2<Fn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",La(h)}}finally{Tr(h)}}}}function Tr(h,v){if(h.g){Vi(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||jt(h,"ready");try{b.onreadystatechange=R}catch{}}}function Vi(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),gr(v)}};function iu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ef(h){const v={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(G(h[R]))continue;var b=P(h[R]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[H]||[];v[H]=X,X.push(b)}D(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function za(h){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Li("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Li("baseRetryDelayMs",5e3,h),this.cb=Li("retryDelaySeedMs",1e4,h),this.Wa=Li("forwardChannelMaxRetries",2,h),this.wa=Li("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(h&&h.concurrentRequestLimit),this.Da=new Mi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=za.prototype,n.la=8,n.G=1,n.connect=function(h,v,b,R){ft(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=du(this,null,this.W),Fa(this)};function cl(h){if(au(h),h.G==3){var v=h.U++,b=ct(h.I);if(He(b,"SID",h.K),He(b,"RID",v),He(b,"TYPE","terminate"),Ui(h,b),v=new _r(h,h.j,v),v.L=2,v.v=Oi(ct(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=v.v,b=!0),b||(v.g=fu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),rt(v)}hu(h)}function Ba(h){h.g&&(zi(h),h.g.cancel(),h.g=null)}function au(h){Ba(h),h.u&&(m.clearTimeout(h.u),h.u=null),qa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Fa(h){if(!nl(h.h)&&!h.s){h.s=!0;var v=h.Ga;Ee||L(),ve||(Ee(),ve=!0),Ke.add(v,h),h.B=0}}function tf(h,v){return eu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Cs(x(h.Ga,h,v),dl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new _r(this,this.j,h);let X=this.o;if(this.S&&(X?(X=T(X),j(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=ou(this,H,v),b=ct(this.I),He(b,"RID",h),He(b,"CVER",22),this.D&&He(b,"X-HTTP-Session-Id",this.D),Ui(this,b),X&&(this.O?v="headers="+encodeURIComponent(String(ll(X)))+"&"+v:this.m&&kt(b,this.m,X)),Ps(this.h,H),this.Ua&&He(b,"TYPE","init"),this.P?(He(b,"$req",v),He(b,"SID","null"),H.T=!0,nr(H,b,null)):nr(H,b,v),this.G=2}}else this.G==3&&(h?ul(this,h):this.i.length==0||nl(this.h)||ul(this))};function ul(h,v){var b;v?b=v.l:b=h.U++;const R=ct(h.I);He(R,"SID",h.K),He(R,"RID",b),He(R,"AID",h.T),Ui(h,R),h.m&&h.o&&kt(R,h.m,h.o),b=new _r(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=ou(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ps(h.h,b),nr(b,R,v)}function Ui(h,v){h.H&&ne(h.H,function(b,R){He(v,R,b)}),h.l&&Di({},function(b,R){He(v,R,b)})}function ou(h,v,b){b=Math.min(h.i.length,b);var R=h.l?x(h.l.Na,h.l,h):null;e:{var H=h.i;let X=-1;for(;;){const oe=["count="+b];X==-1?0<b?(X=H[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Le=!0;for(let At=0;At<b;At++){let Ue=H[At].g;const Mt=H[At].map;if(Ue-=X,0>Ue)X=Math.max(0,H[At].g-100),Le=!1;else try{wr(Mt,oe,"req"+Ue+"_")}catch{R&&R(Mt)}}if(Le){R=oe.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function lu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Ee||L(),ve||(Ee(),ve=!0),Ke.add(v,h),h.v=0}}function hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Cs(x(h.Fa,h),dl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Cs(x(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ba(this),cu(this))};function zi(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function cu(h){h.g=new _r(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=ct(h.qa);He(v,"RID","rpc"),He(v,"SID",h.K),He(v,"AID",h.T),He(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&He(v,"TO",h.ja),He(v,"TYPE","xmlhttp"),Ui(h,v),h.m&&h.o&&kt(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Oi(ct(v)),b.m=null,b.P=!0,$r(b,h)}n.Za=function(){this.C!=null&&(this.C=null,Ba(this),hl(this),ft(19))};function qa(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function uu(h,v){var b=null;if(h.g==v){qa(h),zi(h),h.g=null;var R=2}else if(Ms(h.h,v))b=v.D,Ln(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;R=Ia(),jt(R,new Wc(R,b)),Fa(h)}else lu(h);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&tf(h,v)||R==2&&hl(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),H){case 1:Wr(h,5);break;case 4:Wr(h,10);break;case 3:Wr(h,6);break;default:Wr(h,2)}}}function dl(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function Wr(h,v){if(h.j.info("Error code "+v),v==2){var b=x(h.fb,h),R=h.Xa;const H=!R;R=new Gr(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Vs(R,"https"),Oi(R),H?ru(R.toString(),b):ki(R.toString(),b)}else ft(2);h.G=0,h.l&&h.l.sa(v),hu(h),au(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function hu(h){if(h.G=0,h.ka=[],h.l){const v=cn(h.h);(v.length!=0||h.i.length!=0)&&(C(h.ka,v),C(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function du(h,v,b){var R=b instanceof Gr?ct(b):new Gr(b);if(R.g!="")v&&(R.g=v+"."+R.g),ji(R,R.s);else{var H=m.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new Gr(null);R&&Vs(X,R),v&&(X.g=v),H&&ji(X,H),b&&(X.l=b),R=X}return b=h.D,v=h.ya,b&&v&&He(R,b,v),He(R,"VER",h.la),Ui(h,R),R}function fu(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Qe(new Us({eb:b})):new Qe(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}n=mu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ha(){}Ha.prototype.g=function(h,v){return new un(h,v)};function un(h,v){Tt.call(this),this.g=new za(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!G(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Sr(this)}N(un,Tt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){cl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Xo(h),h=b);v.i.push(new Yd(v.Ya++,h)),v.G==3&&Fa(v)},un.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,un.aa.N.call(this)};function pu(h){As.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}N(pu,As);function gu(){tr.call(this),this.status=1}N(gu,tr);function Sr(h){this.g=h}N(Sr,mu),Sr.prototype.ua=function(){jt(this.g,"a")},Sr.prototype.ta=function(h){jt(this.g,new pu(h))},Sr.prototype.sa=function(h){jt(this.g,new gu)},Sr.prototype.ra=function(){jt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Wx=function(){return new Ha},Xx=function(){return Ia()},Yx=Vn,Fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,jh=St,Hr.COMPLETE="complete",Qx=Hr,Xc.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,oc=Xc,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Kx=Qe}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const Lb="@firebase/firestore",Ub="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new wd("@firebase/firestore");function vo(){return ga.logLevel}function de(n,...e){if(ga.logLevel<=ke.DEBUG){const t=e.map(Og);ga.debug(`Firestore (${qo}): ${n}`,...t)}}function ws(n,...e){if(ga.logLevel<=ke.ERROR){const t=e.map(Og);ga.error(`Firestore (${qo}): ${n}`,...t)}}function No(n,...e){if(ga.logLevel<=ke.WARN){const t=e.map(Og);ga.warn(`Firestore (${qo}): ${n}`,...t)}}function Og(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+n;throw ws(e),new Error(e)}function Fe(n,e){n||_e()}function Te(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class CO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IO{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Pr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Pr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new Zx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new rn(e)}}class DO{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jO{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new DO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new zb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new zb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=kO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ve(n,e){return n<e?-1:n>e?1:0}function Co(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=-62135596800,Fb=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Fb);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bb)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fb}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Bb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new It(0,0))}static max(){return new we(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__name__";class Or{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(),s===void 0?s=e.length-t:s>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Or.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Or.isNumericId(e),a=Or.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Or.extractNumericId(e).compare(Or.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mi.fromString(e.substring(4,e.length-2))}}class Je extends Or{construct(e,t,s){return new Je(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const MO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Or{construct(e,t,s){return new Qt(e,t,s)}static isValidIdentifier(e){return MO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qb}static keyField(){return new Qt([qb])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(s+=m,a++):(l(),a++)}if(l(),u)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function PO(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new yi(a,ye.empty(),e)}function VO(n){return new yi(n.readTime,n.key,xc)}class yi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new yi(we.min(),ye.empty(),xc)}static max(){return new yi(we.max(),ye.empty(),xc)}}function LO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==UO)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,s)=>{t(e)})}static reject(e){return new se((t,s)=>{s(e)})}static waitFor(e){return new se((t,s)=>{let a=0,l=0,u=!1;e.forEach(m=>{++a,m.next(()=>{++l,u&&l===a&&t()},p=>s(p))}),u=!0,l===a&&t()})}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next(a=>a?se.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new se((s,a)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{u[y]=_,++m,m===l&&s(u)},_=>a(_))}})}static doWhile(e,t){return new se((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function BO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $o(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=-1;function Vc(n){return n==null}function Xh(n){return n===0&&1/n==-1/0}function FO(n){return typeof n=="number"&&Number.isInteger(n)&&!Xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="";function qO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hb(e)),e=HO(n.get(t),e);return Hb(e)}function HO(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case eT:t+="";break;default:t+=l}}return t}function Hb(n){return n+eT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Si(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Kt.RED,this.left=a??Kt.EMPTY,this.right=l??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Kt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Kt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,s,a,l){return this}insert(e,t,s){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Dt(Qt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nT("Invalid base64 string: "+l):l}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const $O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(n){if(Fe(!!n),typeof n=="string"){let e=0;const t=$O.exec(n);if(Fe(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _i(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="server_timestamp",sT="__type__",iT="__previous_value__",aT="__local_write_time__";function Mg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sT])===null||t===void 0?void 0:t.stringValue)===rT}function Nd(n){const e=n.mapValue.fields[iT];return Mg(e)?Nd(e):e}function Tc(n){const e=vi(n.mapValue.fields[aT].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t,s,a,l,u,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Wh="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||Wh}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",KO="__max__",vh={mapValue:{}},lT="__vector__",Zh="value";function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mg(n)?4:YO(n)?9007199254740991:QO(n)?10:11:_e()}function Ur(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tc(n).isEqual(Tc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=vi(a.timestampValue),m=vi(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return _i(a.bytesValue).isEqual(_i(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return pt(a.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(a.geoPointValue.longitude)===pt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return pt(a.integerValue)===pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=pt(a.doubleValue),m=pt(l.doubleValue);return u===m?Xh(u)===Xh(m):isNaN(u)&&isNaN(m)}return!1}(n,e);case 9:return Co(n.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},m=l.mapValue.fields||{};if($b(u)!==$b(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Ur(u[p],m[p])))return!1;return!0}(n,e);default:return _e()}}function Ac(n,e){return(n.values||[]).find(t=>Ur(t,e))!==void 0}function Io(n,e){if(n===e)return 0;const t=bi(n),s=bi(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,u){const m=pt(l.integerValue||l.doubleValue),p=pt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,e);case 3:return Kb(n.timestampValue,e.timestampValue);case 4:return Kb(Tc(n),Tc(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,u){const m=_i(l),p=_i(u);return m.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),p=u.split("/");for(let y=0;y<m.length&&y<p.length;y++){const _=Ve(m[y],p[y]);if(_!==0)return _}return Ve(m.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const m=Ve(pt(l.latitude),pt(u.latitude));return m!==0?m:Ve(pt(l.longitude),pt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Qb(n.arrayValue,e.arrayValue);case 10:return function(l,u){var m,p,y,_;const E=l.fields||{},x=u.fields||{},I=(m=E[Zh])===null||m===void 0?void 0:m.arrayValue,N=(p=x[Zh])===null||p===void 0?void 0:p.arrayValue,V=Ve(((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:Qb(I,N)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===vh.mapValue&&u===vh.mapValue)return 0;if(l===vh.mapValue)return 1;if(u===vh.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),y=u.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const x=Ve(p[E],_[E]);if(x!==0)return x;const I=Io(m[p[E]],y[_[E]]);if(I!==0)return I}return Ve(p.length,_.length)}(n.mapValue,e.mapValue);default:throw _e()}}function Kb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=vi(n),s=vi(e),a=Ve(t.seconds,s.seconds);return a!==0?a:Ve(t.nanos,s.nanos)}function Qb(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Io(t[a],s[a]);if(l)return l}return Ve(t.length,s.length)}function Do(n){return qp(n)}function qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=vi(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _i(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=qp(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${qp(t.fields[u])}`;return a+"}"}(n.mapValue):_e()}function Oh(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(n);return e?16+Oh(e):16;case 5:return 2*n.stringValue.length;case 6:return _i(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Oh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Si(s.fields,(l,u)=>{a+=l.length+Oh(u)}),a}(n.mapValue);default:throw _e()}}function Yb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hp(n){return!!n&&"integerValue"in n}function Pg(n){return!!n&&"arrayValue"in n}function Xb(n){return!!n&&"nullValue"in n}function Wb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kh(n){return!!n&&"mapValue"in n}function QO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oT])===null||t===void 0?void 0:t.stringValue)===lT}function fc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Si(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fc(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=Qt.emptyPath(),s={},a=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=m.popLast()}u?s[m.lastSegment()]=fc(u):a.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];kh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Si(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new fn(fc(this.value))}}function cT(n){const e=[];return Si(n.fields,(t,s)=>{const a=new Qt([t]);if(kh(s)){const l=cT(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,s,a,l,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Bt(e,0,we.min(),we.min(),we.min(),fn.empty(),0)}static newFoundDocument(e,t,s,a){return new Bt(e,1,t,we.min(),s,a,0)}static newNoDocument(e,t){return new Bt(e,2,t,we.min(),we.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,we.min(),we.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this.position=e,this.inclusive=t}}function Zb(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(u.referenceValue),t.key):s=Io(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ur(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function XO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{}class Et extends uT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ZO(e,t,s):t==="array-contains"?new t4(e,s):t==="in"?new n4(e,s):t==="not-in"?new r4(e,s):t==="array-contains-any"?new s4(e,s):new Et(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new JO(e,s):new e4(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Io(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends uT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ur(e,t)}matches(e){return hT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function hT(n){return n.op==="and"}function dT(n){return WO(n)&&hT(n)}function WO(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function $p(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(dT(n))return n.filters.map(e=>$p(e)).join(",");{const e=n.filters.map(t=>$p(t)).join(",");return`${n.op}(${e})`}}function fT(n,e){return n instanceof Et?function(s,a){return a instanceof Et&&s.op===a.op&&s.field.isEqual(a.field)&&Ur(s.value,a.value)}(n,e):n instanceof ur?function(s,a){return a instanceof ur&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,u,m)=>l&&fT(u,a.filters[m]),!0):!1}(n,e):void _e()}function mT(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof ur?function(t){return t.op.toString()+" {"+t.getFilters().map(mT).join(" ,")+"}"}(n):"Filter"}class ZO extends Et{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class JO extends Et{constructor(e,t){super(e,"in",t),this.keys=pT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class e4 extends Et{constructor(e,t){super(e,"not-in",t),this.keys=pT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class t4 extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pg(t)&&Ac(t.arrayValue,this.value)}}class n4 extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ac(this.value.arrayValue,t)}}class r4 extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ac(this.value.arrayValue,t)}}class s4 extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ac(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t=null,s=[],a=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=m,this.le=null}}function ew(n,e=null,t=[],s=[],a=null,l=null,u=null){return new i4(n,e,t,s,a,l,u)}function Vg(n){const e=Te(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>$p(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Vc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Do(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Do(s)).join(",")),e.le=t}return e.le}function Lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jb(n.startAt,e.startAt)&&Jb(n.endAt,e.endAt)}function Gp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t=null,s=[],a=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function a4(n,e,t,s,a,l,u,m){return new Lc(n,e,t,s,a,l,u,m)}function Cd(n){return new Lc(n)}function tw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gT(n){return n.collectionGroup!==null}function mc(n){const e=Te(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Dt(Qt.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new ed(l,s))}),t.has(Qt.keyField().canonicalString())||e.he.push(new ed(Qt.keyField(),s))}return e.he}function Vr(n){const e=Te(n);return e.Pe||(e.Pe=o4(e,mc(n))),e.Pe}function o4(n,e){if(n.limitType==="F")return ew(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ed(a.field,l)});const t=n.endAt?new Jh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Jh(n.startAt.position,n.startAt.inclusive):null;return ew(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Kp(n,e){const t=n.filters.concat([e]);return new Lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qp(n,e,t){return new Lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return Lg(Vr(n),Vr(e))&&n.limitType===e.limitType}function yT(n){return`${Vg(Vr(n))}|lt:${n.limitType}`}function _o(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>mT(a)).join(", ")}]`),Vc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Do(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Do(a)).join(",")),`Target(${s})`}(Vr(n))}; limitType=${n.limitType})`}function Dd(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of mc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(u,m,p){const y=Zb(u,m,p);return u.inclusive?y<=0:y<0}(s.startAt,mc(s),a)||s.endAt&&!function(u,m,p){const y=Zb(u,m,p);return u.inclusive?y>=0:y>0}(s.endAt,mc(s),a))}(n,e)}function l4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vT(n){return(e,t)=>{let s=!1;for(const a of mc(n)){const l=c4(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function c4(n,e,t){const s=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,m){const p=u.data.field(l),y=m.data.field(l);return p!==null&&y!==null?Io(p,y):_e()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new ot(ye.comparator);function Es(){return u4}const _T=new ot(ye.comparator);function lc(...n){let e=_T;for(const t of n)e=e.insert(t.key,t);return e}function bT(n){let e=_T;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function la(){return pc()}function wT(){return pc()}function pc(){return new xa(n=>n.toString(),(n,e)=>n.isEqual(e))}const h4=new ot(ye.comparator),d4=new Dt(ye.comparator);function Me(...n){let e=d4;for(const t of n)e=e.add(t);return e}const f4=new Dt(Ve);function m4(){return f4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function ET(n){return{integerValue:""+n}}function p4(n,e){return FO(e)?ET(e):Ug(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function g4(n,e,t){return n instanceof td?function(a,l){const u={fields:{[sT]:{stringValue:rT},[aT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Mg(l)&&(l=Nd(l)),l&&(u.fields[iT]=l),{mapValue:u}}(t,e):n instanceof jo?TT(n,e):n instanceof Oo?ST(n,e):function(a,l){const u=xT(a,l),m=nw(u)+nw(a.Ie);return Hp(u)&&Hp(a.Ie)?ET(m):Ug(a.serializer,m)}(n,e)}function y4(n,e,t){return n instanceof jo?TT(n,e):n instanceof Oo?ST(n,e):t}function xT(n,e){return n instanceof nd?function(s){return Hp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class td extends jd{}class jo extends jd{constructor(e){super(),this.elements=e}}function TT(n,e){const t=AT(e);for(const s of n.elements)t.some(a=>Ur(a,s))||t.push(s);return{arrayValue:{values:t}}}class Oo extends jd{constructor(e){super(),this.elements=e}}function ST(n,e){let t=AT(e);for(const s of n.elements)t=t.filter(a=>!Ur(a,s));return{arrayValue:{values:t}}}class nd extends jd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nw(n){return pt(n.integerValue||n.doubleValue)}function AT(n){return Pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t){this.field=e,this.transform=t}}function v4(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof jo&&a instanceof jo||s instanceof Oo&&a instanceof Oo?Co(s.elements,a.elements,Ur):s instanceof nd&&a instanceof nd?Ur(s.Ie,a.Ie):s instanceof td&&a instanceof td}(n.transform,e.transform)}class _4{constructor(e,t){this.version=e,this.transformResults=t}}class Yt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Od{}function NT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kd(n.key,Yt.none()):new Uc(n.key,n.data,Yt.none());{const t=n.data,s=fn.empty();let a=new Dt(Qt.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ai(n.key,s,new Dn(a.toArray()),Yt.none())}}function b4(n,e,t){n instanceof Uc?function(a,l,u){const m=a.value.clone(),p=sw(a.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Ai?function(a,l,u){if(!Mh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const m=sw(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(CT(a)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function gc(n,e,t,s){return n instanceof Uc?function(l,u,m,p){if(!Mh(l.precondition,u))return m;const y=l.value.clone(),_=iw(l.fieldTransforms,p,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ai?function(l,u,m,p){if(!Mh(l.precondition,u))return m;const y=iw(l.fieldTransforms,p,u),_=u.data;return _.setAll(CT(l)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,s):function(l,u,m){return Mh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m}(n,e,t)}function w4(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=xT(s.transform,a||null);l!=null&&(t===null&&(t=fn.empty()),t.set(s.field,l))}return t||null}function rw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Co(s,a,(l,u)=>v4(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uc extends Od{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ai extends Od{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function CT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function sw(n,e,t){const s=new Map;Fe(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,m=e.data.field(l.field);s.set(l.field,y4(u,m,t[a]))}return s}function iw(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,g4(l,u,e))}return s}class kd extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IT extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&b4(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=wT();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(a.key)?null:m;const p=NT(u,m);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,s)=>rw(t,s))&&Co(this.baseMutations,e.baseMutations,(t,s)=>rw(t,s))}}class zg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Fe(e.mutations.length===s.length);let a=function(){return h4}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new zg(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function DT(n){switch(n){case te.OK:return _e();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e()}}function jT(n){if(n===void 0)return ws("GRPC error has no .code"),te.UNKNOWN;switch(n){case wt.OK:return te.OK;case wt.CANCELLED:return te.CANCELLED;case wt.UNKNOWN:return te.UNKNOWN;case wt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case wt.INTERNAL:return te.INTERNAL;case wt.UNAVAILABLE:return te.UNAVAILABLE;case wt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case wt.NOT_FOUND:return te.NOT_FOUND;case wt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case wt.ABORTED:return te.ABORTED;case wt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case wt.DATA_LOSS:return te.DATA_LOSS;default:return _e()}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new mi([4294967295,4294967295],0);function aw(n){const e=S4().encode(n),t=new Gx;return t.update(e),new Uint8Array(t.digest())}function ow(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new mi([t,s],0),new mi([a,l],0)]}class Bg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new cc(`Invalid padding: ${t}`);if(s<0)throw new cc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new cc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=mi.fromNumber(this.Ee)}Ae(e,t,s){let a=e.add(t.multiply(mi.fromNumber(s)));return a.compare(A4)===1&&(a=new mi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=aw(e),[s,a]=ow(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(s,a,l);if(!this.Re(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Bg(l,a,t);return s.forEach(m=>u.insert(m)),u}insert(e){if(this.Ee===0)return;const t=aw(e),[s,a]=ow(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(s,a,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Md(we.min(),a,new ot(Ve),Es(),Me())}}class zc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new zc(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,s,a){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=a}}class OT{constructor(e,t){this.targetId=e,this.ge=t}}class kT{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class lw{constructor(){this.pe=0,this.ye=cw(),this.we=Zt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),t=Me(),s=Me();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:_e()}}),new zc(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=cw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class R4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Es(),this.$e=_h(),this.Ke=_h(),this.Ue=new ot(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,s=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Gp(l))if(s===0){const u=new ye(l.path);this.ze(t,u,Bt.newNoDocument(u,we.min()))}else Fe(s===1);else{const u=this.et(t);if(u!==s){const m=this.tt(e),p=m?this.nt(m,e,u):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,m;try{u=_i(s).toUint8Array()}catch(p){if(p instanceof nT)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bg(u,a,l)}catch(p){return No(p instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const u=this.ke.it(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const m=this.Xe(u);if(m){if(l.current&&Gp(m.target)){const p=new ye(m.target.path);this._t(p).has(u)||this.ut(u,p)||this.ze(u,p,Bt.newNoDocument(p,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let s=Me();this.Ke.forEach((l,u)=>{let m=!0;u.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const a=new Md(e,t,this.Ue,this.Qe,s);return this.Qe=Es(),this.$e=_h(),this.Ke=_h(),this.Ue=new ot(Ve),a}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new lw,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new lw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function _h(){return new ot(ye.comparator)}function cw(){return new ot(ye.comparator)}const N4={asc:"ASCENDING",desc:"DESCENDING"},C4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I4={and:"AND",or:"OR"};class D4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yp(n,e){return n.useProto3Json||Vc(e)?e:{value:e}}function rd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function j4(n,e){return rd(n,e.toTimestamp())}function kn(n){return Fe(!!n),we.fromTimestamp(function(t){const s=vi(t);return new It(s.seconds,s.nanos)}(n))}function Fg(n,e){return Xp(n,e).canonicalString()}function Xp(n,e){const t=function(a){return new Je(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PT(n){const e=Je.fromString(n);return Fe(FT(e)),e}function sd(n,e){return Fg(n.databaseId,e.path)}function yc(n,e){const t=PT(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(LT(t))}function VT(n,e){return Fg(n.databaseId,e)}function O4(n){const e=PT(n);return e.length===4?Je.emptyPath():LT(e)}function Wp(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LT(n){return Fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uw(n,e,t){return{name:sd(n,e),fields:t.value.mapValue.fields}}function k4(n,e){return"found"in e?function(s,a){Fe(!!a.found),a.found.name,a.found.updateTime;const l=yc(s,a.found.name),u=kn(a.found.updateTime),m=a.found.createTime?kn(a.found.createTime):we.min(),p=new fn({mapValue:{fields:a.found.fields}});return Bt.newFoundDocument(l,u,m,p)}(n,e):"missing"in e?function(s,a){Fe(!!a.missing),Fe(!!a.readTime);const l=yc(s,a.missing),u=kn(a.readTime);return Bt.newNoDocument(l,u)}(n,e):_e()}function M4(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(Fe(_===void 0||typeof _=="string"),Zt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Zt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(y){const _=y.code===void 0?te.UNKNOWN:jT(y.code);return new ce(_,y.message||"")}(u);t=new kT(s,a,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=yc(n,s.document.name),l=kn(s.document.updateTime),u=s.document.createTime?kn(s.document.createTime):we.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Bt.newFoundDocument(a,l,u,m),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Ph(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=yc(n,s.document),l=s.readTime?kn(s.readTime):we.min(),u=Bt.newNoDocument(a,l),m=s.removedTargetIds||[];t=new Ph([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=yc(n,s.document),l=s.removedTargetIds||[];t=new Ph([],l,a,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new T4(a,l),m=s.targetId;t=new OT(m,u)}}return t}function UT(n,e){let t;if(e instanceof Uc)t={update:uw(n,e.key,e.value)};else if(e instanceof kd)t={delete:sd(n,e.key)};else if(e instanceof Ai)t={update:uw(n,e.key,e.data),updateMask:H4(e.fieldMask)};else{if(!(e instanceof IT))return _e();t={verify:sd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const m=u.transform;if(m instanceof td)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Oo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nd)return{fieldPath:u.field.canonicalString(),increment:m.Ie};throw _e()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:j4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e()}(n,e.precondition)),t}function P4(n,e){return n&&n.length>0?(Fe(e!==void 0),n.map(t=>function(a,l){let u=a.updateTime?kn(a.updateTime):kn(l);return u.isEqual(we.min())&&(u=kn(l)),new _4(u,a.transformResults||[])}(t,e))):[]}function V4(n,e){return{documents:[VT(n,e.path)]}}function L4(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=VT(n,a);const l=function(y){if(y.length!==0)return BT(ur.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(_=>function(x){return{field:bo(x.field),direction:B4(x.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Yp(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:a}}function U4(n){let e=O4(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Fe(s===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(E){const x=zT(E);return x instanceof ur&&dT(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(x=>function(N){return new ed(wo(N.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(x))}(t.orderBy));let m=null;t.limit&&(m=function(E){let x;return x=typeof E=="object"?E.value:E,Vc(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(E){const x=!!E.before,I=E.values||[];return new Jh(I,x)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const x=!E.before,I=E.values||[];return new Jh(I,x)}(t.endAt)),a4(e,a,u,l,m,"F",p,y)}function z4(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=wo(t.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=wo(t.unaryFilter.field);return Et.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wo(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(wo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ur.create(t.compositeFilter.filters.map(s=>zT(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(n):_e()}function B4(n){return N4[n]}function F4(n){return C4[n]}function q4(n){return I4[n]}function bo(n){return{fieldPath:n.canonicalString()}}function wo(n){return Qt.fromServerFormat(n.fieldPath)}function BT(n){return n instanceof Et?function(t){if(t.op==="=="){if(Wb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(Xb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(Xb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:F4(t.op),value:t.value}}}(n):n instanceof ur?function(t){const s=t.getFilters().map(a=>BT(a));return s.length===1?s[0]:{compositeFilter:{op:q4(t.op),filters:s}}}(n):_e()}function H4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,s,a,l=we.min(),u=we.min(),m=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.Tt=e}}function G4(n){const e=U4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.Tn=new Q4}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(yi.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Q4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Dt(Je.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Dt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(qT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ko(0)}static Un(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="LruGarbageCollector",Y4=1048576;function fw([n,e],[t,s]){const a=Ve(n,t);return a===0?Ve(e,s):a}class X4{constructor(e){this.Hn=e,this.buffer=new Dt(fw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();fw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class W4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(dw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$o(t)?de(dw,"Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.er(3e5)})}}class Z4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Rd.ae);const s=new X4(t);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(hw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,a,l,u,m,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(s=E,m=Date.now(),this.removeTargets(e,s,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(y=Date.now(),vo()<=ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function J4(n,e){return new Z4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.changes=new xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&gc(s.mutation,a,Dn.empty(),It.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const a=la();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let u=lc();return l.forEach((m,p)=>{u=u.insert(m,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=la();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,s,a){let l=Es();const u=pc(),m=function(){return pc()}();return t.forEach((p,y)=>{const _=s.get(y.key);a.has(y.key)&&(_===void 0||_.mutation instanceof Ai)?l=l.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),gc(_.mutation,y,_.mutation.getFieldMask(),It.now())):u.set(y.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>u.set(y,_)),t.forEach((y,_)=>{var E;return m.set(y,new tk(_,(E=u.get(y))!==null&&E!==void 0?E:null))}),m))}recalculateAndSaveOverlays(e,t){const s=pc();let a=new ot((u,m)=>u-m),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=s.get(p)||Dn.empty();_=m.applyToLocalView(y,_),s.set(p,_);const E=(a.get(m.batchId)||Me()).add(p);a=a.insert(m.batchId,E)})}).next(()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,_=p.value,E=wT();_.forEach(x=>{if(!l.has(x)){const I=NT(t.get(x),s.get(x));I!==null&&E.set(x,I),l=l.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return se.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):se.resolve(la());let m=xc,p=l;return u.next(y=>se.forEach(y,(_,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{p=p.insert(_,x)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Me())).next(_=>({batchId:m,changes:bT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let a=lc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=lc();return this.indexManager.getCollectionParents(e,l).next(m=>se.forEach(m,p=>{const y=function(E,x){return new Lc(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next(_=>{_.forEach((E,x)=>{u=u.insert(E,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(u=>{l.forEach((p,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,Bt.newInvalidDocument(_)))});let m=lc();return u.forEach((p,y)=>{const _=l.get(p);_!==void 0&&gc(_.mutation,y,Dn.empty(),It.now()),Dd(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:kn(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:G4(a.bundledQuery),readTime:kn(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=la();return se.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.Et(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const a=la(),l=t.length+1,u=new ye(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new ot((y,_)=>y-_);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=l.get(y.largestBatchId);_===null&&(_=la(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=la(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>m.set(y,_)),!(m.size()>=a)););return se.resolve(m)}Et(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new x4(t,s));let l=this.Rr.get(t);l===void 0&&(l=Me(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Vr=new Dt(zt.mr),this.gr=new Dt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new zt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new zt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ye(new Je([])),s=new zt(t,e),a=new zt(t,e+1),l=[];return this.gr.forEachInRange([s,a],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Je([])),s=new zt(t,e),a=new zt(t,e+1);let l=Me();return this.gr.forEachInRange([s,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new zt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(zt.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new E4(l,t,s,a);this.mutationQueue.push(u);for(const m of a)this.Mr=this.Mr.add(new zt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Nr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?kg:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zt(t,0),a=new zt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,a],u=>{const m=this.Or(u.Cr);l.push(m)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Ve);return t.forEach(a=>{const l=new zt(a,0),u=new zt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],m=>{s=s.add(m.Cr)})}),se.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const u=new zt(new ye(l),0);let m=new Dt(Ve);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(m=m.add(p.Cr)),!0)},u),se.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Fe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return se.forEach(t.mutations,a=>{const l=new zt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new zt(t,0),a=this.Mr.firstAfterOrEqual(s);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let s=Es();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Bt.newInvalidDocument(a))}),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Es();const u=t.path,m=new ye(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||LO(VO(_),s)<=0||(a.has(_.key)||Dd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,s,a){_e()}qr(e,t){return se.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new lk(this)}getSize(e){return se.resolve(this.size)}}class lk extends ek{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.persistence=e,this.Qr=new xa(t=>Vg(t),Lg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new qg,this.targetCount=0,this.Ur=ko.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Qr.forEach((u,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),se.waitFor(l).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),se.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Rd(0),this.zr=!1,this.zr=!0,this.jr=new ik,this.referenceDelegate=e(this),this.Hr=new ck(this),this.indexManager=new K4,this.remoteDocumentCache=function(a){return new ok(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new $4(t),this.Yr=new rk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new ak(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const a=new uk(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return se.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class uk extends zO{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.ti=new qg,this.ni=null}static ri(e){return new Hg(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,s=>{const a=ye.fromPath(s);return this.si(e,a).next(l=>{l||t.removeEntry(a,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class id{constructor(e,t){this.persistence=e,this.oi=new xa(s=>qO(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=J4(this,t)}static ri(e,t){return new id(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(l=>l?se.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(m=>{m||(s++,l.removeEntry(u,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oh(e.data.value)),t}ar(e,t,s){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=a}static Yi(e,t){let s=Me(),a=Me();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new $g(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return RC()?8:BO(an())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,a,s).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new hk;return this._s(e,t,u).next(m=>{if(l.result=m,this.Xi)return this.us(e,t,u,m.size)})}).next(()=>l.result)}us(e,t,s,a){return s.documentReadCount<this.es?(vo()<=ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(vo()<=ke.DEBUG&&de("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(vo()<=ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(t))):se.resolve())}rs(e,t){if(tw(t))return se.resolve(null);let s=Vr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Qp(t,null,"F"),s=Vr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Me(...l);return this.ns.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(t,m);return this.ls(t,y,u,p.readTime)?this.rs(e,Qp(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,s,a){return tw(t)||a.isEqual(we.min())?se.resolve(null):this.ns.getDocuments(e,s).next(l=>{const u=this.cs(t,l);return this.ls(t,u,s,a)?se.resolve(null):(vo()<=ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_o(t)),this.hs(e,u,t,PO(a,xc)).next(m=>m))})}cs(e,t){let s=new Dt(vT(e));return t.forEach((a,l)=>{Dd(e,l)&&(s=s.add(l))}),s}ls(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,s){return vo()<=ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ns.getDocumentsMatchingQuery(e,t,yi.min(),s)}hs(e,t,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",fk=3e8;class mk{constructor(e,t,s,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new ot(Ve),this.Is=new xa(l=>Vg(l),Lg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function pk(n,e,t,s){return new mk(n,e,t,s)}async function $T(n,e){const t=Te(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],m=[];let p=Me();for(const y of a){u.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){m.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:u,addedBatchIds:m}))})})}function gk(n,e){const t=Te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,_){const E=y.batch,x=E.keys();let I=se.resolve();return x.forEach(N=>{I=I.next(()=>_.getEntry(p,N)).next(V=>{const C=y.docVersions.get(N);Fe(C!==null),V.version.compareTo(C)<0&&(E.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),_.addEntry(V)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,E))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function GT(n){const e=Te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function yk(n,e){const t=Te(n),s=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const m=[];e.targetChanges.forEach((_,E)=>{const x=a.get(E);if(!x)return;m.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,E)));let I=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),a=a.insert(E,I),function(V,C,F){return V.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=fk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(x,I,_)&&m.push(t.Hr.updateTargetData(l,I))});let p=Es(),y=Me();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),m.push(vk(l,u,e.documentUpdates).next(_=>{p=_.Vs,y=_.fs})),!s.isEqual(we.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(E=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(_)}return se.waitFor(m).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=a,l))}function vk(n,e,t){let s=Me(),a=Me();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let u=Es();return t.forEach((m,p)=>{const y=l.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):de(Gg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:u,fs:a}})}function _k(n,e){const t=Te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=kg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bk(n,e){const t=Te(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Hr.getTargetData(s,e).next(l=>l?(a=l,se.resolve(a)):t.Hr.allocateTargetId(s).next(u=>(a=new hi(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Zp(n,e,t){const s=Te(n),a=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!$o(u))throw u;de(Gg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function mw(n,e,t){const s=Te(n);let a=we.min(),l=Me();return s.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,_){const E=Te(p),x=E.Is.get(_);return x!==void 0?se.resolve(E.Ts.get(x)):E.Hr.getTargetData(y,_)}(s,u,Vr(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(u,m.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(u,e,t?a:we.min(),t?l:Me())).next(m=>(wk(s,l4(e),m),{documents:m,gs:l})))}function wk(n,e,t){let s=n.Es.get(e)||we.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Es.set(e,s)}class pw{constructor(){this.activeTargetIds=m4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ek{constructor(){this.ho=new pw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new pw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="ConnectivityMonitor";class yw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(gw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(gw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Jp(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sk{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,t,s,a,l){const u=Jp(),m=this.bo(e,t.toUriEncodedString());de(mp,`Sending RPC '${e}' ${u}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,m,p,s).then(y=>(de(mp,`Received RPC '${e}' ${u}: `,y),y),y=>{throw No(mp,`RPC '${e}' ${u} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,t,s,a,l,u){return this.So(e,t,s,a,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const s=Tk[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class Rk extends Sk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,a){const l=Jp();return new Promise((u,m)=>{const p=new Kx;p.setWithCredentials(!0),p.listenOnce(Qx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case jh.NO_ERROR:const _=p.getResponseJson();de(nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case jh.TIMEOUT:de(nn,`RPC '${e}' ${l} timed out`),m(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const E=p.getStatus();if(de(nn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const I=x==null?void 0:x.error;if(I&&I.status&&I.message){const N=function(C){const F=C.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(F)>=0?F:te.UNKNOWN}(I.status);m(new ce(N,I.message))}else m(new ce(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(te.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{de(nn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(a);de(nn,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",y,s,15)})}Wo(e,t,s){const a=Jp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Wx(),m=Xx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");de(nn,`Creating RPC '${e}' stream ${a}: ${_}`,p);const E=u.createWebChannel(_,p);let x=!1,I=!1;const N=new Ak({Fo:C=>{I?de(nn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(x||(de(nn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),x=!0),de(nn,`RPC '${e}' stream ${a} sending:`,C),E.send(C))},Mo:()=>E.close()}),V=(C,F,G)=>{C.listen(F,Q=>{try{G(Q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return V(E,oc.EventType.OPEN,()=>{I||(de(nn,`RPC '${e}' stream ${a} transport opened.`),N.Qo())}),V(E,oc.EventType.CLOSE,()=>{I||(I=!0,de(nn,`RPC '${e}' stream ${a} transport closed`),N.Ko())}),V(E,oc.EventType.ERROR,C=>{I||(I=!0,No(nn,`RPC '${e}' stream ${a} transport errored:`,C),N.Ko(new ce(te.UNAVAILABLE,"The operation could not be completed")))}),V(E,oc.EventType.MESSAGE,C=>{var F;if(!I){const G=C.data[0];Fe(!!G);const Q=G,Y=(Q==null?void 0:Q.error)||((F=Q[0])===null||F===void 0?void 0:F.error);if(Y){de(nn,`RPC '${e}' stream ${a} received error:`,Y);const Z=Y.status;let ne=function(A){const j=wt[A];if(j!==void 0)return jT(j)}(Z),D=Y.message;ne===void 0&&(ne=te.INTERNAL,D="Unknown error status: "+Z+" with message "+Y.message),I=!0,N.Ko(new ce(ne,D)),E.close()}else de(nn,`RPC '${e}' stream ${a} received:`,G),N.Uo(G)}}),V(m,Yx.STAT_EVENT,C=>{C.stat===Fp.PROXY?de(nn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===Fp.NOPROXY&&de(nn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n){return new D4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="PersistentStream";class KT{constructor(e,t,s,a,l,u,m,p){this.Ti=e,this.n_=s,this.r_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Kg(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===t&&this.V_(s,a)},s=>{e(()=>{const a=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(de(vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nk extends KT{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=M4(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?kn(u.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Wp(this.serializer),t.addTarget=function(l,u){let m;const p=u.target;if(m=Gp(p)?{documents:V4(l,p)}:{query:L4(l,p).ht},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=MT(l,u.resumeToken);const y=Yp(l,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(we.min())>0){m.readTime=rd(l,u.snapshotVersion.toTimestamp());const y=Yp(l,u.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=z4(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Wp(this.serializer),t.removeTarget=e,this.I_(t)}}class Ck extends KT{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=P4(e.writeResults,e.commitTime),s=kn(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Wp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>UT(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{}class Dk extends Ik{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.So(e,Xp(t,s),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(te.UNKNOWN,l.toString())})}Co(e,t,s,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Co(e,Xp(t,s),a,u,m,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ws(t),this.N_=!1):de("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class Ok{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{s.enqueueAndForget(async()=>{Ta(this)&&(de(ya,"Restarting streams for network reachability change."),await async function(p){const y=Te(p);y.W_.add(4),await Bc(y),y.j_.set("Unknown"),y.W_.delete(4),await Vd(y)}(this))})}),this.j_=new jk(s,a)}}async function Vd(n){if(Ta(n))for(const e of n.G_)await e(!0)}async function Bc(n){for(const e of n.G_)await e(!1)}function QT(n,e){const t=Te(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Wg(t)?Xg(t):Go(t).c_()&&Yg(t,e))}function Qg(n,e){const t=Te(n),s=Go(t);t.U_.delete(e),s.c_()&&YT(t,e),t.U_.size===0&&(s.c_()?s.P_():Ta(t)&&t.j_.set("Unknown"))}function Yg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(n).y_(e)}function YT(n,e){n.H_.Ne(e),Go(n).w_(e)}function Xg(n){n.H_=new R4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.j_.B_()}function Wg(n){return Ta(n)&&!Go(n).u_()&&n.U_.size>0}function Ta(n){return Te(n).W_.size===0}function XT(n){n.H_=void 0}async function kk(n){n.j_.set("Online")}async function Mk(n){n.U_.forEach((e,t)=>{Yg(n,e)})}async function Pk(n,e){XT(n),Wg(n)?(n.j_.q_(e),Xg(n)):n.j_.set("Unknown")}async function Vk(n,e,t){if(n.j_.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const m of l.targetIds)a.U_.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.U_.delete(m),a.H_.removeTarget(m))}(n,e)}catch(s){de(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ad(n,s)}else if(e instanceof Ph?n.H_.We(e):e instanceof OT?n.H_.Ze(e):n.H_.je(e),!t.isEqual(we.min()))try{const s=await GT(n.localStore);t.compareTo(s)>=0&&await function(l,u){const m=l.H_.ot(u);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(y);_&&l.U_.set(y,_.withResumeToken(p.resumeToken,u))}}),m.targetMismatches.forEach((p,y)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(Zt.EMPTY_BYTE_STRING,_.snapshotVersion)),YT(l,p);const E=new hi(_.target,p,y,_.sequenceNumber);Yg(l,E)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(s){de(ya,"Failed to raise snapshot:",s),await ad(n,s)}}async function ad(n,e,t){if(!$o(e))throw e;n.W_.add(1),await Bc(n),n.j_.set("Offline"),t||(t=()=>GT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(ya,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Vd(n)})}function WT(n,e){return e().catch(t=>ad(n,t,e))}async function Ld(n){const e=Te(n),t=wi(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:kg;for(;Lk(e);)try{const a=await _k(e.localStore,s);if(a===null){e.K_.length===0&&t.P_();break}s=a.batchId,Uk(e,a)}catch(a){await ad(e,a)}ZT(e)&&JT(e)}function Lk(n){return Ta(n)&&n.K_.length<10}function Uk(n,e){n.K_.push(e);const t=wi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function ZT(n){return Ta(n)&&!wi(n).u_()&&n.K_.length>0}function JT(n){wi(n).start()}async function zk(n){wi(n).C_()}async function Bk(n){const e=wi(n);for(const t of n.K_)e.b_(t.mutations)}async function Fk(n,e,t){const s=n.K_.shift(),a=zg.from(s,e,t);await WT(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Ld(n)}async function qk(n,e){e&&wi(n).S_&&await async function(s,a){if(function(u){return DT(u)&&u!==te.ABORTED}(a.code)){const l=s.K_.shift();wi(s).h_(),await WT(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ld(s)}}(n,e),ZT(n)&&JT(n)}async function _w(n,e){const t=Te(n);t.asyncQueue.verifyOperationInProgress(),de(ya,"RemoteStore received new credentials");const s=Ta(t);t.W_.add(3),await Bc(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Vd(t)}async function Hk(n,e){const t=Te(n);e?(t.W_.delete(2),await Vd(t)):e||(t.W_.add(2),await Bc(t),t.j_.set("Unknown"))}function Go(n){return n.J_||(n.J_=function(t,s,a){const l=Te(t);return l.M_(),new Nk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:kk.bind(null,n),No:Mk.bind(null,n),Lo:Pk.bind(null,n),p_:Vk.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Wg(n)?Xg(n):n.j_.set("Unknown")):(await n.J_.stop(),XT(n))})),n.J_}function wi(n){return n.Y_||(n.Y_=function(t,s,a){const l=Te(t);return l.M_(),new Ck(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:zk.bind(null,n),Lo:qk.bind(null,n),D_:Bk.bind(null,n),v_:Fk.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ld(n)):(await n.Y_.stop(),n.K_.length>0&&(de(ya,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,m=new Zg(e,t,u,a,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(n,e){if(ws("AsyncQueue",`${e}: ${n}`),$o(n))return new ce(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=lc(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.Z_=new ot(ye.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Mo{constructor(e,t,s,a,l,u,m,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new Mo(e,t,Ro.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Gk{constructor(){this.queries=ww(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const a=Te(t),l=a.queries;a.queries=ww(),l.forEach((u,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function ww(){return new xa(n=>yT(n),Id)}async function ey(n,e){const t=Te(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(s=2):(l=new $k,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const m=Jg(u,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&ny(t)}async function ty(n,e){const t=Te(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Kk(n,e){const t=Te(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const m of u.ta)m.oa(a)&&(s=!0);u.ea=a}}s&&ny(t)}function Qk(n,e,t){const s=Te(n),a=s.queries.get(e);if(a)for(const l of a.ta)l.onError(t);s.queries.delete(e)}function ny(n){n.ia.forEach(e=>{e.next()})}var eg,Ew;(Ew=eg||(eg={}))._a="default",Ew.Cache="cache";class ry{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.key=e}}class tS{constructor(e){this.key=e}}class Yk{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=vT(e),this.wa=new Ro(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new bw,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,m=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,E)=>{const x=a.get(_),I=Dd(this.query,E)?E:null,N=!!x&&this.mutatedKeys.has(x.key),V=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;x&&I?x.data.isEqual(I.data)?N!==V&&(s.track({type:3,doc:I}),C=!0):this.va(x,I)||(s.track({type:2,doc:I}),C=!0,(p&&this.ya(I,p)>0||y&&this.ya(I,y)<0)&&(m=!0)):!x&&I?(s.track({type:0,doc:I}),C=!0):x&&!I&&(s.track({type:1,doc:x}),C=!0,(p||y)&&(m=!0)),C&&(I?(u=u.add(I),l=V?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:u,Da:s,ls:m,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,E)=>function(I,N){const V=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return V(I)-V(N)}(_.type,E.type)||this.ya(_.doc,E.doc)),this.Ca(s),a=a!=null&&a;const m=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,y=p!==this.ga;return this.ga=p,u.length!==0||y?{snapshot:new Mo(this.query,e.wa,l,u,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new tS(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new eS(s))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sy="SyncEngine";class Xk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Wk{constructor(e){this.key=e,this.Ba=!1}}class Zk{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new xa(m=>yT(m),Id),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ka=new Map,this.Ua=new qg,this.Wa={},this.Ga=new Map,this.za=ko.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Jk(n,e,t=!0){const s=oS(n);let a;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await nS(s,e,t,!0),a}async function eM(n,e){const t=oS(n);await nS(t,e,!0,!1)}async function nS(n,e,t,s){const a=await bk(n.localStore,Vr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await tM(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&QT(n.remoteStore,a),m}async function tM(n,e,t,s,a){n.Ha=(E,x,I)=>async function(V,C,F,G){let Q=C.view.ba(F);Q.ls&&(Q=await mw(V.localStore,C.query,!1).then(({documents:D})=>C.view.ba(D,Q)));const Y=G&&G.targetChanges.get(C.targetId),Z=G&&G.targetMismatches.get(C.targetId)!=null,ne=C.view.applyChanges(Q,V.isPrimaryClient,Y,Z);return Tw(V,C.targetId,ne.Ma),ne.snapshot}(n,E,x,I);const l=await mw(n.localStore,e,!0),u=new Yk(e,l.gs),m=u.ba(l.documents),p=zc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),y=u.applyChanges(m,n.isPrimaryClient,p);Tw(n,t,y.Ma);const _=new Xk(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function nM(n,e,t){const s=Te(n),a=s.ka.get(e),l=s.qa.get(a.targetId);if(l.length>1)return s.qa.set(a.targetId,l.filter(u=>!Id(u,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Zp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Qg(s.remoteStore,a.targetId),tg(s,a.targetId)}).catch(Ho)):(tg(s,a.targetId),await Zp(s.localStore,a.targetId,!0))}async function rM(n,e){const t=Te(n),s=t.ka.get(e),a=t.qa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Qg(t.remoteStore,s.targetId))}async function sM(n,e,t){const s=hM(n);try{const a=await function(u,m){const p=Te(u),y=It.now(),_=m.reduce((I,N)=>I.add(N.key),Me());let E,x;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=Es(),V=Me();return p.ds.getEntries(I,_).next(C=>{N=C,N.forEach((F,G)=>{G.isValidDocument()||(V=V.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,N)).next(C=>{E=C;const F=[];for(const G of m){const Q=w4(G,E.get(G.key).overlayedDocument);Q!=null&&F.push(new Ai(G.key,Q,cT(Q.value.mapValue),Yt.exists(!0)))}return p.mutationQueue.addMutationBatch(I,y,F,m)}).next(C=>{x=C;const F=C.applyToLocalDocumentSet(E,V);return p.documentOverlayCache.saveOverlays(I,C.batchId,F)})}).then(()=>({batchId:x.batchId,changes:bT(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,m,p){let y=u.Wa[u.currentUser.toKey()];y||(y=new ot(Ve)),y=y.insert(m,p),u.Wa[u.currentUser.toKey()]=y}(s,a.batchId,t),await Fc(s,a.changes),await Ld(s.remoteStore)}catch(a){const l=Jg(a,"Failed to persist write");t.reject(l)}}async function rS(n,e){const t=Te(n);try{const s=await yk(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Ka.get(l);u&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Fe(u.Ba):a.removedDocuments.size>0&&(Fe(u.Ba),u.Ba=!1))}),await Fc(t,s,e)}catch(s){await Ho(s)}}function xw(n,e,t){const s=Te(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.ka.forEach((l,u)=>{const m=u.view.sa(e);m.snapshot&&a.push(m.snapshot)}),function(u,m){const p=Te(u);p.onlineState=m;let y=!1;p.queries.forEach((_,E)=>{for(const x of E.ta)x.sa(m)&&(y=!0)}),y&&ny(p)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iM(n,e,t){const s=Te(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Ka.get(e),l=a&&a.key;if(l){let u=new ot(ye.comparator);u=u.insert(l,Bt.newNoDocument(l,we.min()));const m=Me().add(l),p=new Md(we.min(),new Map,new ot(Ve),u,m);await rS(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),iy(s)}else await Zp(s.localStore,e,!1).then(()=>tg(s,e,t)).catch(Ho)}async function aM(n,e){const t=Te(n),s=e.batch.batchId;try{const a=await gk(t.localStore,e);iS(t,s,null),sS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Fc(t,a)}catch(a){await Ho(a)}}async function oM(n,e,t){const s=Te(n);try{const a=await function(u,m){const p=Te(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,m).next(E=>(Fe(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(s.localStore,e);iS(s,e,t),sS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Fc(s,a)}catch(a){await Ho(a)}}function sS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function iS(n,e,t){const s=Te(n);let a=s.Wa[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function tg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.qa.get(e))n.ka.delete(s),t&&n.La.Ja(s,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(s=>{n.Ua.containsKey(s)||aS(n,s)})}function aS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Qg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),iy(n))}function Tw(n,e,t){for(const s of t)s instanceof eS?(n.Ua.addReference(s.key,e),lM(n,s)):s instanceof tS?(de(sy,"Document no longer in limbo: "+s.key),n.Ua.removeReference(s.key,e),n.Ua.containsKey(s.key)||aS(n,s.key)):_e()}function lM(n,e){const t=e.key,s=t.path.canonicalString();n.$a.get(t)||n.Qa.has(s)||(de(sy,"New document in limbo: "+t),n.Qa.add(s),iy(n))}function iy(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(Je.fromString(e)),s=n.za.next();n.Ka.set(s,new Wk(t)),n.$a=n.$a.insert(t,s),QT(n.remoteStore,new hi(Vr(Cd(t.path)),s,"TargetPurposeLimboResolution",Rd.ae))}}async function Fc(n,e,t){const s=Te(n),a=[],l=[],u=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{u.push(s.Ha(p,e,t).then(y=>{var _;if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){a.push(y);const E=$g.Yi(p.targetId,y);l.push(E)}}))}),await Promise.all(u),s.La.p_(a),await async function(p,y){const _=Te(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>se.forEach(y,x=>se.forEach(x.Hi,I=>_.persistence.referenceDelegate.addReference(E,x.targetId,I)).next(()=>se.forEach(x.Ji,I=>_.persistence.referenceDelegate.removeReference(E,x.targetId,I)))))}catch(E){if(!$o(E))throw E;de(Gg,"Failed to update sequence numbers: "+E)}for(const E of y){const x=E.targetId;if(!E.fromCache){const I=_.Ts.get(x),N=I.snapshotVersion,V=I.withLastLimboFreeSnapshotVersion(N);_.Ts=_.Ts.insert(x,V)}}}(s.localStore,l))}async function cM(n,e){const t=Te(n);if(!t.currentUser.isEqual(e)){de(sy,"User change. New user:",e.toKey());const s=await $T(t.localStore,e);t.currentUser=e,function(l,u){l.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(te.CANCELLED,u))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fc(t,s.Rs)}}function uM(n,e){const t=Te(n),s=t.Ka.get(e);if(s&&s.Ba)return Me().add(s.key);{let a=Me();const l=t.qa.get(e);if(!l)return a;for(const u of l){const m=t.ka.get(u);a=a.unionWith(m.view.Sa)}return a}}function oS(n){const e=Te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.La.p_=Kk.bind(null,e.eventManager),e.La.Ja=Qk.bind(null,e.eventManager),e}function hM(n){const e=Te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oM.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return pk(this.persistence,new dk,e.initialUser,this.serializer)}Xa(e){return new HT(Hg.ri,this.serializer)}Za(e){return new Ek}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class dM extends od{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Fe(this.persistence.referenceDelegate instanceof id);const s=this.persistence.referenceDelegate.garbageCollector;return new W4(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new HT(s=>id.ri(s,t),this.serializer)}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cM.bind(null,this.syncEngine),await Hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gk}()}createDatastore(e){const t=Pd(e.databaseInfo.databaseId),s=function(l){return new Rk(l)}(e.databaseInfo);return function(l,u,m,p){return new Dk(l,u,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,u,m){return new Ok(s,a,l,u,m)}(this.localStore,this.datastore,e.asyncQueue,t=>xw(this.syncEngine,t,0),function(){return yw.D()?new yw:new xk}())}createSyncEngine(e,t){return function(a,l,u,m,p,y,_){const E=new Zk(a,l,u,m,p,y);return _&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Te(a);de(ya,"RemoteStore shutting down."),l.W_.add(5),await Bc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,l){const u=Te(a),m={documents:l.map(E=>sd(u.serializer,E))},p=await u.Co("BatchGetDocuments",u.serializer.databaseId,Je.emptyPath(),m,l.length),y=new Map;p.forEach(E=>{const x=k4(u.serializer,E);y.set(x.key.toString(),x)});const _=[];return l.forEach(E=>{const x=y.get(E.toString());Fe(!!x),_.push(x)}),_}(this.datastore,e);return t.forEach(s=>this.recordVersion(s)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new kd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,s)=>{const a=ye.fromPath(s);this.mutations.push(new IT(a,this.precondition(a)))}),await async function(s,a){const l=Te(s),u={writes:a.map(m=>UT(l.serializer,m))};await l.So("Commit",l.serializer.databaseId,Je.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e();t=we.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new ce(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(we.min())?Yt.exists(!1):Yt.updateTime(t):Yt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(we.min()))throw new ce(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yt.updateTime(t)}return Yt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t,s,a,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=l,this.Tu=s.maxAttempts,this.a_=new Kg(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new fM(this.datastore),t=this.du(e);t&&t.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(a=>{this.Au(a)}))}).catch(s=>{this.Au(s)})})}du(e){try{const t=this.updateFunction(e);return!Vc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!DT(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="FirestoreClient";class pM{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=Jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async u=>{de(Ei,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(de(Ei,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Jg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gp(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ei,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await $T(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Sw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gM(n);de(Ei,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>_w(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>_w(e.remoteStore,a)),n._onlineComponents=e}async function gM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ei,"Using user provided OfflineComponentProvider");try{await gp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await gp(n,new od)}}else de(Ei,"Using default OfflineComponentProvider"),await gp(n,new dM(void 0));return n._offlineComponents}async function oy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ei,"Using user provided OnlineComponentProvider"),await Sw(n,n._uninitializedComponentsProvider._online)):(de(Ei,"Using default OnlineComponentProvider"),await Sw(n,new ng))),n._onlineComponents}function yM(n){return oy(n).then(e=>e.syncEngine)}function vM(n){return oy(n).then(e=>e.datastore)}async function ld(n){const e=await oy(n),t=e.eventManager;return t.onListen=Jk.bind(null,e.syncEngine),t.onUnlisten=nM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rM.bind(null,e.syncEngine),t}function _M(n,e,t={}){const s=new Pr;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const _=new ay({next:x=>{_.su(),u.enqueueAndForget(()=>ty(l,E));const I=x.docs.has(m);!I&&x.fromCache?y.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&x.fromCache&&p&&p.source==="server"?y.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),E=new ry(Cd(m.path),_,{includeMetadataChanges:!0,Ta:!0});return ey(l,E)}(await ld(n),n.asyncQueue,e,t,s)),s.promise}function bM(n,e,t={}){const s=new Pr;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const _=new ay({next:x=>{_.su(),u.enqueueAndForget(()=>ty(l,E)),x.fromCache&&p.source==="server"?y.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),E=new ry(m,_,{includeMetadataChanges:!0,Ta:!0});return ey(l,E)}(await ld(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n,e,t){if(!t)throw new ce(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wM(n,e,t,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rw(n){if(!ye.isDocumentKey(n))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nw(n){if(ye.isDocumentKey(n))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ud(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e()}function mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ud(n);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firestore.googleapis.com",Cw=!0;class Iw{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=Cw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Cw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y4)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iw(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new NO;switch(s.type){case"firstParty":return new jO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Aw.get(t);s&&(de("ComponentProvider","Removing Datastore"),Aw.delete(t),s.terminate())}(this),Promise.resolve()}}function EM(n,e,t,s={}){var a;const l=(n=mn(n,zd))._getSettings(),u=`${e}:${t}`;if(l.host!==uS&&l.host!==u&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=rn.MOCK_USER;else{m=wC(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rn(y)}n._authCredentials=new CO(new Zx(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class pi extends Sa{constructor(e,t,s){super(e,t,Cd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ye(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function yp(n,e,...t){if(n=at(n),cS("collection","path",e),n instanceof zd){const s=Je.fromString(e,...t);return Nw(s),new pi(n,null,s)}{if(!(n instanceof Xt||n instanceof pi))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Je.fromString(e,...t));return Nw(s),new pi(n.firestore,null,s)}}function or(n,e,...t){if(n=at(n),arguments.length===1&&(e=Jx.newId()),cS("doc","path",e),n instanceof zd){const s=Je.fromString(e,...t);return Rw(s),new Xt(n,null,new ye(s))}{if(!(n instanceof Xt||n instanceof pi))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Je.fromString(e,...t));return Rw(s),new Xt(n.firestore,n instanceof pi?n.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="AsyncQueue";class jw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Kg(this,"async_queue_retry"),this.Su=()=>{const s=pp();s&&de(Dw,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Pr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$o(e))throw e;de(Dw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),m}(s);throw ws("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Zg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Ow(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class zr extends zd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new jw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jw(e),this._firestoreClient=void 0,await e}}}function xM(n,e){const t=typeof n=="object"?n:vg(),s=typeof n=="string"?n:Wh,a=wa(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=_C("firestore");l&&EM(a,...l)}return a}function qc(n){if(n._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TM(n),n._firestoreClient}function TM(n){var e,t,s;const a=n._freezeSettings(),l=function(m,p,y,_){return new GO(m,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,lS(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new pM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(Zt.fromBase64String(e))}catch(t){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new va(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^__.*__$/;class AM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uc(e,this.data,t,this.fieldTransforms)}}class hS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ai(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Bd{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(dS(this.Lu)&&SM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class RM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Pd(e)}ju(e,t,s,a=!1){return new Bd({Lu:e,methodName:t,zu:s,path:Qt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gc(n){const e=n._freezeSettings(),t=Pd(n._databaseId);return new RM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uy(n,e,t,s,a,l={}){const u=n.ju(l.merge||l.mergeFields?2:0,e,t,a);fy("Data must be an object, but it was:",u,s);const m=gS(s,u);let p,y;if(l.merge)p=new Dn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const x=rg(e,E,t);if(!u.contains(x))throw new ce(te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);vS(_,x)||_.push(x)}p=new Dn(_),y=u.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=u.fieldTransforms;return new AM(new fn(m),p,y)}class Fd extends $c{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function fS(n,e,t){return new Bd({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hy extends $c{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=fS(this,e,!0),s=this.Hu.map(l=>Aa(l,t)),a=new jo(s);return new RT(e.path,a)}isEqual(e){return e instanceof hy&&ha(this.Hu,e.Hu)}}class dy extends $c{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=fS(this,e,!0),s=this.Hu.map(l=>Aa(l,t)),a=new Oo(s);return new RT(e.path,a)}isEqual(e){return e instanceof dy&&ha(this.Hu,e.Hu)}}function mS(n,e,t,s){const a=n.ju(1,e,t);fy("Data must be an object, but it was:",a,s);const l=[],u=fn.empty();Si(s,(p,y)=>{const _=my(e,p,t);y=at(y);const E=a.Ku(_);if(y instanceof Fd)l.push(_);else{const x=Aa(y,E);x!=null&&(l.push(_),u.set(_,x))}});const m=new Dn(l);return new hS(u,m,a.fieldTransforms)}function pS(n,e,t,s,a,l){const u=n.ju(1,e,t),m=[rg(e,s,t)],p=[a];if(l.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)m.push(rg(e,l[x])),p.push(l[x+1]);const y=[],_=fn.empty();for(let x=m.length-1;x>=0;--x)if(!vS(y,m[x])){const I=m[x];let N=p[x];N=at(N);const V=u.Ku(I);if(N instanceof Fd)y.push(I);else{const C=Aa(N,V);C!=null&&(y.push(I),_.set(I,C))}}const E=new Dn(y);return new hS(_,E,u.fieldTransforms)}function NM(n,e,t,s=!1){return Aa(t,n.ju(s?4:3,e))}function Aa(n,e){if(yS(n=at(n)))return fy("Unsupported field value:",e,n),gS(n,e);if(n instanceof $c)return function(s,a){if(!dS(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const l=[];let u=0;for(const m of s){let p=Aa(m,a.Uu(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return p4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=It.fromDate(s);return{timestampValue:rd(a.serializer,l)}}if(s instanceof It){const l=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(s instanceof ly)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof va)return{bytesValue:MT(a.serializer,s._byteString)};if(s instanceof Xt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Fg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof cy)return function(u,m){return{mapValue:{fields:{[oT]:{stringValue:lT},[Zh]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ug(m.serializer,y)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Ud(s)}`)}(n,e)}function gS(n,e){const t={};return tT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(n,(s,a)=>{const l=Aa(a,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function yS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof ly||n instanceof va||n instanceof Xt||n instanceof $c||n instanceof cy)}function fy(n,e,t){if(!yS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=Ud(t);throw s==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+s)}}function rg(n,e,t){if((e=at(e))instanceof Hc)return e._internalPath;if(typeof e=="string")return my(n,e);throw cd("Field path arguments must be of type string or ",n,!1,void 0,t)}const CM=new RegExp("[~\\*/\\[\\]]");function my(n,e,t){if(e.search(CM)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hc(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cd(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new ce(te.INVALID_ARGUMENT,m+n+p)}function vS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class IM extends ud{data(){return super.data()}}function py(n,e){return typeof e=="string"?my(n,e):e instanceof Hc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class DM extends gy{}function kw(n,e,...t){let s=[];e instanceof gy&&s.push(e),s=s.concat(t),function(l){const u=l.filter(p=>p instanceof yy).length,m=l.filter(p=>p instanceof qd).length;if(u>1||u>0&&m>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class qd extends DM{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new qd(e,t,s)}_apply(e){const t=this._parse(e);return bS(e._query,t),new Sa(e.firestore,e.converter,Kp(e._query,t))}_parse(e){const t=Gc(e.firestore);return function(l,u,m,p,y,_,E){let x;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Pw(E,_);const N=[];for(const V of E)N.push(Mw(p,l,V));x={arrayValue:{values:N}}}else x=Mw(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Pw(E,_),x=NM(m,u,E,_==="in"||_==="not-in");return Et.create(y,_,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vp(n,e,t){const s=e,a=py("where",n);return qd._create(a,s,t)}class yy extends gy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const m=l.getFlattenedFilters();for(const p of m)bS(u,p),u=Kp(u,p)}(e._query,t),new Sa(e.firestore,e.converter,Kp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Mw(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(e)&&t.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yb(n,new ye(s))}if(t instanceof Xt)return Yb(n,t._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(t)}.`)}function Pw(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bS(n,e){const t=function(a,l){for(const u of a)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wS{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Si(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Zh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(u=>pt(u.doubleValue));return new cy(l)}convertGeoPoint(e){return new ly(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Nd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=vi(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Je.fromString(e);Fe(FT(s));const a=new Sc(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(t)||ws(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class jM extends wS{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _y extends ud{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(py("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Vh extends _y{data(e={}){return super.data(e)}}class ES{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new xo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Vh(this._firestore,this._userDataWriter,s.key,s,new xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(m=>{const p=new Vh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new xo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new Vh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new xo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,_=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),_=u.indexOf(m.doc.key)),{type:OM(m.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){n=mn(n,Xt);const e=mn(n.firestore,zr);return _M(qc(e),n._key).then(t=>SS(e,n,t))}class Hd extends wS{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function Vw(n){n=mn(n,Sa);const e=mn(n.firestore,zr),t=qc(e),s=new Hd(e);return _S(n._query),bM(t,n._query).then(a=>new ES(e,s,n,a))}function sg(n,e,t){n=mn(n,Xt);const s=mn(n.firestore,zr),a=vy(n.converter,e,t);return $d(s,[uy(Gc(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Yt.none())])}function Rc(n,e,t,...s){n=mn(n,Xt);const a=mn(n.firestore,zr),l=Gc(a);let u;return u=typeof(e=at(e))=="string"||e instanceof Hc?pS(l,"updateDoc",n._key,e,t,s):mS(l,"updateDoc",n._key,e),$d(a,[u.toMutation(n._key,Yt.exists(!0))])}function kM(n){return $d(mn(n.firestore,zr),[new kd(n._key,Yt.none())])}function MM(n,e){const t=mn(n.firestore,zr),s=or(n),a=vy(n.converter,e);return $d(t,[uy(Gc(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Yt.exists(!1))]).then(()=>s)}function TS(n,...e){var t,s,a;n=at(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Ow(e[u])||(l=e[u],u++);const m={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Ow(e[u])){const E=e[u];e[u]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[u+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),e[u+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let p,y,_;if(n instanceof Xt)y=mn(n.firestore,zr),_=Cd(n._key.path),p={next:E=>{e[u]&&e[u](SS(y,n,E))},error:e[u+1],complete:e[u+2]};else{const E=mn(n,Sa);y=mn(E.firestore,zr),_=E._query;const x=new Hd(y);p={next:I=>{e[u]&&e[u](new ES(y,x,E,I))},error:e[u+1],complete:e[u+2]},_S(n._query)}return function(x,I,N,V){const C=new ay(V),F=new ry(I,C,N);return x.asyncQueue.enqueueAndForget(async()=>ey(await ld(x),F)),()=>{C.su(),x.asyncQueue.enqueueAndForget(async()=>ty(await ld(x),F))}}(qc(y),_,m,p)}function $d(n,e){return function(s,a){const l=new Pr;return s.asyncQueue.enqueueAndForget(async()=>sM(await yM(s),a,l)),l.promise}(qc(n),e)}function SS(n,e,t){const s=t.docs.get(e._key),a=new Hd(n);return new _y(n,a,e._key,s,new xo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={maxAttempts:5};function uc(n,e){if((n=at(n)).firestore!==e)throw new ce(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gc(e)}get(e){const t=uc(e,this._firestore),s=new jM(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return _e();const l=a[0];if(l.isFoundDocument())return new ud(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new ud(this._firestore,s,t._key,null,t.converter);throw _e()})}set(e,t,s){const a=uc(e,this._firestore),l=vy(a.converter,t,s),u=uy(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,u),this}update(e,t,s,...a){const l=uc(e,this._firestore);let u;return u=typeof(t=at(t))=="string"||t instanceof Hc?pS(this._dataReader,"Transaction.update",l._key,t,s,a):mS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=uc(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM extends VM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uc(e,this._firestore),s=new Hd(this._firestore);return super.get(e).then(a=>new _y(this._firestore,s,t._key,a._document,new xo(!1,!1),t.converter))}}function UM(n,e,t){n=mn(n,zr);const s=Object.assign(Object.assign({},PM),t);return function(l){if(l.maxAttempts<1)throw new ce(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,u,m){const p=new Pr;return l.asyncQueue.enqueueAndForget(async()=>{const y=await vM(l);new mM(l.asyncQueue,y,m,u,p).Iu()}),p.promise}(qc(n),a=>e(new LM(n,a)),s)}function zM(...n){return new hy("arrayUnion",n)}function BM(...n){return new dy("arrayRemove",n)}(function(e,t=!0){(function(a){qo=a})(Bo),Lr(new lr("firestore",(s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),m=new zr(new IO(s.getProvider("auth-internal")),new OO(u,s.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(y.options.projectId,_)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),er(Lb,Ub,e),er(Lb,Ub,"esm2017")})();const FM={apiKey:"AIzaSyBBsR4ur6g0dzFeHPCtnl9HEUj579h5DUw",authDomain:"pereza-9a61a.firebaseapp.com",projectId:"pereza-9a61a",storageBucket:"pereza-9a61a.firebasestorage.app",messagingSenderId:"257748438860",appId:"1:257748438860:web:3b53c9d59b5df3ac0a89e9",measurementId:"G-YS9X48WQZG"},by=zE(FM),hd=ij(by);TO(by);const _n=xM(by),pr=O.createContext({user:null,bio:"",logout:()=>{}});function qM({children:n}){const[e,t]=O.useState(null),[s,a]=O.useState("");O.useEffect(()=>{const u=KI(hd,async m=>{if(m){t(m);const p=or(_n,"users",m.uid),y=await xS(p);y.exists()?y.data().favorites||await sg(p,{favorites:[]},{merge:!0}):(await sg(p,{email:m.email,bio:"",favorites:[],createdAt:new Date}),console.log("Documento creado para:",m.email));const _=TS(p,E=>{E.exists()&&a(E.data().bio)});return()=>_()}else t(null),a("")});return()=>u()},[]);async function l(){await QI(hd),t(null),a("")}return f.jsx(pr.Provider,{value:{user:e,bio:s,logout:l},children:n})}const AS=O.createContext({favorites:[],isLoading:!0,addToFavorites:async()=>{},removeFromFavorites:async()=>{},isFavorite:()=>!1}),Gd=()=>O.useContext(AS),HM=({children:n})=>{const[e,t]=O.useState([]),[s,a]=O.useState(!0),{user:l}=O.useContext(pr);O.useEffect(()=>{if(!l){t([]),a(!1);return}a(!0);const y=or(_n,"users",l.uid),_=TS(y,E=>{if(E.exists()){const x=E.data();if(x.favorites&&Array.isArray(x.favorites)){const I=Array.from(new Map(x.favorites.map(N=>[N.id,N])).values());t(I)}else t([])}else t([]);a(!1)},E=>{console.error("Error al obtener favoritos:",E),a(!1)});return()=>_()},[l]);const u=async y=>{if(l){if(p(y.id)){console.log("El elemento ya est en favoritos");return}try{const _=or(_n,"users",l.uid);await Rc(_,{favorites:zM(y)})}catch(_){console.error("Error al aadir a favoritos:",_)}}},m=async y=>{if(l)try{const _=or(_n,"users",l.uid),E=e.find(x=>x.id===y);E&&await Rc(_,{favorites:BM(E)})}catch(_){console.error("Error al eliminar de favoritos:",_)}},p=y=>e.some(_=>_.id===y);return f.jsx(AS.Provider,{value:{favorites:e,isLoading:s,addToFavorites:u,removeFromFavorites:m,isFavorite:p},children:n})},$M="521b418e6b0c0227a624515e80c9288a";function Wt(){const[n,e]=O.useState(""),[t,s]=O.useState([]),[a,l]=O.useState(!1),[u,m]=O.useState(null),[p,y]=O.useState(!1),[_,E]=O.useState(!1),[x,I]=O.useState(!1),N=O.useRef(null),V=Ft(),{favorites:C}=Gd(),{user:F,logout:G}=O.useContext(pr);O.useEffect(()=>{function T(j){N.current&&!N.current.contains(j.target)&&s([])}const A=()=>{window.scrollY>50?I(!0):I(!1)};return document.addEventListener("mousedown",T),window.addEventListener("scroll",A),()=>{document.removeEventListener("mousedown",T),window.removeEventListener("scroll",A)}},[]);const Q=T=>T==null||isNaN(T)?"N/A":T.toFixed(1),Y=async T=>{if(T.preventDefault(),!!n.trim()){l(!0),m(null);try{const A=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${$M}&query=${n}`);if(!A.ok)throw new Error("Failed to fetch movies");const j=await A.json();s(j.results)}catch(A){console.error("Error searching movies:",A),m("Failed to search movies. Please try again.")}finally{l(!1)}}};function Z(T){T.preventDefault(),V("/signup"),y(!1)}function ne(T){T.preventDefault(),V("/login"),y(!1)}function D(T){T.preventDefault(),G(),V("/"),y(!1)}return f.jsx("div",{className:"flex flex-col w-full",children:f.jsx("nav",{className:`bg-gray-900 text-white w-full z-50 transition-all duration-300 ${x?"shadow-lg py-2":"py-4"} ${p?"relative":"sticky top-0"}`,children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ut,{to:"/",className:"text-2xl font-bold flex items-center",children:[f.jsx("div",{className:"mr-2 relative",children:f.jsxs("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center shadow-lg",children:[f.jsx("div",{className:"w-3 h-3 bg-white rounded-full absolute",style:{top:"35%",left:"35%"}}),f.jsx("div",{className:"w-6 h-6 border-4 border-white rounded-full"})]})}),f.jsx("span",{className:"text-blue-500 font-extrabold tracking-wide",children:"CUEVANA by Aaron"})]}),f.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[f.jsx(Ut,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Inicio"}),f.jsx(Ut,{to:"/peliculas",className:"text-gray-300 hover:text-white transition-colors",children:"Pelculas"}),f.jsx(Ut,{to:"/series",className:"text-gray-300 hover:text-white transition-colors",children:"Series"}),f.jsx(Ut,{to:"/estrenos",className:"text-gray-300 hover:text-white transition-colors",children:"Estrenos"}),F&&f.jsx(Ut,{to:"/dashboard",className:"text-gray-300 hover:text-white transition-colors",children:"Mi Cuevana"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"relative",ref:N,children:[f.jsxs("form",{onSubmit:Y,className:"flex items-center",children:[f.jsx("input",{type:"text",value:n,onChange:T=>e(T.target.value),onFocus:()=>E(!0),placeholder:"Buscar...",className:`bg-gray-800 text-white px-4 py-2 rounded-full border border-gray-700 focus:outline-none focus:border-blue-500 transition-all duration-300 ${_?"w-60":"w-32 md:w-40"}`}),f.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),t.length>0&&f.jsxs("div",{className:"absolute mt-2 w-full md:w-80 right-0 bg-gray-900 rounded-lg shadow-lg border border-gray-800 z-50 max-h-96 overflow-y-auto",children:[f.jsxs("div",{className:"p-3 border-b border-gray-800 flex justify-between items-center",children:[f.jsx("h3",{className:"font-medium",children:"Resultados"}),f.jsx("button",{onClick:()=>s([]),className:"text-gray-500 hover:text-gray-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a?f.jsx("div",{className:"text-center py-8",children:f.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):u?f.jsx("div",{className:"text-center text-red-500 p-4",children:u}):f.jsxs("div",{className:"p-2",children:[t.map(T=>f.jsxs("div",{className:"flex p-2 hover:bg-gray-800 rounded-lg cursor-pointer transition-colors",onClick:()=>{V(`/movie/${T.id}`),s([])},children:[f.jsx("div",{className:"flex-shrink-0 w-12 h-16 bg-gray-800 rounded overflow-hidden",children:T.poster_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w92${T.poster_path}`,alt:T.title,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-gray-500",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h4",{className:"font-medium line-clamp-1",children:T.title}),f.jsxs("div",{className:"flex items-center text-xs text-yellow-500",children:[f.jsx("span",{className:"mr-1",children:""}),f.jsx("span",{children:Q(T.vote_average)})]})]})]},T.id)),f.jsx("div",{className:"mt-2 py-2 text-center text-sm text-blue-500 hover:text-blue-400 cursor-pointer border-t border-gray-800",onClick:()=>{V(`/search?q=${encodeURIComponent(n)}`),s([])},children:"Ver todos los resultados"})]})]})]}),F&&f.jsxs(Ut,{to:"/favorites",className:"hidden md:flex items-center hover:text-yellow-400 transition-colors relative",children:[f.jsx("span",{className:"text-xl",children:""}),C&&C.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:C.length})]}),f.jsx("div",{className:"hidden md:block",children:F?f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"text-sm text-gray-300 truncate max-w-[120px]",children:F.email}),f.jsx("button",{onClick:D,className:"bg-red-600 hover:bg-red-700 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Salir"})]}):f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:ne,className:"bg-blue-600 hover:bg-blue-700 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Ingresar"}),f.jsx("button",{onClick:Z,className:"bg-gray-700 hover:bg-gray-600 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Registro"})]})}),f.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:()=>y(!p),children:p?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),p&&f.jsxs("div",{className:"md:hidden mt-4 py-4 border-t border-gray-800 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ut,{to:"/",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>y(!1),children:"Inicio"}),f.jsx(Ut,{to:"/peliculas",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>y(!1),children:"Pelculas"}),f.jsx(Ut,{to:"/series",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>y(!1),children:"Series"}),f.jsx(Ut,{to:"/estrenos",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>y(!1),children:"Estrenos"}),F&&f.jsxs(f.Fragment,{children:[f.jsx(Ut,{to:"/dashboard",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>y(!1),children:"Mi Cuevana"}),f.jsxs(Ut,{to:"/favorites",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>y(!1),children:["Mis Favoritos",C&&C.length>0&&f.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full px-2 py-1",children:C.length})]})]})]}),f.jsx("div",{className:"pt-2 border-t border-gray-800",children:F?f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"text-sm text-gray-300",children:F.email}),f.jsx("button",{onClick:D,className:"w-full bg-red-600 hover:bg-red-700 py-2 rounded-lg text-sm transition-colors",children:"Cerrar sesin"})]}):f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx("button",{onClick:ne,className:"bg-blue-600 hover:bg-blue-700 py-2 rounded-lg text-sm transition-colors",children:"Iniciar sesin"}),f.jsx("button",{onClick:Z,className:"bg-gray-700 hover:bg-gray-600 py-2 rounded-lg text-sm transition-colors",children:"Registrarse"})]})})]})]})})})}const GM=({movies:n,autoPlayInterval:e=8e3})=>{const t=Ft(),[s,a]=O.useState(0),[l,u]=O.useState(!1),[m,p]=O.useState(0),y=O.useRef(null),_=O.useRef(null),E=D=>{const T=(D+n.length)%n.length;a(T)},x=()=>{E(s+1)},I=()=>{E(s-1)},N=D=>{u(!0),p(D.touches[0].clientX),Z(),D.preventDefault()},V=D=>{u(!0),p(D.clientX),Z()},C=D=>{if(!l)return;const T=D.touches[0].clientX;G(T),D.preventDefault()},F=D=>{if(!l)return;const T=D.clientX;G(T)},G=D=>{const T=m-D;if(Math.abs(T)>30&&(T>0?x():I(),u(!1),typeof Event=="function"&&"preventDefault"in Event.prototype)){const A=window.event;A&&A.preventDefault()}},Q=()=>{u(!1),ne()},Y=()=>{u(!1),ne()},Z=()=>{_.current&&(clearInterval(_.current),_.current=null)},ne=()=>{Z(),_.current=setInterval(()=>{x()},e)};return O.useEffect(()=>(ne(),()=>Z()),[s]),O.useEffect(()=>{const D=()=>{a(T=>T)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),n.length===0?null:f.jsxs("div",{className:"relative h-[50vh] sm:h-[60vh] mb-4 sm:mb-8 overflow-hidden touch-none",children:[f.jsx("div",{ref:y,className:"relative w-full h-full flex overflow-hidden",onTouchStart:N,onTouchMove:C,onTouchEnd:Q,onMouseDown:V,onMouseMove:F,onMouseUp:Y,onMouseLeave:Y,children:n.slice(0,5).map((D,T)=>f.jsxs("div",{className:"absolute inset-0 w-full h-full transition-transform duration-500 ease-out",style:{transform:`translateX(${(T-s)*100}%)`,transition:l?"none":"transform 0.5s ease-out",zIndex:T===s?5:0},children:[f.jsx("img",{src:`https://image.tmdb.org/t/p/original${D.backdrop_path}`,alt:D.title,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"}),f.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-4 sm:px-8 md:px-16 lg:container lg:mx-auto",children:f.jsxs("div",{className:"max-w-xl",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl md:text-5xl font-bold mb-2 sm:mb-4 line-clamp-2",children:D.title}),f.jsxs("div",{className:"flex items-center mb-3 sm:mb-6",children:[f.jsxs("span",{className:"inline-flex items-center bg-yellow-600 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium mr-2",children:[f.jsx("span",{className:"mr-1",children:""}),D.vote_average.toFixed(1)]}),f.jsx("span",{className:"bg-blue-600 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium",children:"Trending"})]}),f.jsx("button",{onClick:()=>t(`/movie/${D.id}`),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 sm:py-3 sm:px-6 text-sm sm:text-base rounded-lg transition duration-300 transform hover:scale-105",children:"Ver detalles"})]})})]},D.id))}),f.jsx("button",{onClick:I,className:"absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 sm:p-3 rounded-full transition-colors z-10","aria-label":"Anterior pelcula",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:x,className:"absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 sm:p-3 rounded-full transition-colors z-10","aria-label":"Siguiente pelcula",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),f.jsx("div",{className:"absolute bottom-4 sm:bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-1 sm:space-x-2 z-10",children:n.slice(0,5).map((D,T)=>f.jsx("button",{onClick:()=>E(T),className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all ${T===s?"bg-white scale-125":"bg-white/50"}`,"aria-label":`Ir al slide ${T+1}`},T))})]})},rc="521b418e6b0c0227a624515e80c9288a",sc="https://api.themoviedb.org/3",wh=({title:n,movies:e})=>{Ft();const t=O.useRef(null),[s,a]=O.useState(!1),[l,u]=O.useState(0),[m,p]=O.useState(0),y=()=>{t.current&&t.current.scrollTo({left:t.current.scrollLeft-300,behavior:"smooth"})},_=()=>{t.current&&t.current.scrollTo({left:t.current.scrollLeft+300,behavior:"smooth"})},E=C=>{var F,G;a(!0),u(C.pageX-(((F=t.current)==null?void 0:F.offsetLeft)||0)),p(((G=t.current)==null?void 0:G.scrollLeft)||0)},x=C=>{var F,G;a(!0),u(C.touches[0].pageX-(((F=t.current)==null?void 0:F.offsetLeft)||0)),p(((G=t.current)==null?void 0:G.scrollLeft)||0)},I=()=>{a(!1)},N=C=>{if(s&&(C.preventDefault(),t.current)){const G=(C.pageX-(t.current.offsetLeft||0)-l)*2;t.current.scrollLeft=m-G}},V=C=>{if(s&&t.current){const G=(C.touches[0].pageX-(t.current.offsetLeft||0)-l)*2;t.current.scrollLeft=m-G}};return f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:n}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:y,className:"bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-full","aria-label":"Desplazar a la izquierda",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:_,className:"bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-full","aria-label":"Desplazar a la derecha",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{ref:t,className:"flex overflow-x-auto scrollbar-hide gap-4 pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},onMouseDown:E,onMouseUp:I,onMouseLeave:I,onMouseMove:N,onTouchStart:x,onTouchEnd:I,onTouchMove:V,children:e.map(C=>f.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:f.jsx(zo,{id:C.id,title:C.title,poster:`https://image.tmdb.org/t/p/w500${C.poster_path}`,rating:C.vote_average})},C.id))})]})};function KM(){var F;Ft();const[n,e]=O.useState([]),[t,s]=O.useState([]),[a,l]=O.useState([]),[u,m]=O.useState([]),[p,y]=O.useState(null),[_,E]=O.useState([]),[x,I]=O.useState(!0);O.useEffect(()=>{(async()=>{I(!0);try{const Q=await Ae.get(`${sc}/trending/movie/day?api_key=${rc}`);e(Q.data.results);const Y=await Ae.get(`${sc}/movie/popular?api_key=${rc}`);s(Y.data.results);const Z=await Ae.get(`${sc}/movie/top_rated?api_key=${rc}`);l(Z.data.results);const ne=await Ae.get(`${sc}/genre/movie/list?api_key=${rc}`);m(ne.data.genres)}catch(Q){console.error("Error fetching movies:",Q)}finally{I(!1)}})()},[]),O.useEffect(()=>{(async()=>{if(p!==null)try{const Q=await Ae.get(`${sc}/discover/movie?api_key=${rc}&with_genres=${p}`);E(Q.data.results)}catch(Q){console.error("Error fetching genre movies:",Q)}})()},[p]);const N=G=>{y(G===p?null:G)},V=()=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),f.jsxs("div",{className:"p-3",children:[f.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]}),C=()=>f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"h-8 bg-gray-800 rounded w-64 mb-4 animate-pulse"}),f.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(5)].map((G,Q)=>f.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:f.jsx(V,{})},Q))})]});return x?f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse mb-6"}),f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx(C,{}),f.jsx(C,{}),f.jsx(C,{})]})]}):f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),n.length>0&&f.jsx(GM,{movies:n.slice(0,5),autoPlayInterval:8e3}),f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Explorar por Gnero"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-6 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:u.map(G=>f.jsx("button",{onClick:()=>N(G.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex-shrink-0 ${p===G.id?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:G.name},G.id))}),p&&_.length>0&&f.jsx(wh,{title:`${((F=u.find(G=>G.id===p))==null?void 0:F.name)||"Gnero"} Movies`,movies:_})]}),f.jsx(wh,{title:"Trending Hoy",movies:n}),f.jsx(wh,{title:"Pelculas Populares",movies:t}),f.jsx(wh,{title:"Mejor Valoradas",movies:a})]}),f.jsx("style",{jsx:!0,global:!0,children:`
                .scrollbar-hide::-webkit-scrollbar {
                    display: none;
                }
                .scrollbar-hide {
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                }
            `}),f.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:f.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[f.jsx("p",{className:"mb-2",children:"Creado con  y "}),f.jsx("p",{children:"Usando la API de TMDB"})]})})]})}function QM(){const{user:n,bio:e}=O.useContext(pr),[t,s]=O.useState(e);async function a(l){l.preventDefault(),n&&(await Rc(or(_n,"users",n.uid),{bio:t}),alert("Biografa actualizada"))}return f.jsxs("form",{onSubmit:a,className:"mt-4",children:[f.jsx("textarea",{value:t,onChange:l=>s(l.target.value),className:"w-full p-2 rounded-lg bg-gray-800 text-white",placeholder:"Escribe tu biografa..."}),f.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mt-2",children:"Guardar Biografa"})]})}function YM(){const{user:n,bio:e}=O.useContext(pr),{favorites:t}=Gd();return f.jsxs("div",{style:{backgroundColor:"#0F172A"},className:"flex flex-col min-h-screen w-full",children:[f.jsx(Wt,{}),f.jsxs("div",{style:{backgroundColor:"#0F172A"},className:"container mx-auto p-4 py-8 w-full",children:[f.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-8 mb-8 shadow-lg border border-blue-700/20",children:[f.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Bienvenido a tu Dashboard"}),f.jsxs("p",{className:"text-gray-300 text-lg",children:["Hola ",f.jsx("span",{className:"font-bold text-blue-400",children:n==null?void 0:n.email}),", ",e?f.jsxs("span",{children:["tu biografa: ",f.jsx("span",{className:"italic text-blue-300",children:e})]}):f.jsx("span",{children:"an no has agregado una biografa."})]}),f.jsx("div",{className:"mt-4",children:f.jsx(QM,{})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[f.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-6 shadow-lg border border-blue-700/20 transform hover:scale-105 transition-all duration-300",children:[f.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[f.jsx("span",{className:"bg-blue-500 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),"Tus Estadsticas"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{style:{backgroundColor:"#334155"},className:"p-6 rounded-xl text-center shadow-inner border border-blue-600/20",children:[f.jsx("p",{className:"text-4xl font-bold text-blue-400 mb-2",children:t.length}),f.jsx("p",{className:"text-gray-400",children:"Pelculas Favoritas"})]}),f.jsxs("div",{style:{backgroundColor:"#334155"},className:"p-6 rounded-xl text-center shadow-inner border border-blue-600/20",children:[f.jsx("p",{className:"text-4xl font-bold text-green-400 mb-2",children:t.length>0?(t.reduce((s,a)=>s+a.vote_average,0)/t.length).toFixed(1):"0.0"}),f.jsx("p",{className:"text-gray-400",children:"Rating Promedio"})]})]})]}),f.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-6 shadow-lg border border-blue-700/20 transform hover:scale-105 transition-all duration-300",children:[f.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[f.jsx("span",{className:"bg-purple-500 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Actividad Reciente"]}),f.jsxs("ul",{className:"space-y-4 text-gray-300",children:[f.jsxs("li",{style:{backgroundColor:"#334155"},className:"flex items-center gap-3 p-3 rounded-lg border border-blue-600/20",children:[f.jsx("span",{className:"text-blue-400 text-2xl",children:""}),f.jsx("span",{children:"Has iniciado sesin exitosamente"})]}),t.length>0&&f.jsxs("li",{style:{backgroundColor:"#334155"},className:"flex items-center gap-3 p-3 rounded-lg border border-blue-600/20",children:[f.jsx("span",{className:"text-yellow-400 text-2xl",children:""}),f.jsxs("span",{children:["Has aadido ",f.jsx("span",{className:"font-bold text-yellow-400",children:t.length})," pelculas a favoritos"]})]}),f.jsxs("li",{style:{backgroundColor:"#334155"},className:"flex items-center gap-3 p-3 rounded-lg border border-blue-600/20",children:[f.jsx("span",{className:"text-green-400 text-2xl",children:""}),f.jsx("span",{children:"Has accedido a tu dashboard"})]})]})]})]}),f.jsxs("div",{style:{backgroundColor:"#1E293B"},className:"rounded-xl p-8 shadow-lg border border-blue-700/20",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[f.jsx("span",{className:"bg-red-500 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),"Tus Pelculas Favoritas"]}),t.length>0&&f.jsxs(Ut,{to:"/favorites",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg text-sm font-bold shadow-lg transition-all duration-300 flex items-center",children:["Ver todas",f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]}),t.length===0?f.jsxs("div",{style:{backgroundColor:"#334155"},className:"text-gray-400 text-center py-16 rounded-xl border border-blue-600/20",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})}),f.jsx("p",{className:"text-xl",children:"No has aadido pelculas a favoritos an."}),f.jsx("p",{className:"mt-2 text-blue-400",children:"Explora nuestra coleccin y aade algunas!"}),f.jsx(Ut,{to:"/movies",className:"mt-6 inline-block bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all duration-300",children:"Explorar pelculas"})]}):f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:t.slice(0,4).map(s=>f.jsx("div",{className:"transform hover:scale-105 transition-all duration-300",children:f.jsx(zo,{id:s.id,title:s.title,poster:`https://image.tmdb.org/t/p/w500${s.poster_path}`,rating:s.vote_average,movie:s})},s.id))})]})]})]})}function XM(){var y;const{user:n,updateUserBio:e}=O.useContext(pr),[t,s]=O.useState((n==null?void 0:n.bio)||""),[a,l]=O.useState(!1),[u,m]=O.useState(!1),p=async()=>{if(n){m(!0);try{await e(t),l(!1)}catch(_){console.error("Error al guardar la biografa:",_)}finally{m(!1)}}};return f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Wt,{}),f.jsxs("div",{className:"container mx-auto p-4",children:[f.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tu Perfil"}),f.jsx("p",{className:"text-gray-300",children:"Administra tu informacin personal y preferencias"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded-full mb-4 flex items-center justify-center text-2xl text-white font-bold",children:(y=n==null?void 0:n.email)==null?void 0:y.charAt(0).toUpperCase()}),f.jsx("h2",{className:"text-xl font-bold text-white",children:n==null?void 0:n.email})]}),f.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Miembro desde"}),f.jsx("p",{className:"text-white",children:n!=null&&n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString():"Fecha desconocida"})]})]}),f.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 col-span-2",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold text-white",children:"Sobre Ti"}),a?f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{l(!1),s((n==null?void 0:n.bio)||"")},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm",disabled:u,children:"Cancelar"}),f.jsx("button",{onClick:p,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",disabled:u,children:u?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando"]}):"Guardar"})]}):f.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Editar"})]}),a?f.jsx("textarea",{value:t,onChange:_=>s(_.target.value),className:"w-full bg-gray-800 text-white rounded-lg p-3 min-h-32 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Cuntanos un poco sobre ti, tus pelculas favoritas, gneros preferidos, etc."}):f.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:n!=null&&n.bio?f.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:n.bio}):f.jsx("p",{className:"text-gray-500 italic",children:"No has aadido una biografa an. Haz clic en 'Editar' para agregar informacin sobre ti."})})]})]})]})]})}const RS=O.createContext({isLoading:!1,error:null,addReview:async()=>{},updateReview:async()=>{},deleteReview:async()=>{},getMovieReviews:async()=>[],getUserReviewForMovie:async()=>null}),WM=()=>O.useContext(RS),ZM=({children:n})=>{const{user:e}=O.useContext(pr),[t,s]=O.useState(!1),[a,l]=O.useState(null),u=async(E,x,I)=>{if(!e)throw new Error("Usuario no autenticado");s(!0),l(null);try{if(await _(E))throw new Error("Ya has escrito una resea para esta pelcula");const V={movieId:E,userId:e.uid,userEmail:e.email||"usuario annimo",rating:x,comment:I,createdAt:new Date};await MM(yp(_n,"reviews"),V)}catch(N){throw console.error("Error adding review:",N),l(N.message||"Error al aadir la resea"),N}finally{s(!1)}},m=async(E,x,I)=>{if(!e)throw new Error("Usuario no autenticado");s(!0),l(null);try{const N=or(_n,"reviews",E);await Rc(N,{rating:x,comment:I})}catch(N){throw console.error("Error updating review:",N),l(N.message||"Error al actualizar la resea"),N}finally{s(!1)}},p=async E=>{if(!e)throw new Error("Usuario no autenticado");s(!0),l(null);try{await kM(or(_n,"reviews",E))}catch(x){throw console.error("Error deleting review:",x),l(x.message||"Error al eliminar la resea"),x}finally{s(!1)}},y=async E=>{s(!0),l(null);try{const x=kw(yp(_n,"reviews"),vp("movieId","==",E)),I=await Vw(x),N=[];return I.forEach(V=>{const C=V.data();N.push({id:V.id,movieId:C.movieId,userId:C.userId,userEmail:C.userEmail,rating:C.rating,comment:C.comment,createdAt:C.createdAt.toDate()})}),N.sort((V,C)=>C.createdAt.getTime()-V.createdAt.getTime())}catch(x){return console.error("Error fetching movie reviews:",x),l(x.message||"Error al obtener las reseas"),[]}finally{s(!1)}},_=async E=>{if(!e)return null;try{const x=kw(yp(_n,"reviews"),vp("movieId","==",E),vp("userId","==",e.uid)),I=await Vw(x);if(I.empty)return null;const N=I.docs[0],V=N.data();return{id:N.id,movieId:V.movieId,userId:V.userId,userEmail:V.userEmail,rating:V.rating,comment:V.comment,createdAt:V.createdAt.toDate()}}catch(x){return console.error("Error fetching user review:",x),null}};return f.jsx(RS.Provider,{value:{isLoading:t,error:a,addReview:u,updateReview:m,deleteReview:p,getMovieReviews:y,getUserReviewForMovie:_},children:n})};function JM({movieId:n}){const{user:e}=O.useContext(pr),{addReview:t,updateReview:s,deleteReview:a,getMovieReviews:l,getUserReviewForMovie:u,isLoading:m,error:p}=WM(),[y,_]=O.useState([]),[E,x]=O.useState(null),[I,N]=O.useState(5),[V,C]=O.useState(""),[F,G]=O.useState(!1),[Q,Y]=O.useState(!1),Z=async()=>{try{const P=await l(n);if(_(P),e){const z=await u(n);x(z),z&&(N(z.rating),C(z.comment))}}catch(P){console.error("Error al cargar reseas:",P)}};O.useEffect(()=>{Z()},[n,e]);const ne=async P=>{P.preventDefault();try{F&&(E!=null&&E.id)?await s(E.id,I,V):await t(n,I,V),Y(!1),G(!1),Z()}catch(z){console.error("Error al enviar la resea:",z)}},D=async()=>{if(E!=null&&E.id&&window.confirm("Ests seguro de que deseas eliminar tu resea?"))try{await a(E.id),x(null),Z()}catch(P){console.error("Error al eliminar la resea:",P)}},T=()=>{E&&(N(E.rating),C(E.comment),G(!0),Y(!0))},A=P=>Array.from({length:5}).map((z,M)=>f.jsx("span",{className:`text-2xl ${M<P?"text-yellow-500":"text-gray-500"}`,children:""},M)),j=P=>new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).format(P);return f.jsxs("div",{className:"mt-10",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Reseas de usuarios"}),p&&f.jsx("div",{className:"bg-red-500 text-white p-3 rounded-lg mb-4",children:p}),e?!E&&!Q?f.jsx("button",{onClick:()=>Y(!0),className:"mb-6 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Escribir una resea"}):null:f.jsx("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg",children:f.jsxs("p",{className:"text-gray-300",children:["Para escribir una resea, debes"," ",f.jsx(Ut,{to:"/login",className:"text-red-600 hover:underline",children:"iniciar sesin"}),"."]})}),Q&&f.jsxs("form",{onSubmit:ne,className:"mb-8 bg-gray-800 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-xl font-medium mb-4",children:F?"Editar tu resea":"Aadir una resea"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block mb-2",children:"Puntuacin"}),f.jsx("div",{className:"flex space-x-2",children:Array.from({length:5}).map((P,z)=>f.jsx("button",{type:"button",onClick:()=>N(z+1),className:"text-3xl focus:outline-none",children:f.jsx("span",{className:z<I?"text-yellow-500":"text-gray-500",children:""})},z))})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"comment",className:"block mb-2",children:"Comentario"}),f.jsx("textarea",{id:"comment",value:V,onChange:P=>C(P.target.value),className:"w-full p-3 bg-gray-700 rounded-lg text-white",rows:4,required:!0})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",disabled:m,children:m?"Enviando...":F?"Actualizar":"Publicar"}),f.jsx("button",{type:"button",onClick:()=>{Y(!1),G(!1)},className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Cancelar"})]})]}),E&&!Q&&f.jsxs("div",{className:"mb-8 bg-gray-800 p-4 rounded-lg border border-red-600",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium",children:"Tu resea"}),f.jsx("div",{className:"flex my-1",children:A(E.rating)}),f.jsx("p",{className:"text-sm text-gray-400",children:j(E.createdAt)})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded-lg text-sm transition-colors",children:"Editar"}),f.jsx("button",{onClick:D,className:"bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded-lg text-sm transition-colors",children:"Eliminar"})]})]}),f.jsx("p",{className:"text-gray-300",children:E.comment})]}),m&&y.length===0?f.jsxs("div",{className:"text-center py-10",children:[f.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-600"}),f.jsx("p",{className:"mt-2 text-gray-400",children:"Cargando reseas..."})]}):y.length===0?f.jsx("div",{className:"text-center py-10 bg-gray-800 rounded-lg",children:f.jsx("p",{className:"text-gray-400",children:"No hay reseas para esta pelcula an."})}):f.jsx("div",{className:"space-y-4",children:y.filter(P=>!e||P.userId!==e.uid).map(P=>f.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[f.jsx("div",{className:"flex justify-between items-start mb-3",children:f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium",children:P.userEmail}),f.jsx("div",{className:"flex my-1",children:A(P.rating)}),f.jsx("p",{className:"text-sm text-gray-400",children:j(P.createdAt)})]})}),f.jsx("p",{className:"text-gray-300",children:P.comment})]},P.id))})]})}function eP({movie:n,videos:e,cast:t,similarMovies:s,handleFavoriteToggle:a,isFavorited:l}){const u=Ft(),m=En(),{user:p}=O.useContext(pr),[y,_]=O.useState(l),[E,x]=O.useState(!1),I=O.useRef(!1),[N,V]=O.useState("overview");O.useEffect(()=>{_(l)},[l]);const C=Y=>{const Z=document.createElement("div");Z.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",Z.innerHTML=`
            <div class="relative w-full max-w-4xl mx-4">
                <div class="absolute top-0 right-0 m-4">
                    <button class="bg-gray-800 rounded-full p-2 text-white hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="aspect-video w-full">
                    <iframe 
                        width="100%" 
                        height="100%" 
                        src="https://www.youtube.com/embed/${Y}?autoplay=1" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                    ></iframe>
                </div>
            </div>
        `,document.body.appendChild(Z);const ne=Z.querySelector("button");ne==null||ne.addEventListener("click",()=>{document.body.removeChild(Z)}),Z.addEventListener("click",D=>{D.target===Z&&document.body.removeChild(Z)})},F=Y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(Y),G=async()=>{if(!(E||I.current)){if(!p){u(`/login?redirect=${m.pathname}`);return}x(!0),I.current=!0;try{const Y=or(_n,"users",p.uid);await UM(_n,async Z=>{const ne=await Z.get(Y);if(!ne.exists())throw new Error("El documento del usuario no existe");const T=ne.data().favorites||[],j=T.findIndex(z=>z.id===n.id)!==-1;let P;if(j)P=T.filter(z=>z.id!==n.id);else{const z={id:n.id,title:n.title,poster_path:n.poster_path,vote_average:n.vote_average,release_date:n.release_date,overview:n.overview,backdrop_path:n.backdrop_path};P=[...T,z]}Z.update(Y,{favorites:P}),_(!j)}),a()}catch(Y){console.error("Error al actualizar favoritos:",Y)}finally{x(!1),I.current=!1}}},Q=()=>{switch(N){case"overview":return f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sinopsis"}),f.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:n.overview||"No hay sinopsis disponible para esta pelcula."}),n.production_companies&&n.production_companies.length>0&&f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-xl font-medium mb-4",children:"Compaas productoras"}),f.jsx("div",{className:"flex flex-wrap gap-6",children:n.production_companies.map(Y=>f.jsxs("div",{className:"flex items-center bg-gray-800 rounded-lg p-3",children:[Y.logo_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w200${Y.logo_path}`,alt:Y.name,className:"h-10 object-contain mr-3"}):f.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-700 rounded-full mr-3",children:f.jsx("span",{children:Y.name.substring(0,1)})}),f.jsx("span",{children:Y.name})]},Y.name))})]})]});case"cast":return f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Reparto principal"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(Y=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden hover:scale-105 transition-transform",children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700",children:Y.profile_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w300${Y.profile_path}`,alt:Y.name,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-gray-500",children:f.jsx("span",{children:"No imagen"})})}),f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"font-medium text-white",children:Y.name}),f.jsx("p",{className:"text-sm text-gray-400",children:Y.character})]})]},Y.id))})]});case"videos":return f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Videos"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(Y=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform",onClick:()=>C(Y.key),children:[f.jsxs("div",{className:"relative aspect-video",children:[f.jsx("img",{src:`https://img.youtube.com/vi/${Y.key}/hqdefault.jpg`,alt:Y.name,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"bg-red-600 bg-opacity-80 rounded-full p-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})})]}),f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"font-medium text-white truncate",children:Y.name}),f.jsx("p",{className:"text-sm text-gray-400",children:Y.type})]})]},Y.key))})]});case"reviews":return f.jsx(JM,{movieId:n.id});default:return null}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"w-full h-[80vh] lg:h-[70vh]",children:[f.jsx("img",{src:`https://image.tmdb.org/t/p/original${n.backdrop_path}`,alt:n.title,className:"w-full h-full object-cover",onError:Y=>{Y.currentTarget.src="https://via.placeholder.com/1440x800?text=No+Backdrop+Available"}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"})]}),e.length>0&&f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:f.jsxs("button",{className:"bg-red-600 bg-opacity-90 hover:bg-opacity-100 rounded-full w-20 h-20 flex items-center justify-center transition-all duration-300 hover:scale-110",onClick:()=>C(e[0].key),children:[f.jsx("span",{className:"sr-only",children:"Ver trailer"}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})]})})]}),f.jsx("div",{className:"container mx-auto p-4 -mt-40 relative z-10",children:f.jsx("div",{className:"bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:f.jsx("div",{className:"p-6 md:p-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsxs("div",{className:"md:w-1/3 lg:w-1/4",children:[f.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg transform -translate-y-16 border-4 border-gray-800",children:f.jsx("img",{src:`https://image.tmdb.org/t/p/w500${n.poster_path}`,alt:n.title,className:"w-full h-auto",onError:Y=>{Y.currentTarget.src="https://via.placeholder.com/500x750?text=No+Poster+Available"}})}),f.jsxs("div",{className:"mt-4 space-y-3",children:[f.jsxs("button",{onClick:G,disabled:E,className:`w-full py-3 rounded-lg flex items-center justify-center transition-colors font-medium text-sm ${y?"bg-yellow-500 hover:bg-yellow-600 text-gray-900":"bg-blue-600 hover:bg-blue-700 text-white"} ${E?"opacity-70 cursor-not-allowed":""}`,children:[f.jsx("span",{className:"mr-2 text-lg",children:y?"":""}),E?"Procesando...":y?"Quitar de favoritos":"Aadir a favoritos"]}),e.length>0&&f.jsxs("button",{onClick:()=>C(e[0].key),className:"md:hidden w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center transition-colors font-medium text-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Ver trailer"]})]}),f.jsxs("div",{className:"mt-6 bg-gray-900 rounded-xl p-5 space-y-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Estado"}),f.jsx("p",{className:"font-medium",children:n.status||"N/A"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Fecha de estreno"}),f.jsx("p",{className:"font-medium",children:new Date(n.release_date).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Duracin"}),f.jsxs("p",{className:"font-medium",children:[n.runtime," minutos"]})]}),n.budget>0&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Presupuesto"}),f.jsx("p",{className:"font-medium",children:F(n.budget)})]}),n.revenue>0&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Recaudacin"}),f.jsx("p",{className:"font-medium",children:F(n.revenue)})]})]})]}),f.jsxs("div",{className:"md:w-2/3 lg:w-3/4",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.title}),n.tagline&&f.jsx("p",{className:"text-gray-400 text-xl italic mb-4",children:n.tagline}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[f.jsxs("div",{className:"flex items-center bg-yellow-600 text-white px-3 py-1 rounded-full font-medium",children:[f.jsx("span",{className:"mr-1",children:""}),n.vote_average.toFixed(1)]}),f.jsx("span",{className:"text-gray-400",children:""}),f.jsx("span",{className:"text-gray-300",children:new Date(n.release_date).getFullYear()}),f.jsx("span",{className:"text-gray-400",children:""}),f.jsxs("span",{className:"text-gray-300",children:[n.runtime," min"]})]}),f.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:n.genres.map(Y=>f.jsx("span",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 cursor-pointer rounded-full text-sm",children:Y.name},Y.id))}),f.jsx("div",{className:"mt-8 border-b border-gray-700",children:f.jsxs("div",{className:"flex space-x-6 overflow-x-auto pb-1",children:[f.jsxs("button",{onClick:()=>V("overview"),className:`py-3 font-medium relative ${N==="overview"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Sinopsis",N==="overview"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),f.jsxs("button",{onClick:()=>V("cast"),className:`py-3 font-medium relative ${N==="cast"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Reparto",N==="cast"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),e.length>0&&f.jsxs("button",{onClick:()=>V("videos"),className:`py-3 font-medium relative ${N==="videos"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Videos",N==="videos"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),f.jsxs("button",{onClick:()=>V("reviews"),className:`py-3 font-medium relative ${N==="reviews"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Reseas",N==="reviews"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]})]})}),Q()]})]})})})})]})}function tP(){const{id:n}=Xw(),e=Ft(),t=En(),[s,a]=O.useState(null),[l,u]=O.useState([]),[m,p]=O.useState([]),[y,_]=O.useState([]),[E,x]=O.useState(!0),[I,N]=O.useState(null),{addFavorite:V,removeFavorite:C,isFavorite:F}=Gd(),G="521b418e6b0c0227a624515e80c9288a";O.useEffect(()=>{n&&(async()=>{x(!0),N(null);try{const ne=await Ae.get(`https://api.themoviedb.org/3/movie/${n}?api_key=${G}`);a(ne.data);const D=await Ae.get(`https://api.themoviedb.org/3/movie/${n}/credits?api_key=${G}`);u(D.data.cast.slice(0,10));const T=await Ae.get(`https://api.themoviedb.org/3/movie/${n}/videos?api_key=${G}`);p(T.data.results.filter(j=>j.site==="YouTube"&&(j.type==="Trailer"||j.type==="Teaser")).slice(0,3));const A=await Ae.get(`https://api.themoviedb.org/3/movie/${n}/similar?api_key=${G}`);_(A.data.results.slice(0,6))}catch(ne){console.error("Error fetching movie data:",ne),N("Error fetching movie details. Please try again later.")}finally{x(!1)}})()},[n,G]);const Q=s?F(s.id):!1,Y=()=>{s&&(Q?C(s.id):V({id:s.id,title:s.title,poster_path:s.poster_path,vote_average:s.vote_average}))};return E?f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse"}),f.jsx("div",{className:"container mx-auto p-4 -mt-24 relative z-10",children:f.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsx("div",{className:"md:w-1/3 h-96 bg-gray-700 rounded-lg"}),f.jsxs("div",{className:"md:w-2/3",children:[f.jsx("div",{className:"h-8 bg-gray-700 rounded w-3/4 mb-4"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-6"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4 mb-6"}),f.jsx("div",{className:"h-32 bg-gray-700 rounded mb-6"})]})]})})})]}):I||!s?f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsx("div",{className:"container mx-auto p-4 flex items-center justify-center flex-grow",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-md text-center",children:[f.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Algo sali mal"}),f.jsx("p",{className:"text-gray-400 mb-6",children:I||"No se pudo encontrar la pelcula"}),f.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Volver atrs"})]})})]}):f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsx(eP,{movie:s,videos:m,cast:l,similarMovies:y,handleFavoriteToggle:Y,isFavorited:Q}),y.length>0&&f.jsx("div",{className:"container mx-auto p-6 mt-8",children:f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Pelculas similares"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:y.map(Z=>f.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform",onClick:()=>{e(`/movie/${Z.id}`),console.log("Navegando a pelcula:",Z.id),console.log("Ruta actual:",t.pathname)},children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700",children:Z.poster_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w300${Z.poster_path}`,alt:Z.title,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-600 text-gray-400",children:f.jsx("span",{children:"No imagen"})})}),f.jsxs("div",{className:"p-3",children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("span",{className:"text-yellow-500 mr-1",children:""}),f.jsx("span",{className:"text-sm",children:Z.vote_average.toFixed(1)})]}),f.jsx("h3",{className:"font-medium text-sm text-white line-clamp-2",children:Z.title})]})]},Z.id))})]})}),f.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 bg-red-600 hover:bg-red-700 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})}/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...m},p)=>O.createElement("svg",{ref:p,...rP,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:NS("lucide",a),...m},[...u.map(([y,_])=>O.createElement(y,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=(n,e)=>{const t=O.forwardRef(({className:s,...a},l)=>O.createElement(sP,{ref:l,iconNode:e,className:NS(`lucide-${nP(n)}`,s),...a}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],aP=wy("ArrowUpNarrowWide",iP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],lP=wy("Film",oP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Lw=wy("Heart",cP);function uP(){const{favorites:n}=Gd(),[e,t]=O.useState("recent"),s=O.useMemo(()=>{if(!n.length)return[];const l=[...n];switch(e){case"recent":return l;case"rating":return l.sort((u,m)=>m.vote_average-u.vote_average);case"alphabetical":return l.sort((u,m)=>u.title.localeCompare(m.title));default:return l}},[n,e]),a=l=>{t(l.target.value)};return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-b from-blue-900 to-blue-950 text-white",children:[f.jsx(Wt,{}),f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[f.jsx(Lw,{className:"text-pink-500",size:28,fill:"currentColor"}),f.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-indigo-600",children:"Mi Coleccin Favorita"})]}),n.length===0?f.jsxs("div",{className:"text-center p-12 bg-blue-800/40 backdrop-blur-md rounded-xl border border-blue-700/50 shadow-2xl",children:[f.jsx(lP,{size:64,className:"mx-auto mb-6 text-blue-400 opacity-70"}),f.jsx("h2",{className:"text-3xl font-semibold mb-3 text-blue-100",children:"Tu Coleccin Est Vaca"}),f.jsx("p",{className:"text-blue-200 text-lg max-w-md mx-auto mb-8",children:"Explora pelculas y haz clic en el botn de corazn para comenzar a crear tu coleccin personal."}),f.jsx("a",{href:"/",className:"inline-block px-8 py-4 bg-gradient-to-r from-indigo-600 to-blue-700 hover:from-indigo-700 hover:to-blue-800 text-white font-medium rounded-full transition-all duration-300 shadow-lg hover:shadow-indigo-500/30",children:"Descubrir Pelculas"})]}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8 bg-blue-800/30 p-4 rounded-lg backdrop-blur-sm border border-blue-700/40 shadow-lg",children:[f.jsxs("p",{className:"text-xl font-medium flex items-center",children:[f.jsx("span",{className:"text-pink-500 font-bold text-2xl mr-2",children:n.length}),n.length===1?"pelcula":"pelculas"," en tu coleccin"]}),f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx(aP,{size:20,className:"text-blue-300"}),f.jsxs("select",{className:"bg-blue-900/80 border border-blue-700 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all duration-200",value:e,onChange:a,children:[f.jsx("option",{value:"recent",children:"Aadido recientemente"}),f.jsx("option",{value:"rating",children:"Mejor valoradas"}),f.jsx("option",{value:"alphabetical",children:"A-Z"})]})]})]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:s.map(l=>f.jsxs("div",{className:"relative group transform transition-all duration-300 hover:scale-105 hover:-translate-y-1",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-900/90 via-blue-900/30 to-transparent opacity-0 group-hover:opacity-100 z-10 transition-opacity duration-300 rounded-lg flex items-end",children:f.jsxs("div",{className:"p-4 w-full",children:[f.jsx("p",{className:"text-white font-medium truncate",children:l.title}),f.jsxs("div",{className:"flex items-center mt-2",children:[f.jsx(Lw,{size:16,className:"text-pink-500 mr-1",fill:"currentColor"}),f.jsx("span",{className:"text-blue-200 text-sm",children:"Favorito"})]})]})}),f.jsx("div",{className:"overflow-hidden rounded-lg shadow-lg shadow-blue-900/50",children:f.jsx(zo,{id:l.id,title:l.title,poster:`https://image.tmdb.org/t/p/w500${l.poster_path}`,rating:l.vote_average,movie:l})})]},l.id))})]})]})]})}function hP(){const[n,e]=O.useState(""),[t,s]=O.useState(""),a=Ft();async function l(u){u.preventDefault();try{const m=await HI(hd,n,t);return a("/dashboard",{replace:!0}),m.user.uid}catch(m){alert(m.message)}}return f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Wt,{}),f.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center flex-grow",children:f.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg shadow-lg w-full max-w-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Iniciar Sesin"}),f.jsxs("form",{onSubmit:l,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-white mb-2",children:"Email"}),f.jsx("input",{id:"email",type:"email",placeholder:"Ingresa tu email",value:n,onChange:u=>e(u.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-white mb-2",children:"Contrasea"}),f.jsx("input",{id:"password",type:"password",placeholder:"Ingresa tu contrasea",value:t,onChange:u=>s(u.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline",children:"Iniciar Sesin"})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("p",{className:"text-gray-400",children:["No tienes una cuenta?"," ",f.jsx("button",{onClick:()=>a("/signup"),className:"text-blue-500 hover:underline focus:outline-none",children:"Registrarse"})]})})]})})]})}function dP(){const[n,e]=O.useState(""),[t,s]=O.useState(""),a=Ft();async function l(u){u.preventDefault();try{const m=await qI(hd,n,t);return a("/dashboard",{replace:!0}),m.user.uid}catch(m){alert(m.message)}}return f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Wt,{}),f.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center flex-grow",children:f.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg shadow-lg w-full max-w-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Crear Cuenta"}),f.jsxs("form",{onSubmit:l,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-white mb-2",children:"Email"}),f.jsx("input",{id:"email",type:"email",placeholder:"Ingresa tu email",value:n,onChange:u=>e(u.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-white mb-2",children:"Contrasea"}),f.jsx("input",{id:"password",type:"password",placeholder:"Ingresa tu contrasea",value:t,onChange:u=>s(u.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline",children:"Registrarse"})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("p",{className:"text-gray-400",children:["Ya tienes una cuenta?"," ",f.jsx("button",{onClick:()=>a("/login"),className:"text-blue-500 hover:underline focus:outline-none",children:"Iniciar sesin"})]})})]})})]})}const Uw="521b418e6b0c0227a624515e80c9288a";function fP(){const[n,e]=fg();Ft();const[t,s]=O.useState([]),[a,l]=O.useState([]),[u,m]=O.useState(n.get("genero")?Number(n.get("genero")):null),[p,y]=O.useState(1),[_,E]=O.useState(0),[x,I]=O.useState(!0),[N,V]=O.useState(n.get("orden")||"popularity.desc"),[C,F]=O.useState(n.get("ao")||"");O.useEffect(()=>{(async()=>{try{const D=await Ae.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${Uw}&language=es-ES`);l(D.data.genres)}catch(D){console.error("Error fetching genres:",D)}})()},[]),O.useEffect(()=>{(async()=>{I(!0);let T="discover/movie",A=`api_key=${Uw}&language=es-ES&page=${p}&sort_by=${N}`;u&&(A+=`&with_genres=${u}`),C&&(A+=`&primary_release_year=${C}`);try{const j=await Ae.get(`https://api.themoviedb.org/3/${T}?${A}`);s(j.data.results),E(j.data.total_pages>500?500:j.data.total_pages)}catch(j){console.error("Error fetching movies:",j)}finally{I(!1)}})();const D={};u&&(D.genero=u.toString()),N&&(D.orden=N),C&&(D.ao=C),e(D)},[p,u,N,C,e]);const G=ne=>{m(ne===u?null:ne),y(1)},Q=ne=>{V(ne.target.value),y(1)},Y=ne=>{F(ne.target.value),y(1)},Z=ne=>{const D=a.find(T=>T.id===ne);return D?D.name:""};return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Pelculas"}),f.jsxs("p",{className:"text-gray-400 mt-1",children:["Explora nuestra coleccin de pelculas",u&&a.length>0&&f.jsxs("span",{children:[" de ",Z(u)]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0",children:[f.jsxs("select",{value:C,onChange:Y,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[f.jsx("option",{value:"",children:"Todos los aos"}),[...Array(30)].map((ne,D)=>{const T=new Date().getFullYear()-D;return f.jsx("option",{value:T,children:T},T)})]}),f.jsxs("select",{value:N,onChange:Q,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[f.jsx("option",{value:"popularity.desc",children:"Ms populares"}),f.jsx("option",{value:"vote_average.desc",children:"Mejor valoradas"}),f.jsx("option",{value:"primary_release_date.desc",children:"Ms recientes"}),f.jsx("option",{value:"revenue.desc",children:"Ms taquilleras"}),f.jsx("option",{value:"title.asc",children:"Ttulo A-Z"})]})]})]}),f.jsx("div",{className:"mb-8 overflow-x-auto pb-2",children:f.jsx("div",{className:"flex space-x-2",children:a.map(ne=>f.jsx("button",{onClick:()=>G(ne.id),className:`px-4 py-2 rounded-full text-sm font-medium flex-shrink-0 transition-colors ${u===ne.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:ne.name},ne.id))})}),x?f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((ne,D)=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),f.jsxs("div",{className:"p-3",children:[f.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},D))}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(ne=>f.jsx(zo,{id:ne.id,title:ne.title,poster:`https://image.tmdb.org/t/p/w500${ne.poster_path}`,rating:ne.vote_average},ne.id))}),_>1&&f.jsx("div",{className:"flex justify-center mt-10",children:f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("button",{onClick:()=>y(ne=>Math.max(ne-1,1)),disabled:p===1,className:`px-4 py-2 rounded-md ${p===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),p>3&&f.jsx("button",{onClick:()=>y(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),p>4&&f.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((ne,D)=>{const T=p-2+D;return T>0&&T<=_?f.jsx("button",{onClick:()=>y(T),className:`px-4 py-2 rounded-md ${p===T?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:T},T):null}),p<_-3&&f.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),p<_-2&&f.jsx("button",{onClick:()=>y(_),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:_}),f.jsx("button",{onClick:()=>y(ne=>Math.min(ne+1,_)),disabled:p===_,className:`px-4 py-2 rounded-md ${p===_?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}),f.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:f.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[f.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todas las pelculas"}),f.jsx("p",{children:"Este sitio no almacena ningn archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const zw="521b418e6b0c0227a624515e80c9288a";function mP({id:n,title:e,poster:t,rating:s}){const a=Ft(),l=En(),u=()=>{a(`/series/${n}`),console.log("Navegando a serie:",n),console.log("Ruta actual:",l.pathname),console.log("URL completa:",window.location.href)},m=_=>{_.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"},p=Number(s).toFixed(1),y=()=>s>=8?"bg-green-600":s>=6?"bg-yellow-600":"bg-red-600";return f.jsxs("div",{className:"relative overflow-hidden bg-gray-900 rounded-lg shadow-lg transition-all duration-300 hover:shadow-2xl cursor-pointer hover:scale-105",onClick:u,children:[f.jsx("div",{className:`absolute top-2 right-2 ${y()} text-white text-sm font-bold rounded-full h-9 w-9 flex items-center justify-center z-20 shadow-md`,children:p}),f.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[f.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover",onError:m}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-70"})]}),f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"text-white font-semibold text-lg truncate",children:e}),f.jsxs("div",{className:"flex items-center text-yellow-400",children:[f.jsx("span",{className:"mr-1",children:""}),f.jsx("span",{className:"text-sm text-gray-300",children:p})]})]})]})}function pP(){var D;const[n,e]=fg(),[t,s]=O.useState([]),[a,l]=O.useState([]),[u,m]=O.useState(n.get("genero")?Number(n.get("genero")):null),[p,y]=O.useState(1),[_,E]=O.useState(0),[x,I]=O.useState(!0),[N,V]=O.useState(n.get("orden")||"popularity.desc"),[C,F]=O.useState(n.get("network")||""),G=[{id:213,name:"Netflix"},{id:1024,name:"Amazon"},{id:2552,name:"Apple TV+"},{id:49,name:"HBO"},{id:67,name:"Showtime"},{id:337,name:"Disney+"},{id:4330,name:"Paramount+"},{id:2739,name:"Disney+ Hotstar"},{id:359,name:"Cinemax"},{id:174,name:"AMC"},{id:19,name:"FOX"},{id:6,name:"NBC"},{id:2,name:"ABC"},{id:4,name:"BBC"}];O.useEffect(()=>{(async()=>{try{const A=await Ae.get(`https://api.themoviedb.org/3/genre/tv/list?api_key=${zw}&language=es-ES`);l(A.data.genres)}catch(A){console.error("Error fetching genres:",A)}})()},[]),O.useEffect(()=>{(async()=>{I(!0);let j="discover/tv",P=`api_key=${zw}&language=es-ES&page=${p}&sort_by=${N}`;u&&(P+=`&with_genres=${u}`),C&&(P+=`&with_networks=${C}`);try{const z=await Ae.get(`https://api.themoviedb.org/3/${j}?${P}`);s(z.data.results),E(z.data.total_pages>500?500:z.data.total_pages)}catch(z){console.error("Error fetching series:",z)}finally{I(!1)}})();const A={};u&&(A.genero=u.toString()),N&&(A.orden=N),C&&(A.network=C),e(A)},[p,u,N,C,e]);const Q=T=>{m(T===u?null:T),y(1)},Y=T=>{V(T.target.value),y(1)},Z=T=>{F(T.target.value),y(1)},ne=T=>{const A=a.find(j=>j.id===T);return A?A.name:""};return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Series"}),f.jsxs("p",{className:"text-gray-400 mt-1",children:["Explora nuestra coleccin de series",u&&a.length>0&&f.jsxs("span",{children:[" de ",ne(u)]}),C&&f.jsxs("span",{children:[" en ",((D=G.find(T=>T.id.toString()===C))==null?void 0:D.name)||""]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0",children:[f.jsxs("select",{value:C,onChange:Z,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[f.jsx("option",{value:"",children:"Todas las plataformas"}),G.map(T=>f.jsx("option",{value:T.id,children:T.name},T.id))]}),f.jsxs("select",{value:N,onChange:Y,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[f.jsx("option",{value:"popularity.desc",children:"Ms populares"}),f.jsx("option",{value:"vote_average.desc",children:"Mejor valoradas"}),f.jsx("option",{value:"first_air_date.desc",children:"Ms recientes"}),f.jsx("option",{value:"name.asc",children:"Ttulo A-Z"})]})]})]}),f.jsx("div",{className:"mb-8 overflow-x-auto pb-2",children:f.jsx("div",{className:"flex space-x-2",children:a.map(T=>f.jsx("button",{onClick:()=>Q(T.id),className:`px-4 py-2 rounded-full text-sm font-medium flex-shrink-0 transition-colors ${u===T.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:T.name},T.id))})}),x?f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((T,A)=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),f.jsxs("div",{className:"p-3",children:[f.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},A))}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(T=>f.jsx(mP,{id:T.id,title:T.name,poster:`https://image.tmdb.org/t/p/w500${T.poster_path}`,rating:T.vote_average},T.id))}),_>1&&f.jsx("div",{className:"flex justify-center mt-10",children:f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("button",{onClick:()=>y(T=>Math.max(T-1,1)),disabled:p===1,className:`px-4 py-2 rounded-md ${p===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),p>3&&f.jsx("button",{onClick:()=>y(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),p>4&&f.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((T,A)=>{const j=p-2+A;return j>0&&j<=_?f.jsx("button",{onClick:()=>y(j),className:`px-4 py-2 rounded-md ${p===j?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:j},j):null}),p<_-3&&f.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),p<_-2&&f.jsx("button",{onClick:()=>y(_),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:_}),f.jsx("button",{onClick:()=>y(T=>Math.min(T+1,_)),disabled:p===_,className:`px-4 py-2 rounded-md ${p===_?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}),f.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:f.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[f.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todas las series"}),f.jsx("p",{children:"Este sitio no almacena ningn archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const Eh="521b418e6b0c0227a624515e80c9288a";function gP({series:n,videos:e}){Ft(),En();const[t,s]=O.useState("overview"),a=u=>{const m=document.createElement("div");m.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",m.innerHTML=`
            <div class="relative w-full max-w-4xl mx-4">
                <div class="absolute top-0 right-0 m-4">
                    <button class="bg-gray-800 rounded-full p-2 text-white hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="aspect-video w-full">
                    <iframe 
                        width="100%" 
                        height="100%" 
                        src="https://www.youtube.com/embed/${u}?autoplay=1" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                    ></iframe>
                </div>
            </div>
        `,document.body.appendChild(m);const p=m.querySelector("button");p==null||p.addEventListener("click",()=>{document.body.removeChild(m)}),m.addEventListener("click",y=>{y.target===m&&document.body.removeChild(m)})},l=()=>{switch(t){case"overview":return f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sinopsis"}),f.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:n.overview||"No hay sinopsis disponible para esta serie."}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[n.created_by&&n.created_by.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-medium mb-4",children:"Creada por"}),f.jsx("div",{className:"flex flex-wrap gap-4",children:n.created_by.map(u=>f.jsxs("div",{className:"flex items-center bg-gray-800 rounded-lg p-3",children:[u.profile_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w200${u.profile_path}`,alt:u.name,className:"h-12 w-12 rounded-full object-cover mr-3"}):f.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gray-700 rounded-full mr-3",children:f.jsx("span",{children:u.name.substring(0,1)})}),f.jsx("span",{children:u.name})]},u.id))})]}),n.networks&&n.networks.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-medium mb-4",children:"Disponible en"}),f.jsx("div",{className:"flex flex-wrap gap-4",children:n.networks.map(u=>f.jsxs("div",{className:"flex items-center bg-gray-800 rounded-lg p-3",children:[u.logo_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w200${u.logo_path}`,alt:u.name,className:"h-10 object-contain mr-3"}):f.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-700 rounded-full mr-3",children:f.jsx("span",{children:u.name.substring(0,1)})}),f.jsx("span",{children:u.name})]},u.id))})]})]})]});case"seasons":return f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Temporadas"}),n.seasons&&n.seasons.length>0?f.jsx("div",{className:"space-y-6",children:n.seasons.filter(u=>u.season_number>0).map(u=>f.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:f.jsxs("div",{className:"flex flex-col md:flex-row",children:[f.jsx("div",{className:"md:w-1/4",children:u.poster_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w300${u.poster_path}`,alt:u.name,className:"w-full h-auto"}):f.jsx("div",{className:"w-full aspect-[2/3] flex items-center justify-center bg-gray-700 text-gray-400",children:f.jsx("span",{children:"No imagen"})})}),f.jsxs("div",{className:"p-4 md:p-6 md:w-3/4",children:[f.jsx("h3",{className:"text-xl font-medium mb-2",children:u.name}),f.jsxs("div",{className:"flex items-center mb-4 text-gray-400",children:[f.jsx("span",{children:u.air_date?new Date(u.air_date).getFullYear():"Fecha no disponible"}),f.jsx("span",{className:"mx-2",children:""}),f.jsxs("span",{children:[u.episode_count," episodios"]})]}),f.jsx("p",{className:"text-gray-300",children:u.overview||`La temporada ${u.season_number} de ${n.name} se estren el ${u.air_date?new Date(u.air_date).toLocaleDateString("es-ES"):"fecha no disponible"}.`}),f.jsx("button",{className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition-colors",children:"Ver episodios"})]})]})},u.id))}):f.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:f.jsx("p",{className:"text-gray-400",children:"No hay informacin de temporadas disponible para esta serie."})})]});case"cast":return f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Reparto principal"}),f.jsx("p",{className:"text-gray-400",children:"Cargando informacin del reparto..."})]});case"videos":return f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Videos"}),e.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform",onClick:()=>a(u.key),children:[f.jsxs("div",{className:"relative aspect-video",children:[f.jsx("img",{src:`https://img.youtube.com/vi/${u.key}/hqdefault.jpg`,alt:u.name,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"bg-red-600 bg-opacity-80 rounded-full p-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})})]}),f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"font-medium text-white truncate",children:u.name}),f.jsx("p",{className:"text-sm text-gray-400",children:u.type})]})]},u.key))}):f.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:f.jsx("p",{className:"text-gray-400",children:"No hay videos disponibles para esta serie."})})]});default:return null}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"w-full h-[80vh] lg:h-[70vh]",children:[f.jsx("img",{src:`https://image.tmdb.org/t/p/original${n.backdrop_path}`,alt:n.name,className:"w-full h-full object-cover",onError:u=>{u.currentTarget.src="https://via.placeholder.com/1440x800?text=No+Backdrop+Available"}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"})]}),e.length>0&&f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:f.jsxs("button",{className:"bg-red-600 bg-opacity-90 hover:bg-opacity-100 rounded-full w-20 h-20 flex items-center justify-center transition-all duration-300 hover:scale-110",onClick:()=>a(e[0].key),children:[f.jsx("span",{className:"sr-only",children:"Ver trailer"}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})]})})]}),f.jsx("div",{className:"container mx-auto p-4 -mt-40 relative z-10",children:f.jsx("div",{className:"bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:f.jsx("div",{className:"p-6 md:p-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsxs("div",{className:"md:w-1/3 lg:w-1/4",children:[f.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg transform -translate-y-16 border-4 border-gray-800",children:f.jsx("img",{src:`https://image.tmdb.org/t/p/w500${n.poster_path}`,alt:n.name,className:"w-full h-auto",onError:u=>{u.currentTarget.src="https://via.placeholder.com/500x750?text=No+Poster+Available"}})}),f.jsxs("div",{className:"mt-4 space-y-3",children:[f.jsxs("button",{className:"w-full py-3 rounded-lg flex items-center justify-center transition-colors font-medium text-sm bg-blue-600 hover:bg-blue-700 text-white",children:[f.jsx("span",{className:"mr-2 text-lg",children:""}),"Aadir a favoritos"]}),e.length>0&&f.jsxs("button",{onClick:()=>a(e[0].key),className:"md:hidden w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center transition-colors font-medium text-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Ver trailer"]})]}),f.jsxs("div",{className:"mt-6 bg-gray-900 rounded-xl p-5 space-y-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Estado"}),f.jsx("p",{className:"font-medium",children:n.status||"N/A"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Fecha de estreno"}),f.jsx("p",{className:"font-medium",children:new Date(n.first_air_date).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]}),n.last_air_date&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"ltimo episodio"}),f.jsx("p",{className:"font-medium",children:new Date(n.last_air_date).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Temporadas"}),f.jsx("p",{className:"font-medium",children:n.number_of_seasons})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Episodios"}),f.jsx("p",{className:"font-medium",children:n.number_of_episodes})]})]})]}),f.jsxs("div",{className:"md:w-2/3 lg:w-3/4",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.name}),n.tagline&&f.jsx("p",{className:"text-gray-400 text-xl italic mb-4",children:n.tagline}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[f.jsxs("div",{className:"flex items-center bg-yellow-600 text-white px-3 py-1 rounded-full font-medium",children:[f.jsx("span",{className:"mr-1",children:""}),n.vote_average.toFixed(1)]}),f.jsx("span",{className:"text-gray-400",children:""}),f.jsx("span",{className:"text-gray-300",children:new Date(n.first_air_date).getFullYear()}),f.jsx("span",{className:"text-gray-400",children:""}),f.jsxs("span",{className:"text-gray-300",children:[n.number_of_seasons," ",n.number_of_seasons===1?"temporada":"temporadas"]})]}),f.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:n.genres.map(u=>f.jsx("span",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 cursor-pointer rounded-full text-sm",children:u.name},u.id))}),f.jsx("div",{className:"mt-8 border-b border-gray-700",children:f.jsxs("div",{className:"flex space-x-6 overflow-x-auto pb-1",children:[f.jsxs("button",{onClick:()=>s("overview"),className:`py-3 font-medium relative ${t==="overview"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Sinopsis",t==="overview"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),f.jsxs("button",{onClick:()=>s("seasons"),className:`py-3 font-medium relative ${t==="seasons"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Temporadas",t==="seasons"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),f.jsxs("button",{onClick:()=>s("cast"),className:`py-3 font-medium relative ${t==="cast"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Reparto",t==="cast"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),e.length>0&&f.jsxs("button",{onClick:()=>s("videos"),className:`py-3 font-medium relative ${t==="videos"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Videos",t==="videos"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]})]})}),l()]})]})})})})]})}function yP(){const{id:n}=Xw(),e=Ft();En();const[t,s]=O.useState(null),[a,l]=O.useState([]),[u,m]=O.useState([]),[p,y]=O.useState([]),[_,E]=O.useState(!0),[x,I]=O.useState(null);return O.useEffect(()=>{n&&(async()=>{E(!0),I(null);try{const V=await Ae.get(`https://api.themoviedb.org/3/tv/${n}?api_key=${Eh}&language=es-ES`);s(V.data);const C=await Ae.get(`https://api.themoviedb.org/3/tv/${n}/credits?api_key=${Eh}`);l(C.data.cast.slice(0,10));const F=await Ae.get(`https://api.themoviedb.org/3/tv/${n}/videos?api_key=${Eh}`);m(F.data.results.filter(Q=>Q.site==="YouTube"&&(Q.type==="Trailer"||Q.type==="Teaser")).slice(0,3));const G=await Ae.get(`https://api.themoviedb.org/3/tv/${n}/similar?api_key=${Eh}`);y(G.data.results.slice(0,6))}catch(V){console.error("Error fetching series data:",V),I("Error al cargar los detalles de la serie. Por favor, intntalo de nuevo ms tarde.")}finally{E(!1)}})()},[n]),_?f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse"}),f.jsx("div",{className:"container mx-auto p-4 -mt-24 relative z-10",children:f.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsx("div",{className:"md:w-1/3 h-96 bg-gray-700 rounded-lg"}),f.jsxs("div",{className:"md:w-2/3",children:[f.jsx("div",{className:"h-8 bg-gray-700 rounded w-3/4 mb-4"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-6"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4 mb-6"}),f.jsx("div",{className:"h-32 bg-gray-700 rounded mb-6"})]})]})})})]}):x||!t?f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsx("div",{className:"container mx-auto p-4 flex items-center justify-center flex-grow",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-md text-center",children:[f.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Algo sali mal"}),f.jsx("p",{className:"text-gray-400 mb-6",children:x||"No se pudo encontrar la serie"}),f.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Volver atrs"})]})})]}):f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),f.jsx(gP,{series:t,videos:u}),p.length>0&&f.jsx("div",{className:"container mx-auto p-6 mt-8",children:f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Series similares"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:p.map(N=>f.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform",onClick:()=>e(`/series/${N.id}`),children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700",children:N.poster_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w300${N.poster_path}`,alt:N.name,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-600 text-gray-400",children:f.jsx("span",{children:"No imagen"})})}),f.jsxs("div",{className:"p-3",children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("span",{className:"text-yellow-500 mr-1",children:""}),f.jsx("span",{className:"text-sm",children:N.vote_average.toFixed(1)})]}),f.jsx("h3",{className:"font-medium text-sm text-white line-clamp-2",children:N.name})]})]},N.id))})]})}),f.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 bg-red-600 hover:bg-red-700 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),f.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:f.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[f.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Series y Pelculas"}),f.jsx("p",{children:"Este sitio no almacena ningn archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const _p="521b418e6b0c0227a624515e80c9288a",Bw=n=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("es-ES",e)};function vP(){const n=Ft(),[e,t]=O.useState([]),[s,a]=O.useState([]),[l,u]=O.useState(null),[m,p]=O.useState(!0);O.useEffect(()=>{(async()=>{p(!0);try{const x=(await Ae.get(`https://api.themoviedb.org/3/movie/now_playing?api_key=${_p}&language=es-ES&page=1&region=ES`)).data.results;if(t(x),x.length>0){const N=Math.floor(Math.random()*Math.min(5,x.length)),V=x[N].id,C=await Ae.get(`https://api.themoviedb.org/3/movie/${V}?api_key=${_p}&language=es-ES`);u(C.data)}const I=await Ae.get(`https://api.themoviedb.org/3/movie/upcoming?api_key=${_p}&language=es-ES&page=1&region=ES`);a(I.data.results)}catch(E){console.error("Error fetching movies:",E)}finally{p(!1)}})()},[]);const y={};return s.forEach(_=>{if(!_.release_date)return;const E=new Date(_.release_date),x=`${E.toLocaleString("es-ES",{month:"long"})} ${E.getFullYear()}`;y[x]||(y[x]=[]),y[x].push(_)}),f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[f.jsx(Wt,{}),m?f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse mb-10 rounded-xl"}),f.jsx("div",{className:"h-8 w-64 bg-gray-800 animate-pulse mb-6"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[...Array(5)].map((_,E)=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),f.jsxs("div",{className:"p-3",children:[f.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},E))}),f.jsx("div",{className:"h-8 w-64 bg-gray-800 animate-pulse my-6"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[...Array(5)].map((_,E)=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),f.jsxs("div",{className:"p-3",children:[f.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},E))})]}):f.jsxs(f.Fragment,{children:[l&&f.jsxs("div",{className:"relative w-full h-[60vh] mb-10",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("img",{src:`https://image.tmdb.org/t/p/original${l.backdrop_path}`,alt:l.title,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"})]}),f.jsx("div",{className:"container mx-auto px-4 h-full flex items-center",children:f.jsxs("div",{className:"max-w-xl z-10",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-3",children:l.title}),f.jsxs("div",{className:"flex items-center text-sm mb-4",children:[f.jsx("span",{className:"bg-blue-600 px-2 py-1 rounded-md font-medium mr-3",children:"ESTRENO"}),f.jsx("span",{className:"text-gray-300",children:Bw(l.release_date)}),f.jsx("span",{className:"mx-2",children:""}),f.jsxs("span",{className:"flex items-center text-yellow-400",children:[f.jsx("span",{className:"mr-1",children:""}),l.vote_average.toFixed(1)]})]}),f.jsx("p",{className:"text-gray-300 mb-6 line-clamp-3",children:l.overview}),f.jsx("button",{onClick:()=>n(`/movie/${l.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Ver detalles"})]})})]}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"mb-12",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"En cines ahora"}),f.jsx("button",{onClick:()=>n("/peliculas?orden=primary_release_date.desc"),className:"text-blue-500 hover:text-blue-400 text-sm font-medium",children:"Ver todos"})]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.slice(0,5).map(_=>f.jsx(zo,{id:_.id,title:_.title,poster:`https://image.tmdb.org/t/p/w500${_.poster_path}`,rating:_.vote_average},_.id))})]}),f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Prximos estrenos"}),Object.keys(y).sort().map(_=>f.jsxs("div",{className:"mb-10",children:[f.jsx("h3",{className:"text-xl font-medium mb-4 text-blue-500",children:_.charAt(0).toUpperCase()+_.slice(1)}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:y[_].map(E=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer transition-transform hover:scale-105",onClick:()=>n(`/movie/${E.id}`),children:[f.jsxs("div",{className:"relative aspect-[2/3]",children:[E.poster_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w500${E.poster_path}`,alt:E.title,className:"w-full h-full object-cover",onError:x=>{x.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"}}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-gray-500",children:f.jsx("span",{className:"text-sm text-center p-2",children:"Sin imagen"})}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-gray-900 to-transparent p-2",children:f.jsx("div",{className:"text-xs text-white font-medium",children:Bw(E.release_date)})})]}),f.jsxs("div",{className:"p-3",children:[f.jsx("h4",{className:"font-medium truncate",children:E.title}),f.jsxs("div",{className:"flex items-center text-xs text-blue-500",children:[f.jsx("span",{className:"mr-1",children:""}),f.jsx("span",{children:"Prximamente"})]})]})]},E.id))})]},_))]})]}),f.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:f.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[f.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todos los estrenos"}),f.jsx("p",{children:"Este sitio no almacena ningn archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const bp="521b418e6b0c0227a624515e80c9288a";function _P(){const[n,e]=fg(),t=Ft(),s=n.get("q")||"",[a,l]=O.useState("movies"),[u,m]=O.useState({movies:[],people:[],total_movies:0,total_people:0,total_results:0}),[p,y]=O.useState(!1),[_,E]=O.useState(null),[x,I]=O.useState(1),[N,V]=O.useState(0),[C,F]=O.useState(s);O.useEffect(()=>{if(!s)return;(async()=>{y(!0),E(null);try{const Z=await Ae.get(`https://api.themoviedb.org/3/search/movie?api_key=${bp}&language=es-ES&query=${s}&page=${x}&include_adult=false`),ne=await Ae.get(`https://api.themoviedb.org/3/search/person?api_key=${bp}&language=es-ES&query=${s}&page=1&include_adult=false`),D=await Ae.get(`https://api.themoviedb.org/3/search/multi?api_key=${bp}&language=es-ES&query=${s}&page=1&include_adult=false`);m({movies:Z.data.results,people:ne.data.results,total_movies:Z.data.total_results,total_people:ne.data.total_results,total_results:D.data.total_results}),V(Z.data.total_pages>500?500:Z.data.total_pages)}catch(Z){console.error("Error fetching search results:",Z),E("Ocurri un error al buscar. Por favor intenta nuevamente.")}finally{y(!1)}})()},[s,x]);const G=Y=>{Y.preventDefault(),C.trim()&&(I(1),e({q:C}))},Q=Y=>{l(Y)};return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white overflow-hidden",children:[f.jsx(Wt,{}),f.jsxs("div",{className:"w-full px-4 py-8",children:[f.jsx("div",{className:"mb-8 w-full max-w-full",children:f.jsxs("form",{onSubmit:G,className:"flex flex-col sm:flex-row w-full max-w-full sm:max-w-3xl mx-auto",children:[f.jsx("input",{type:"text",value:C,onChange:Y=>F(Y.target.value),placeholder:"Buscar pelculas, actores, directores...",className:"w-full bg-gray-800 text-white border border-gray-700 rounded-lg sm:rounded-l-lg sm:rounded-r-none px-3 sm:px-5 py-3 focus:outline-none focus:border-blue-500 mb-2 sm:mb-0"}),f.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-3 rounded-lg sm:rounded-l-none sm:rounded-r-lg font-medium transition-colors",disabled:p,children:p?"Buscando...":"Buscar"})]})}),_?f.jsxs("div",{className:"text-center text-red-500 p-8 bg-gray-800 rounded-lg",children:[f.jsx("p",{className:"text-xl font-bold mb-2",children:"Error"}),f.jsx("p",{children:_})]}):s?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs("h1",{className:"text-2xl font-bold mb-1",children:['Resultados para: "',s,'"']}),f.jsxs("p",{className:"text-gray-400",children:["Se encontraron ",u.total_results," resultados"]})]}),f.jsx("div",{className:"mb-6 border-b border-gray-800",children:f.jsxs("div",{className:"flex space-x-8",children:[f.jsxs("button",{onClick:()=>Q("movies"),className:`py-3 font-medium relative ${a==="movies"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Pelculas (",u.total_movies,")",a==="movies"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]}),f.jsxs("button",{onClick:()=>Q("people"),className:`py-3 font-medium relative ${a==="people"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Personas (",u.total_people,")",a==="people"&&f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]})]})}),p?f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((Y,Z)=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),f.jsxs("div",{className:"p-3",children:[f.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},Z))}):f.jsxs(f.Fragment,{children:[a==="movies"&&f.jsx(f.Fragment,{children:u.movies.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsxs("p",{className:"text-xl text-gray-400",children:['No se encontraron pelculas para "',s,'"']})}):f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:u.movies.map(Y=>f.jsx(zo,{id:Y.id,title:Y.title,poster:Y.poster_path?`https://image.tmdb.org/t/p/w500${Y.poster_path}`:"https://via.placeholder.com/300x450?text=No+Image",rating:Y.vote_average},Y.id))})}),a==="people"&&f.jsx(f.Fragment,{children:u.people.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsxs("p",{className:"text-xl text-gray-400",children:['No se encontraron personas para "',s,'"']})}):f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:u.people.map(Y=>f.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>t(`/person/${Y.id}`),children:[f.jsx("div",{className:"aspect-[2/3] bg-gray-700 relative",children:Y.profile_path?f.jsx("img",{src:`https://image.tmdb.org/t/p/w500${Y.profile_path}`,alt:Y.name,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"font-medium text-lg",children:Y.name}),f.jsx("p",{className:"text-sm text-gray-400",children:Y.known_for_department}),Y.known_for&&Y.known_for.length>0&&f.jsxs("div",{className:"mt-2",children:[f.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Conocido por:"}),f.jsx("div",{className:"text-xs text-gray-400 line-clamp-2",children:Y.known_for.map((Z,ne)=>f.jsxs("span",{children:[Z.title||Z.name,ne<Y.known_for.length-1?", ":""]},ne))})]})]})]},Y.id))})}),a==="movies"&&N>1&&f.jsx("div",{className:"flex justify-center mt-10",children:f.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[f.jsx("button",{onClick:()=>I(Y=>Math.max(Y-1,1)),disabled:x===1,className:`px-4 py-2 rounded-md ${x===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),x>3&&f.jsx("button",{onClick:()=>I(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),x>4&&f.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(window.innerWidth<640?3:5)].map((Y,Z)=>{const ne=window.innerWidth<640?1:2,D=x-ne+Z;return D>0&&D<=N?f.jsx("button",{onClick:()=>I(D),className:`px-4 py-2 rounded-md ${x===D?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:D},D):null}),x<N-3&&f.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),x<N-2&&f.jsx("button",{onClick:()=>I(N),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:N}),f.jsx("button",{onClick:()=>I(Y=>Math.min(Y+1,N)),disabled:x===N,className:`px-4 py-2 rounded-md ${x===N?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}):f.jsxs("div",{className:"text-center py-16",children:[f.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Buscar contenido"}),f.jsx("p",{className:"text-gray-400 mb-6 max-w-lg mx-auto",children:"Ingresa un trmino de bsqueda para encontrar pelculas, actores, directores y ms."}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6 mt-10",children:[f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center cursor-pointer hover:bg-gray-750 transition-colors max-w-xs w-full mx-auto sm:mx-0",onClick:()=>t("/peliculas"),children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("h3",{className:"text-lg font-medium mb-2",children:"Explorar pelculas"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Explora las pelculas ms populares y recientes"})]}),f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center cursor-pointer hover:bg-gray-750 transition-colors max-w-xs w-full mx-auto sm:mx-0",onClick:()=>t("/series"),children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("h3",{className:"text-lg font-medium mb-2",children:"Explorar series"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Descubre las series ms populares del momento"})]})]})]})]}),f.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:f.jsxs("div",{className:"w-full px-4 text-center text-gray-400",children:[f.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Buscar"}),f.jsx("p",{children:"Este sitio no almacena ningn archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}function wp({children:n}){const{user:e}=O.useContext(pr);return e?n:f.jsx(JR,{to:"/login"})}const Ep={description:""},bP=O.createContext({userProfile:null,isLoading:!0,error:null,updateUserDescription:async()=>{}}),wP=({children:n})=>{const{user:e}=O.useContext(pr),[t,s]=O.useState(null),[a,l]=O.useState(!0),[u,m]=O.useState(null);O.useEffect(()=>{(async()=>{if(!e){s(null),l(!1);return}l(!0);try{const _=or(_n,"users",e.uid),E=await xS(_);E.exists()?s(E.data()):(await sg(_,Ep),s(Ep))}catch(_){console.error("Error fetching user profile:",_),m("No se pudo cargar el perfil de usuario. Por favor, intntalo de nuevo ms tarde.")}finally{l(!1)}})()},[e]);const p=async y=>{if(e)try{const _=or(_n,"users",e.uid);await Rc(_,{description:y}),s(E=>E?{...E,description:y}:Ep)}catch(_){throw console.error("Error updating user description:",_),m("No se pudo actualizar la descripcin. Por favor, intntalo de nuevo ms tarde."),_}};return f.jsx(bP.Provider,{value:{userProfile:t,isLoading:a,error:u,updateUserDescription:p},children:n})};function EP(){return f.jsx(qM,{children:f.jsx(wP,{children:f.jsx(HM,{children:f.jsx(ZM,{children:f.jsxs(t1,{children:[f.jsx(In,{path:"/",element:f.jsx(KM,{})}),f.jsx(In,{path:"/dashboard",element:f.jsx(wp,{children:f.jsx(YM,{})})}),f.jsx(In,{path:"/profile",element:f.jsx(wp,{children:f.jsx(XM,{})})}),f.jsx(In,{path:"/movie/:id",element:f.jsx(tP,{})}),f.jsx(In,{path:"/favorites",element:f.jsx(wp,{children:f.jsx(uP,{})})}),f.jsx(In,{path:"/login",element:f.jsx(hP,{})}),f.jsx(In,{path:"/signup",element:f.jsx(dP,{})}),f.jsx(In,{path:"/peliculas",element:f.jsx(fP,{})}),f.jsx(In,{path:"/series",element:f.jsx(pP,{})}),f.jsx(In,{path:"/series/:id",element:f.jsx(yP,{})}),f.jsx(In,{path:"/estrenos",element:f.jsx(vP,{})}),f.jsx(In,{path:"/search",element:f.jsx(_P,{})})]})})})})})}uR.createRoot(document.getElementById("root")).render(f.jsx(nR.StrictMode,{children:f.jsx(A1,{children:f.jsx(EP,{})})}));
//# sourceMappingURL=index-DzOfjr5C.js.map
