(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function cb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function _A(){if(W0)return Kl;W0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var Z0;function EA(){return Z0||(Z0=1,Dm.exports=_A()),Dm.exports}var y=EA(),Om={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function bA(){if(J0)return Ne;J0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,z={};function N(P,ae,me){this.props=P,this.context=ae,this.refs=z,this.updater=me||I}N.prototype.isReactComponent={},N.prototype.setState=function(P,ae){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ae,"setState")},N.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function q(){}q.prototype=N.prototype;function Q(P,ae,me){this.props=P,this.context=ae,this.refs=z,this.updater=me||I}var X=Q.prototype=new q;X.constructor=Q,C(X,N.prototype),X.isPureReactComponent=!0;var te=Array.isArray,ie={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function M(P,ae,me,ue,ce,Ce){return me=Ce.ref,{$$typeof:r,type:P,key:ae,ref:me!==void 0?me:null,props:Ce}}function T(P,ae){return M(P.type,ae,void 0,void 0,void 0,P.props)}function A(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function D(P){var ae={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return ae[me]})}var V=/\/+/g;function B(P,ae){return typeof P=="object"&&P!==null&&P.key!=null?D(""+P.key):ae.toString(36)}function k(){}function bt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(k,k):(P.status="pending",P.then(function(ae){P.status==="pending"&&(P.status="fulfilled",P.value=ae)},function(ae){P.status==="pending"&&(P.status="rejected",P.reason=ae)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function pt(P,ae,me,ue,ce){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var Re=!1;if(P===null)Re=!0;else switch(Ce){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(P.$$typeof){case r:case e:Re=!0;break;case _:return Re=P._init,pt(Re(P._payload),ae,me,ue,ce)}}if(Re)return ce=ce(P),Re=ue===""?"."+B(P,0):ue,te(ce)?(me="",Re!=null&&(me=Re.replace(V,"$&/")+"/"),pt(ce,ae,me,"",function(at){return at})):ce!=null&&(A(ce)&&(ce=T(ce,me+(ce.key==null||P&&P.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+Re)),ae.push(ce)),1;Re=0;var gt=ue===""?".":ue+":";if(te(P))for(var He=0;He<P.length;He++)ue=P[He],Ce=gt+B(ue,He),Re+=pt(ue,ae,me,Ce,ce);else if(He=R(P),typeof He=="function")for(P=He.call(P),He=0;!(ue=P.next()).done;)ue=ue.value,Ce=gt+B(ue,He++),Re+=pt(ue,ae,me,Ce,ce);else if(Ce==="object"){if(typeof P.then=="function")return pt(bt(P),ae,me,ue,ce);throw ae=String(P),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Re}function le(P,ae,me){if(P==null)return P;var ue=[],ce=0;return pt(P,ue,"","",function(Ce){return ae.call(me,Ce,ce++)}),ue}function Ee(P){if(P._status===-1){var ae=P._result;ae=ae(),ae.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=ae)}if(P._status===1)return P._result.default;throw P._result}var ge=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ge(){}return Ne.Children={map:le,forEach:function(P,ae,me){le(P,function(){ae.apply(this,arguments)},me)},count:function(P){var ae=0;return le(P,function(){ae++}),ae},toArray:function(P){return le(P,function(ae){return ae})||[]},only:function(P){if(!A(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ne.Component=N,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=Q,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.cache=function(P){return function(){return P.apply(null,arguments)}},Ne.cloneElement=function(P,ae,me){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=C({},P.props),ce=P.key,Ce=void 0;if(ae!=null)for(Re in ae.ref!==void 0&&(Ce=void 0),ae.key!==void 0&&(ce=""+ae.key),ae)!ne.call(ae,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ae.ref===void 0||(ue[Re]=ae[Re]);var Re=arguments.length-2;if(Re===1)ue.children=me;else if(1<Re){for(var gt=Array(Re),He=0;He<Re;He++)gt[He]=arguments[He+2];ue.children=gt}return M(P.type,ce,void 0,void 0,Ce,ue)},Ne.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ne.createElement=function(P,ae,me){var ue,ce={},Ce=null;if(ae!=null)for(ue in ae.key!==void 0&&(Ce=""+ae.key),ae)ne.call(ae,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=ae[ue]);var Re=arguments.length-2;if(Re===1)ce.children=me;else if(1<Re){for(var gt=Array(Re),He=0;He<Re;He++)gt[He]=arguments[He+2];ce.children=gt}if(P&&P.defaultProps)for(ue in Re=P.defaultProps,Re)ce[ue]===void 0&&(ce[ue]=Re[ue]);return M(P,Ce,void 0,void 0,null,ce)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:d,render:P}},Ne.isValidElement=A,Ne.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:Ee}},Ne.memo=function(P,ae){return{$$typeof:g,type:P,compare:ae===void 0?null:ae}},Ne.startTransition=function(P){var ae=ie.T,me={};ie.T=me;try{var ue=P(),ce=ie.S;ce!==null&&ce(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ge,ge)}catch(Ce){ge(Ce)}finally{ie.T=ae}},Ne.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ne.use=function(P){return ie.H.use(P)},Ne.useActionState=function(P,ae,me){return ie.H.useActionState(P,ae,me)},Ne.useCallback=function(P,ae){return ie.H.useCallback(P,ae)},Ne.useContext=function(P){return ie.H.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P,ae){return ie.H.useDeferredValue(P,ae)},Ne.useEffect=function(P,ae){return ie.H.useEffect(P,ae)},Ne.useId=function(){return ie.H.useId()},Ne.useImperativeHandle=function(P,ae,me){return ie.H.useImperativeHandle(P,ae,me)},Ne.useInsertionEffect=function(P,ae){return ie.H.useInsertionEffect(P,ae)},Ne.useLayoutEffect=function(P,ae){return ie.H.useLayoutEffect(P,ae)},Ne.useMemo=function(P,ae){return ie.H.useMemo(P,ae)},Ne.useOptimistic=function(P,ae){return ie.H.useOptimistic(P,ae)},Ne.useReducer=function(P,ae,me){return ie.H.useReducer(P,ae,me)},Ne.useRef=function(P){return ie.H.useRef(P)},Ne.useState=function(P){return ie.H.useState(P)},Ne.useSyncExternalStore=function(P,ae,me){return ie.H.useSyncExternalStore(P,ae,me)},Ne.useTransition=function(){return ie.H.useTransition()},Ne.version="19.0.0",Ne}var e_;function qp(){return e_||(e_=1,Om.exports=bA()),Om.exports}var j=qp();const wA=cb(j);var Mm={exports:{}},Ql={},km={exports:{}},jm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function TA(){return t_||(t_=1,function(r){function e(le,Ee){var ge=le.length;le.push(Ee);e:for(;0<ge;){var Ge=ge-1>>>1,P=le[Ge];if(0<a(P,Ee))le[Ge]=Ee,le[ge]=P,ge=Ge;else break e}}function t(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var Ee=le[0],ge=le.pop();if(ge!==Ee){le[0]=ge;e:for(var Ge=0,P=le.length,ae=P>>>1;Ge<ae;){var me=2*(Ge+1)-1,ue=le[me],ce=me+1,Ce=le[ce];if(0>a(ue,ge))ce<P&&0>a(Ce,ue)?(le[Ge]=Ce,le[ce]=ge,Ge=ce):(le[Ge]=ue,le[me]=ge,Ge=me);else if(ce<P&&0>a(Ce,ge))le[Ge]=Ce,le[ce]=ge,Ge=ce;else break e}}return Ee}function a(le,Ee){var ge=le.sortIndex-Ee.sortIndex;return ge!==0?ge:le.id-Ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,w=null,R=3,I=!1,C=!1,z=!1,N=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function X(le){for(var Ee=t(g);Ee!==null;){if(Ee.callback===null)s(g);else if(Ee.startTime<=le)s(g),Ee.sortIndex=Ee.expirationTime,e(m,Ee);else break;Ee=t(g)}}function te(le){if(z=!1,X(le),!C)if(t(m)!==null)C=!0,bt();else{var Ee=t(g);Ee!==null&&pt(te,Ee.startTime-le)}}var ie=!1,ne=-1,M=5,T=-1;function A(){return!(r.unstable_now()-T<M)}function D(){if(ie){var le=r.unstable_now();T=le;var Ee=!0;try{e:{C=!1,z&&(z=!1,q(ne),ne=-1),I=!0;var ge=R;try{t:{for(X(le),w=t(m);w!==null&&!(w.expirationTime>le&&A());){var Ge=w.callback;if(typeof Ge=="function"){w.callback=null,R=w.priorityLevel;var P=Ge(w.expirationTime<=le);if(le=r.unstable_now(),typeof P=="function"){w.callback=P,X(le),Ee=!0;break t}w===t(m)&&s(m),X(le)}else s(m);w=t(m)}if(w!==null)Ee=!0;else{var ae=t(g);ae!==null&&pt(te,ae.startTime-le),Ee=!1}}break e}finally{w=null,R=ge,I=!1}Ee=void 0}}finally{Ee?V():ie=!1}}}var V;if(typeof Q=="function")V=function(){Q(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,k=B.port2;B.port1.onmessage=D,V=function(){k.postMessage(null)}}else V=function(){N(D,0)};function bt(){ie||(ie=!0,V())}function pt(le,Ee){ne=N(function(){le(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(le){le.callback=null},r.unstable_continueExecution=function(){C||I||(C=!0,bt())},r.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<le?Math.floor(1e3/le):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(m)},r.unstable_next=function(le){switch(R){case 1:case 2:case 3:var Ee=3;break;default:Ee=R}var ge=R;R=Ee;try{return le()}finally{R=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(le,Ee){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ge=R;R=le;try{return Ee()}finally{R=ge}},r.unstable_scheduleCallback=function(le,Ee,ge){var Ge=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,le){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ge+P,le={id:_++,callback:Ee,priorityLevel:le,startTime:ge,expirationTime:P,sortIndex:-1},ge>Ge?(le.sortIndex=ge,e(g,le),t(m)===null&&le===t(g)&&(z?(q(ne),ne=-1):z=!0,pt(te,ge-Ge))):(le.sortIndex=P,e(m,le),C||I||(C=!0,bt())),le},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(le){var Ee=R;return function(){var ge=R;R=Ee;try{return le.apply(this,arguments)}finally{R=ge}}}}(jm)),jm}var n_;function xA(){return n_||(n_=1,km.exports=TA()),km.exports}var Pm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function SA(){if(r_)return Yt;r_=1;var r=qp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:m,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Yt.flushSync=function(m){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=_,s.d.f()}},Yt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Yt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Yt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:I}):_==="script"&&s.d.X(m,{crossOrigin:w,integrity:R,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Yt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Yt.requestFormReset=function(m){s.d.r(m)},Yt.unstable_batchedUpdates=function(m,g){return m(g)},Yt.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var i_;function AA(){if(i_)return Pm.exports;i_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=SA(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function RA(){if(s_)return Ql;s_=1;var r=xA(),e=qp(),t=AA();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ne(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function T(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case d:return"Portal";case _:return"Profiler";case g:return"StrictMode";case z:return"Suspense";case N:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case I:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case C:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return i=n.displayName||null,i!==null?i:T(n.type)||"Memo";case Q:i=n._payload,n=n._init;try{return T(n(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,V,B;function k(n){if(V===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",B=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+n+B}var bt=!1;function pt(n,i){if(!n||bt)return"";bt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var G=W}Reflect.construct(n,[],re)}else{try{re.call()}catch(W){G=W}n.call(re.prototype)}}else{try{throw Error()}catch(W){G=W}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&G&&typeof W.stack=="string")return[W.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var O=b.split(`
`),U=x.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===U.length)for(u=O.length-1,f=U.length-1;1<=u&&0<=f&&O[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==U[f]){var Z=`
`+O[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?k(o):""}function le(n){switch(n.tag){case 26:case 27:case 5:return k(n.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return n=pt(n.type,!1),n;case 11:return n=pt(n.type.render,!1),n;case 1:return n=pt(n.type,!0),n;default:return""}}function Ee(n){try{var i="";do i+=le(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ge(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function Ge(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function P(n){if(ge(n)!==n)throw Error(s(188))}function ae(n){var i=n.alternate;if(!i){if(i=ge(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return P(f),n;if(p===u)return P(f),i;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var b=!1,x=f.child;x;){if(x===o){b=!0,o=f,u=p;break}if(x===u){b=!0,u=f,o=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===o){b=!0,o=p,u=f;break}if(x===u){b=!0,u=p,o=f;break}x=x.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function me(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=me(n),i!==null)return i;n=n.sibling}return null}var ue=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Re=[],gt=-1;function He(n){return{current:n}}function at(n){0>gt||(n.current=Re[gt],Re[gt]=null,gt--)}function Ye(n,i){gt++,Re[gt]=n.current,n.current=i}var nn=He(null),jr=He(null),In=He(null),vi=He(null);function _i(n,i){switch(Ye(In,i),Ye(jr,n),Ye(nn,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?A0(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=A0(n),i=R0(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}at(nn),Ye(nn,i)}function Pr(){at(nn),at(jr),at(In)}function Ho(n){n.memoizedState!==null&&Ye(vi,n);var i=nn.current,o=R0(i,n.type);i!==o&&(Ye(jr,n),Ye(nn,o))}function Ea(n){jr.current===n&&(at(nn),at(jr)),vi.current===n&&(at(vi),Hl._currentValue=Ce)}var ba=Object.prototype.hasOwnProperty,ws=r.unstable_scheduleCallback,wa=r.unstable_cancelCallback,Mf=r.unstable_shouldYield,qo=r.unstable_requestPaint,un=r.unstable_now,Lu=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Vr=r.unstable_NormalPriority,Uu=r.unstable_LowPriority,Fo=r.unstable_IdlePriority,kf=r.log,Ts=r.unstable_setDisableYieldValue,Ei=null,Kt=null;function $o(n){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ei,n,void 0,(n.current.flags&128)===128)}catch{}}function lr(n){if(typeof kf=="function"&&Ts(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Ei,n)}catch{}}var rn=Math.clz32?Math.clz32:Bu,Go=Math.log,zu=Math.LN2;function Bu(n){return n>>>=0,n===0?32:31-(Go(n)/zu|0)|0}var ur=128,bi=4194304;function Xn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Dn(n,i){var o=n.pendingLanes;if(o===0)return 0;var u=0,f=n.suspendedLanes,p=n.pingedLanes,b=n.warmLanes;n=n.finishedLanes!==0;var x=o&134217727;return x!==0?(o=x&~f,o!==0?u=Xn(o):(p&=x,p!==0?u=Xn(p):n||(b=x&~b,b!==0&&(u=Xn(b))))):(x=o&~f,x!==0?u=Xn(x):p!==0?u=Xn(p):n||(b=o&~b,b!==0&&(u=Xn(b)))),u===0?0:i!==0&&i!==u&&!(i&f)&&(f=u&-u,b=i&-i,f>=b||f===32&&(b&4194176)!==0)?i:u}function wi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ta(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var n=ur;return ur<<=1,!(ur&4194176)&&(ur=128),n}function Ti(){var n=bi;return bi<<=1,!(bi&62914560)&&(bi=4194304),n}function xa(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function ft(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Hu(n,i,o,u,f,p){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var x=n.entanglements,O=n.expirationTimes,U=n.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-rn(o),re=1<<Z;x[Z]=0,O[Z]=-1;var G=U[Z];if(G!==null)for(U[Z]=null,Z=0;Z<G.length;Z++){var W=G[Z];W!==null&&(W.lane&=-536870913)}o&=~re}u!==0&&xi(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~i))}function xi(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-rn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194218}function Si(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-rn(o),f=1<<u;f&i|n[u]&i&&(n[u]|=i),o&=~f}}function qu(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Fu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:$0(n.type))}function Ai(n,i){var o=ce.p;try{return ce.p=n,i()}finally{ce.p=o}}var cr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+cr,Tt="__reactProps$"+cr,Lr="__reactContainer$"+cr,xs="__reactEvents$"+cr,Sa="__reactListeners$"+cr,hr="__reactHandles$"+cr,Qo="__reactResources$"+cr,Ri="__reactMarker$"+cr;function Ss(n){delete n[Mt],delete n[Tt],delete n[xs],delete n[Sa],delete n[hr]}function Wn(n){var i=n[Mt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Lr]||o[Mt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=I0(n);n!==null;){if(o=n[Mt])return o;n=I0(n)}return i}n=o,o=n.parentNode}return null}function Ur(n){if(n=n[Mt]||n[Lr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Ni(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Ci(n){var i=n[Qo];return i||(i=n[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Ri]=!0}var Yo=new Set,Aa={};function _n(n,i){cn(n,i),cn(n+"Capture",i)}function cn(n,i){for(Aa[n]=i,n=0;n<i.length;n++)Yo.add(i[n])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Wo={};function $u(n){return ba.call(Wo,n)?!0:ba.call(Xo,n)?!1:jf.test(n)?Wo[n]=!0:(Xo[n]=!0,!1)}function Ii(n,i,o){if($u(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Di(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function On(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Pf(n){var i=Gu(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,p.call(this,b)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function As(n){n._valueTracker||(n._valueTracker=Pf(n))}function Zo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=Gu(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function Ra(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zr=/[\n"\\]/g;function ot(n){return n.replace(zr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oi(n,i,o,u,f,p,b,x){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?Na(n,b,sn(i)):o!=null?Na(n,b,sn(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+sn(x):n.removeAttribute("name")}function Rs(n,i,o,u,f,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+sn(o):"",i=i!=null?""+sn(i):o,x||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=x?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Na(n,i,o){i==="number"&&Ra(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function qe(n,i,o,u){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+sn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ns(n,i,o){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+sn(o):""}function Mi(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=sn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Mn(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Vf.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Ku(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Jo(n,f,u)}else for(var p in i)i.hasOwnProperty(p)&&Jo(n,p,i[p])}function el(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(n){return Uf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kn=null;function Ca(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Br=null,Hr=null;function qr(n){var i=Ur(n);if(i&&(n=i.stateNode)){var o=n[Tt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Oi(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ot(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var f=u[Tt]||null;if(!f)throw Error(s(90));Oi(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&Zo(u)}break e;case"textarea":Ns(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&qe(n,!!o.multiple,i,!1)}}}var tl=!1;function Qu(n,i,o){if(tl)return n(i,o);tl=!0;try{var u=n(i);return u}finally{if(tl=!1,(Br!==null||Hr!==null)&&(Uc(),Br&&(i=Br,n=Hr,Hr=Br=null,qr(i),n)))for(i=0;i<n.length;i++)qr(n[i])}}function Cs(n,i){var o=n.stateNode;if(o===null)return null;var u=o[Tt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var jn=!1;if(En)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{jn=!1}var dr=null,ki=null,Fr=null;function nl(){if(Fr)return Fr;var n,i=ki,o=i.length,u,f="value"in dr?dr.value:dr.textContent,p=f.length;for(n=0;n<o&&i[n]===f[n];n++);var b=o-n;for(u=1;u<=b&&i[o-u]===f[p-u];u++);return Fr=f.slice(n,1<u?1-u:void 0)}function mr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function pr(){return!0}function rl(){return!1}function kt(n){function i(o,u,f,p,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(o=n[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pr:rl,this.isPropagationStopped=rl,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=kt(Ke),Ds=D({},Ke,{view:0,detail:0}),Yu=kt(Ds),Da,Oa,gr,Os=D({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gr&&(gr&&n.type==="mousemove"?(Da=n.screenX-gr.screenX,Oa=n.screenY-gr.screenY):Oa=Da=0,gr=n),Da)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),Pn=kt(Os),Xu=D({},Os,{dataTransfer:0}),zf=kt(Xu),Ms=D({},Ds,{relatedTarget:0}),Ma=kt(Ms),il=D({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=kt(il),Wu=D({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=kt(Wu),Bf=D({},Ke,{data:0}),sl=kt(Bf),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ju[n])?!!i[n]:!1}function js(){return al}var ec=D({},Ds,{key:function(n){if(n.key){var i=ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=mr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(n){return n.type==="keypress"?mr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pa=kt(ec),tc=D({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=kt(tc),$r=D({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),nc=kt($r),rc=D({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=kt(rc),sc=D({},Os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=kt(sc),an=D({},Ke,{newState:0,oldState:0}),ac=kt(an),oc=[9,13,27,32],yr=En&&"CompositionEvent"in window,h=null;En&&"documentMode"in document&&(h=document.documentMode);var v=En&&"TextEvent"in window&&!h,E=En&&(!yr||h&&8<h&&11>=h),S=" ",F=!1;function K(n,i){switch(n){case"keyup":return oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function xt(n,i){switch(n){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(F=!0,S);case"textInput":return n=i.data,n===S&&F?null:n;default:return null}}function Ue(n,i){if(Le)return n==="compositionend"||!yr&&K(n,i)?(n=nl(),Fr=ki=dr=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!jt[n.type]:i==="textarea"}function Gr(n,i,o,u){Br?Hr?Hr.push(u):Hr=[u]:Br=u,i=Fc(i,"onChange"),0<i.length&&(o=new Ia("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var zt=null,vr=null;function ll(n){b0(n,0)}function lc(n){var i=Ni(n);if(Zo(i))return n}function Xg(n,i){if(n==="change")return i}var Wg=!1;if(En){var Hf;if(En){var qf="oninput"in document;if(!qf){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),qf=typeof Zg.oninput=="function"}Hf=qf}else Hf=!1;Wg=Hf&&(!document.documentMode||9<document.documentMode)}function Jg(){zt&&(zt.detachEvent("onpropertychange",ey),vr=zt=null)}function ey(n){if(n.propertyName==="value"&&lc(vr)){var i=[];Gr(i,vr,n,Ca(n)),Qu(ll,i)}}function Yx(n,i,o){n==="focusin"?(Jg(),zt=i,vr=o,zt.attachEvent("onpropertychange",ey)):n==="focusout"&&Jg()}function Xx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lc(vr)}function Wx(n,i){if(n==="click")return lc(i)}function Zx(n,i){if(n==="input"||n==="change")return lc(i)}function Jx(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:Jx;function ul(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ba.call(i,f)||!bn(n[f],i[f]))return!1}return!0}function ty(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ny(n,i){var o=ty(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ty(o)}}function ry(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ry(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function iy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ra(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Ra(n.document)}return i}function Ff(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function eS(n,i){var o=iy(i);i=n.focusedElem;var u=n.selectionRange;if(o!==i&&i&&i.ownerDocument&&ry(i.ownerDocument.documentElement,i)){if(u!==null&&Ff(i)){if(n=u.start,o=u.end,o===void 0&&(o=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(o,i.value.length);else if(o=(n=i.ownerDocument||document)&&n.defaultView||window,o.getSelection){o=o.getSelection();var f=i.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!o.extend&&p>u&&(f=u,u=p,p=f),f=ny(i,p);var b=ny(i,u);f&&b&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),o.removeAllRanges(),p>u?(o.addRange(n),o.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),o.addRange(n)))}}for(n=[],o=i;o=o.parentNode;)o.nodeType===1&&n.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)o=n[i],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var tS=En&&"documentMode"in document&&11>=document.documentMode,La=null,$f=null,cl=null,Gf=!1;function sy(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gf||La==null||La!==Ra(u)||(u=La,"selectionStart"in u&&Ff(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cl&&ul(cl,u)||(cl=u,u=Fc($f,"onSelect"),0<u.length&&(i=new Ia("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=La)))}function Ps(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ua={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Kf={},ay={};En&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Vs(n){if(Kf[n])return Kf[n];if(!Ua[n])return n;var i=Ua[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in ay)return Kf[n]=i[o];return n}var oy=Vs("animationend"),ly=Vs("animationiteration"),uy=Vs("animationstart"),nS=Vs("transitionrun"),rS=Vs("transitionstart"),iS=Vs("transitioncancel"),cy=Vs("transitionend"),hy=new Map,fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Zn(n,i){hy.set(n,i),_n(i,[n])}var Vn=[],za=0,Qf=0;function uc(){for(var n=za,i=Qf=za=0;i<n;){var o=Vn[i];Vn[i++]=null;var u=Vn[i];Vn[i++]=null;var f=Vn[i];Vn[i++]=null;var p=Vn[i];if(Vn[i++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}p!==0&&dy(o,f,p)}}function cc(n,i,o,u){Vn[za++]=n,Vn[za++]=i,Vn[za++]=o,Vn[za++]=u,Qf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Yf(n,i,o,u){return cc(n,i,o,u),hc(n)}function ji(n,i){return cc(n,null,null,i),hc(n)}function dy(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&i!==null&&n.tag===3&&(p=n.stateNode,f=31-rn(o),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[i]:n.push(i),i.lane=o|536870912)}function hc(n){if(50<jl)throw jl=0,tm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ba={},my=new WeakMap;function Ln(n,i){if(typeof n=="object"&&n!==null){var o=my.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Ee(i)},my.set(n,i),i)}return{value:n,source:i,stack:Ee(i)}}var Ha=[],qa=0,fc=null,dc=0,Un=[],zn=0,Ls=null,Kr=1,Qr="";function Us(n,i){Ha[qa++]=dc,Ha[qa++]=fc,fc=n,dc=i}function py(n,i,o){Un[zn++]=Kr,Un[zn++]=Qr,Un[zn++]=Ls,Ls=n;var u=Kr;n=Qr;var f=32-rn(u)-1;u&=~(1<<f),o+=1;var p=32-rn(i)+f;if(30<p){var b=f-f%5;p=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Kr=1<<32-rn(i)+f|o<<f|u,Qr=p+n}else Kr=1<<p|o<<f|u,Qr=n}function Xf(n){n.return!==null&&(Us(n,1),py(n,1,0))}function Wf(n){for(;n===fc;)fc=Ha[--qa],Ha[qa]=null,dc=Ha[--qa],Ha[qa]=null;for(;n===Ls;)Ls=Un[--zn],Un[zn]=null,Qr=Un[--zn],Un[zn]=null,Kr=Un[--zn],Un[zn]=null}var on=null,Bt=null,Fe=!1,Jn=null,_r=!1,Zf=Error(s(519));function zs(n){var i=Error(s(418,""));throw dl(Ln(i,n)),Zf}function gy(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[Mt]=n,i[Tt]=u,o){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(o=0;o<Vl.length;o++)Pe(Vl[o],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Rs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),As(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Mi(i,u.value,u.defaultValue,u.children),As(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||S0(i.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=$c),i=!0):i=!1,i||zs(n)}function yy(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:_r=!0;return;case 5:case 13:_r=!1;return;default:on=on.return}}function hl(n){if(n!==on)return!1;if(!Fe)return yy(n),Fe=!0,!1;var i=!1,o;if((o=n.tag!==3&&n.tag!==27)&&((o=n.tag===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||vm(n.type,n.memoizedProps)),o=!o),o&&(i=!0),i&&Bt&&zs(n),yy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){Bt=tr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}Bt=null}}else Bt=on?tr(n.stateNode.nextSibling):null;return!0}function fl(){Bt=on=null,Fe=!1}function dl(n){Jn===null?Jn=[n]:Jn.push(n)}var ml=Error(s(460)),vy=Error(s(474)),Jf={then:function(){}};function _y(n){return n=n.status,n==="fulfilled"||n==="rejected"}function mc(){}function Ey(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(mc,mc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===ml?Error(s(483)):n;default:if(typeof i.status=="string")i.then(mc,mc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===ml?Error(s(483)):n}throw pl=i,ml}}var pl=null;function by(){if(pl===null)throw Error(s(459));var n=pl;return pl=null,n}var Fa=null,gl=0;function pc(n){var i=gl;return gl+=1,Fa===null&&(Fa=[]),Ey(Fa,n,i)}function yl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function gc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function wy(n){var i=n._init;return i(n._payload)}function Ty(n){function i(H,L){if(n){var $=H.deletions;$===null?(H.deletions=[L],H.flags|=16):$.push(L)}}function o(H,L){if(!n)return null;for(;L!==null;)i(H,L),L=L.sibling;return null}function u(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function f(H,L){return H=Ki(H,L),H.index=0,H.sibling=null,H}function p(H,L,$){return H.index=$,n?($=H.alternate,$!==null?($=$.index,$<L?(H.flags|=33554434,L):$):(H.flags|=33554434,L)):(H.flags|=1048576,L)}function b(H){return n&&H.alternate===null&&(H.flags|=33554434),H}function x(H,L,$,J){return L===null||L.tag!==6?(L=Kd($,H.mode,J),L.return=H,L):(L=f(L,$),L.return=H,L)}function O(H,L,$,J){var fe=$.type;return fe===m?Z(H,L,$.props.children,J,$.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Q&&wy(fe)===L.type)?(L=f(L,$.props),yl(L,$),L.return=H,L):(L=kc($.type,$.key,$.props,null,H.mode,J),yl(L,$),L.return=H,L)}function U(H,L,$,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=Qd($,H.mode,J),L.return=H,L):(L=f(L,$.children||[]),L.return=H,L)}function Z(H,L,$,J,fe){return L===null||L.tag!==7?(L=Xs($,H.mode,J,fe),L.return=H,L):(L=f(L,$),L.return=H,L)}function re(H,L,$){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Kd(""+L,H.mode,$),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case c:return $=kc(L.type,L.key,L.props,null,H.mode,$),yl($,L),$.return=H,$;case d:return L=Qd(L,H.mode,$),L.return=H,L;case Q:var J=L._init;return L=J(L._payload),re(H,L,$)}if(ue(L)||ne(L))return L=Xs(L,H.mode,$,null),L.return=H,L;if(typeof L.then=="function")return re(H,pc(L),$);if(L.$$typeof===I)return re(H,Dc(H,L),$);gc(H,L)}return null}function G(H,L,$,J){var fe=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return fe!==null?null:x(H,L,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return $.key===fe?O(H,L,$,J):null;case d:return $.key===fe?U(H,L,$,J):null;case Q:return fe=$._init,$=fe($._payload),G(H,L,$,J)}if(ue($)||ne($))return fe!==null?null:Z(H,L,$,J,null);if(typeof $.then=="function")return G(H,L,pc($),J);if($.$$typeof===I)return G(H,L,Dc(H,$),J);gc(H,$)}return null}function W(H,L,$,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get($)||null,x(L,H,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return H=H.get(J.key===null?$:J.key)||null,O(L,H,J,fe);case d:return H=H.get(J.key===null?$:J.key)||null,U(L,H,J,fe);case Q:var Oe=J._init;return J=Oe(J._payload),W(H,L,$,J,fe)}if(ue(J)||ne(J))return H=H.get($)||null,Z(L,H,J,fe,null);if(typeof J.then=="function")return W(H,L,$,pc(J),fe);if(J.$$typeof===I)return W(H,L,$,Dc(L,J),fe);gc(L,J)}return null}function de(H,L,$,J){for(var fe=null,Oe=null,pe=L,_e=L=0,Lt=null;pe!==null&&_e<$.length;_e++){pe.index>_e?(Lt=pe,pe=null):Lt=pe.sibling;var $e=G(H,pe,$[_e],J);if($e===null){pe===null&&(pe=Lt);break}n&&pe&&$e.alternate===null&&i(H,pe),L=p($e,L,_e),Oe===null?fe=$e:Oe.sibling=$e,Oe=$e,pe=Lt}if(_e===$.length)return o(H,pe),Fe&&Us(H,_e),fe;if(pe===null){for(;_e<$.length;_e++)pe=re(H,$[_e],J),pe!==null&&(L=p(pe,L,_e),Oe===null?fe=pe:Oe.sibling=pe,Oe=pe);return Fe&&Us(H,_e),fe}for(pe=u(pe);_e<$.length;_e++)Lt=W(pe,H,_e,$[_e],J),Lt!==null&&(n&&Lt.alternate!==null&&pe.delete(Lt.key===null?_e:Lt.key),L=p(Lt,L,_e),Oe===null?fe=Lt:Oe.sibling=Lt,Oe=Lt);return n&&pe.forEach(function(es){return i(H,es)}),Fe&&Us(H,_e),fe}function xe(H,L,$,J){if($==null)throw Error(s(151));for(var fe=null,Oe=null,pe=L,_e=L=0,Lt=null,$e=$.next();pe!==null&&!$e.done;_e++,$e=$.next()){pe.index>_e?(Lt=pe,pe=null):Lt=pe.sibling;var es=G(H,pe,$e.value,J);if(es===null){pe===null&&(pe=Lt);break}n&&pe&&es.alternate===null&&i(H,pe),L=p(es,L,_e),Oe===null?fe=es:Oe.sibling=es,Oe=es,pe=Lt}if($e.done)return o(H,pe),Fe&&Us(H,_e),fe;if(pe===null){for(;!$e.done;_e++,$e=$.next())$e=re(H,$e.value,J),$e!==null&&(L=p($e,L,_e),Oe===null?fe=$e:Oe.sibling=$e,Oe=$e);return Fe&&Us(H,_e),fe}for(pe=u(pe);!$e.done;_e++,$e=$.next())$e=W(pe,H,_e,$e.value,J),$e!==null&&(n&&$e.alternate!==null&&pe.delete($e.key===null?_e:$e.key),L=p($e,L,_e),Oe===null?fe=$e:Oe.sibling=$e,Oe=$e);return n&&pe.forEach(function(vA){return i(H,vA)}),Fe&&Us(H,_e),fe}function ct(H,L,$,J){if(typeof $=="object"&&$!==null&&$.type===m&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case c:e:{for(var fe=$.key;L!==null;){if(L.key===fe){if(fe=$.type,fe===m){if(L.tag===7){o(H,L.sibling),J=f(L,$.props.children),J.return=H,H=J;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Q&&wy(fe)===L.type){o(H,L.sibling),J=f(L,$.props),yl(J,$),J.return=H,H=J;break e}o(H,L);break}else i(H,L);L=L.sibling}$.type===m?(J=Xs($.props.children,H.mode,J,$.key),J.return=H,H=J):(J=kc($.type,$.key,$.props,null,H.mode,J),yl(J,$),J.return=H,H=J)}return b(H);case d:e:{for(fe=$.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){o(H,L.sibling),J=f(L,$.children||[]),J.return=H,H=J;break e}else{o(H,L);break}else i(H,L);L=L.sibling}J=Qd($,H.mode,J),J.return=H,H=J}return b(H);case Q:return fe=$._init,$=fe($._payload),ct(H,L,$,J)}if(ue($))return de(H,L,$,J);if(ne($)){if(fe=ne($),typeof fe!="function")throw Error(s(150));return $=fe.call($),xe(H,L,$,J)}if(typeof $.then=="function")return ct(H,L,pc($),J);if($.$$typeof===I)return ct(H,L,Dc(H,$),J);gc(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,L!==null&&L.tag===6?(o(H,L.sibling),J=f(L,$),J.return=H,H=J):(o(H,L),J=Kd($,H.mode,J),J.return=H,H=J),b(H)):o(H,L)}return function(H,L,$,J){try{gl=0;var fe=ct(H,L,$,J);return Fa=null,fe}catch(pe){if(pe===ml)throw pe;var Oe=Fn(29,pe,null,H.mode);return Oe.lanes=J,Oe.return=H,Oe}finally{}}}var Bs=Ty(!0),xy=Ty(!1),$a=He(null),yc=He(0);function Sy(n,i){n=si,Ye(yc,n),Ye($a,i),si=n|i.baseLanes}function ed(){Ye(yc,si),Ye($a,$a.current)}function td(){si=yc.current,at($a),at(yc)}var Bn=He(null),Er=null;function Pi(n){var i=n.alternate;Ye(At,At.current&1),Ye(Bn,n),Er===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(Er=n)}function Ay(n){if(n.tag===22){if(Ye(At,At.current),Ye(Bn,n),Er===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Er=n)}}else Vi()}function Vi(){Ye(At,At.current),Ye(Bn,Bn.current)}function Yr(n){at(Bn),Er===n&&(Er=null),at(At)}var At=He(0);function vc(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},aS=r.unstable_scheduleCallback,oS=r.unstable_NormalPriority,Rt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new sS,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&aS(oS,function(){n.controller.abort()})}var _l=null,rd=0,Ga=0,Ka=null;function lS(n,i){if(_l===null){var o=_l=[];rd=0,Ga=um(),Ka={status:"pending",value:void 0,then:function(u){o.push(u)}}}return rd++,i.then(Ry,Ry),i}function Ry(){if(--rd===0&&_l!==null){Ka!==null&&(Ka.status="fulfilled");var n=_l;_l=null,Ga=0,Ka=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function uS(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ny=A.S;A.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&lS(n,i),Ny!==null&&Ny(n,i)};var Hs=He(null);function id(){var n=Hs.current;return n!==null?n:Je.pooledCache}function _c(n,i){i===null?Ye(Hs,Hs.current):Ye(Hs,i.pool)}function Cy(){var n=id();return n===null?null:{parent:Rt._currentValue,pool:n}}var Li=0,Ie=null,Xe=null,yt=null,Ec=!1,Qa=!1,qs=!1,bc=0,El=0,Ya=null,cS=0;function dt(){throw Error(s(321))}function sd(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!bn(n[o],i[o]))return!1;return!0}function ad(n,i,o,u,f,p){return Li=p,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=n===null||n.memoizedState===null?Fs:Ui,qs=!1,p=o(u,f),qs=!1,Qa&&(p=Dy(i,o,u,f)),Iy(n),p}function Iy(n){A.H=br;var i=Xe!==null&&Xe.next!==null;if(Li=0,yt=Xe=Ie=null,Ec=!1,El=0,Ya=null,i)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&Ic(n)&&(Pt=!0))}function Dy(n,i,o,u){Ie=n;var f=0;do{if(Qa&&(Ya=null),El=0,Qa=!1,25<=f)throw Error(s(301));if(f+=1,yt=Xe=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}A.H=$s,p=i(o,u)}while(Qa);return p}function hS(){var n=A.H,i=n.useState()[0];return i=typeof i.then=="function"?bl(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),i}function od(){var n=bc!==0;return bc=0,n}function ld(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function ud(n){if(Ec){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ec=!1}Li=0,yt=Xe=Ie=null,Qa=!1,El=bc=0,Ya=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=n:yt=yt.next=n,yt}function vt(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ie.memoizedState=yt=n:yt=yt.next=n}return yt}var wc;wc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bl(n){var i=El;return El+=1,Ya===null&&(Ya=[]),n=Ey(Ya,n,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Fs:Ui),n}function Tc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bl(n);if(n.$$typeof===I)return Qt(n)}throw Error(s(438,String(n)))}function cd(n){var i=null,o=Ie.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=wc(),Ie.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=te;return i.index++,o}function Xr(n,i){return typeof i=="function"?i(n):i}function xc(n){var i=vt();return hd(i,Xe,n)}function hd(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}i.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{i=f.next;var x=b=null,O=null,U=i,Z=!1;do{var re=U.lane&-536870913;if(re!==U.lane?(ze&re)===re:(Li&re)===re){var G=U.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),re===Ga&&(Z=!0);else if((Li&G)===G){U=U.next,G===Ga&&(Z=!0);continue}else re={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(x=O=re,b=p):O=O.next=re,Ie.lanes|=G,Qi|=G;re=U.action,qs&&o(p,re),p=U.hasEagerState?U.eagerState:o(p,re)}else G={lane:re,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(x=O=G,b=p):O=O.next=G,Ie.lanes|=re,Qi|=re;U=U.next}while(U!==null&&U!==i);if(O===null?b=p:O.next=x,!bn(p,n.memoizedState)&&(Pt=!0,Z&&(o=Ka,o!==null)))throw o;n.memoizedState=p,n.baseState=b,n.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function fd(n){var i=vt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=n(p,b.action),b=b.next;while(b!==f);bn(p,i.memoizedState)||(Pt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function Oy(n,i,o){var u=Ie,f=vt(),p=Fe;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=i();var b=!bn((Xe||f).memoizedState,o);if(b&&(f.memoizedState=o,Pt=!0),f=f.queue,pd(jy.bind(null,u,f,n),[n]),f.getSnapshot!==i||b||yt!==null&&yt.memoizedState.tag&1){if(u.flags|=2048,Xa(9,ky.bind(null,u,f,o,i),{destroy:void 0},null),Je===null)throw Error(s(349));p||Li&60||My(u,i,o)}return o}function My(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ie.updateQueue,i===null?(i=wc(),Ie.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function ky(n,i,o,u){i.value=o,i.getSnapshot=u,Py(i)&&Vy(n)}function jy(n,i,o){return o(function(){Py(i)&&Vy(n)})}function Py(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!bn(n,o)}catch{return!0}}function Vy(n){var i=ji(n,2);i!==null&&ln(i,n,2)}function dd(n){var i=hn();if(typeof n=="function"){var o=n;if(n=o(),qs){lr(!0);try{o()}finally{lr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:n},i}function Ly(n,i,o,u){return n.baseState=o,hd(n,Xe,typeof u=="function"?u:Xr)}function fS(n,i,o,u,f){if(Rc(n))throw Error(s(485));if(n=i.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};A.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,Uy(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Uy(n,i){var o=i.action,u=i.payload,f=n.state;if(i.isTransition){var p=A.T,b={};A.T=b;try{var x=o(f,u),O=A.S;O!==null&&O(b,x),zy(n,i,x)}catch(U){md(n,i,U)}finally{A.T=p}}else try{p=o(f,u),zy(n,i,p)}catch(U){md(n,i,U)}}function zy(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){By(n,i,u)},function(u){return md(n,i,u)}):By(n,i,o)}function By(n,i,o){i.status="fulfilled",i.value=o,Hy(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Uy(n,o)))}function md(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Hy(i),i=i.next;while(i!==u)}n.action=null}function Hy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function qy(n,i){return i}function Fy(n,i){if(Fe){var o=Je.formState;if(o!==null){e:{var u=Ie;if(Fe){if(Bt){t:{for(var f=Bt,p=_r;f.nodeType!==8;){if(!p){f=null;break t}if(f=tr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Bt=tr(f.nextSibling),u=f.data==="F!";break e}}zs(u)}u=!1}u&&(i=o[0])}}return o=hn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:i},o.queue=u,o=lv.bind(null,Ie,u),u.dispatch=o,u=dd(!1),p=Ed.bind(null,Ie,!1,u.queue),u=hn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,o=fS.bind(null,Ie,f,p,o),f.dispatch=o,u.memoizedState=n,[i,o,!1]}function $y(n){var i=vt();return Gy(i,Xe,n)}function Gy(n,i,o){i=hd(n,i,qy)[0],n=xc(Xr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?bl(i):i;var u=vt(),f=u.queue,p=f.dispatch;return o!==u.memoizedState&&(Ie.flags|=2048,Xa(9,dS.bind(null,f,o),{destroy:void 0},null)),[i,p,n]}function dS(n,i){n.action=i}function Ky(n){var i=vt(),o=Xe;if(o!==null)return Gy(i,o,n);vt(),i=i.memoizedState,o=vt();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function Xa(n,i,o,u){return n={tag:n,create:i,inst:o,deps:u,next:null},i=Ie.updateQueue,i===null&&(i=wc(),Ie.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function Qy(){return vt().memoizedState}function Sc(n,i,o,u){var f=hn();Ie.flags|=n,f.memoizedState=Xa(1|i,o,{destroy:void 0},u===void 0?null:u)}function Ac(n,i,o,u){var f=vt();u=u===void 0?null:u;var p=f.memoizedState.inst;Xe!==null&&u!==null&&sd(u,Xe.memoizedState.deps)?f.memoizedState=Xa(i,o,p,u):(Ie.flags|=n,f.memoizedState=Xa(1|i,o,p,u))}function Yy(n,i){Sc(8390656,8,n,i)}function pd(n,i){Ac(2048,8,n,i)}function Xy(n,i){return Ac(4,2,n,i)}function Wy(n,i){return Ac(4,4,n,i)}function Zy(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Jy(n,i,o){o=o!=null?o.concat([n]):null,Ac(4,4,Zy.bind(null,i,n),o)}function gd(){}function ev(n,i){var o=vt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&sd(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function tv(n,i){var o=vt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&sd(i,u[1]))return u[0];if(u=n(),qs){lr(!0);try{n()}finally{lr(!1)}}return o.memoizedState=[u,i],u}function yd(n,i,o){return o===void 0||Li&1073741824?n.memoizedState=i:(n.memoizedState=o,n=r0(),Ie.lanes|=n,Qi|=n,o)}function nv(n,i,o,u){return bn(o,i)?o:$a.current!==null?(n=yd(n,o,u),bn(n,i)||(Pt=!0),n):Li&42?(n=r0(),Ie.lanes|=n,Qi|=n,i):(Pt=!0,n.memoizedState=o)}function rv(n,i,o,u,f){var p=ce.p;ce.p=p!==0&&8>p?p:8;var b=A.T,x={};A.T=x,Ed(n,!1,i,o);try{var O=f(),U=A.S;if(U!==null&&U(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=uS(O,u);wl(n,i,Z,Sn(n))}else wl(n,i,u,Sn(n))}catch(re){wl(n,i,{then:function(){},status:"rejected",reason:re},Sn())}finally{ce.p=p,A.T=b}}function mS(){}function vd(n,i,o,u){if(n.tag!==5)throw Error(s(476));var f=iv(n).queue;rv(n,f,i,Ce,o===null?mS:function(){return sv(n),o(u)})}function iv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:Ce},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function sv(n){var i=iv(n).next.queue;wl(n,i,{},Sn())}function _d(){return Qt(Hl)}function av(){return vt().memoizedState}function ov(){return vt().memoizedState}function pS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Sn();n=Hi(o);var u=qi(i,n,o);u!==null&&(ln(u,i,o),Sl(u,i,o)),i={cache:nd()},n.payload=i;return}i=i.return}}function gS(n,i,o){var u=Sn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Rc(n)?uv(i,o):(o=Yf(n,i,o,u),o!==null&&(ln(o,n,u),cv(o,i,u)))}function lv(n,i,o){var u=Sn();wl(n,i,o,u)}function wl(n,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rc(n))uv(i,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var b=i.lastRenderedState,x=p(b,o);if(f.hasEagerState=!0,f.eagerState=x,bn(x,b))return cc(n,i,f,0),Je===null&&uc(),!1}catch{}finally{}if(o=Yf(n,i,f,u),o!==null)return ln(o,n,u),cv(o,i,u),!0}return!1}function Ed(n,i,o,u){if(u={lane:2,revertLane:um(),action:u,hasEagerState:!1,eagerState:null,next:null},Rc(n)){if(i)throw Error(s(479))}else i=Yf(n,o,u,2),i!==null&&ln(i,n,2)}function Rc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function uv(n,i){Qa=Ec=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function cv(n,i,o){if(o&4194176){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Si(n,o)}}var br={readContext:Qt,use:Tc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};br.useCacheRefresh=dt,br.useMemoCache=dt,br.useHostTransitionStatus=dt,br.useFormState=dt,br.useActionState=dt,br.useOptimistic=dt;var Fs={readContext:Qt,use:Tc,useCallback:function(n,i){return hn().memoizedState=[n,i===void 0?null:i],n},useContext:Qt,useEffect:Yy,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Sc(4194308,4,Zy.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Sc(4194308,4,n,i)},useInsertionEffect:function(n,i){Sc(4,2,n,i)},useMemo:function(n,i){var o=hn();i=i===void 0?null:i;var u=n();if(qs){lr(!0);try{n()}finally{lr(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=hn();if(o!==void 0){var f=o(i);if(qs){lr(!0);try{o(i)}finally{lr(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=gS.bind(null,Ie,n),[u.memoizedState,n]},useRef:function(n){var i=hn();return n={current:n},i.memoizedState=n},useState:function(n){n=dd(n);var i=n.queue,o=lv.bind(null,Ie,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:gd,useDeferredValue:function(n,i){var o=hn();return yd(o,n,i)},useTransition:function(){var n=dd(!1);return n=rv.bind(null,Ie,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Ie,f=hn();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Je===null)throw Error(s(349));ze&60||My(u,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,Yy(jy.bind(null,u,p,n),[n]),u.flags|=2048,Xa(9,ky.bind(null,u,p,o,i),{destroy:void 0},null),o},useId:function(){var n=hn(),i=Je.identifierPrefix;if(Fe){var o=Qr,u=Kr;o=(u&~(1<<32-rn(u)-1)).toString(32)+o,i=":"+i+"R"+o,o=bc++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=cS++,i=":"+i+"r"+o.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return hn().memoizedState=pS.bind(null,Ie)}};Fs.useMemoCache=cd,Fs.useHostTransitionStatus=_d,Fs.useFormState=Fy,Fs.useActionState=Fy,Fs.useOptimistic=function(n){var i=hn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Ed.bind(null,Ie,!0,o),o.dispatch=i,[n,i]};var Ui={readContext:Qt,use:Tc,useCallback:ev,useContext:Qt,useEffect:pd,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:tv,useReducer:xc,useRef:Qy,useState:function(){return xc(Xr)},useDebugValue:gd,useDeferredValue:function(n,i){var o=vt();return nv(o,Xe.memoizedState,n,i)},useTransition:function(){var n=xc(Xr)[0],i=vt().memoizedState;return[typeof n=="boolean"?n:bl(n),i]},useSyncExternalStore:Oy,useId:av};Ui.useCacheRefresh=ov,Ui.useMemoCache=cd,Ui.useHostTransitionStatus=_d,Ui.useFormState=$y,Ui.useActionState=$y,Ui.useOptimistic=function(n,i){var o=vt();return Ly(o,Xe,n,i)};var $s={readContext:Qt,use:Tc,useCallback:ev,useContext:Qt,useEffect:pd,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:tv,useReducer:fd,useRef:Qy,useState:function(){return fd(Xr)},useDebugValue:gd,useDeferredValue:function(n,i){var o=vt();return Xe===null?yd(o,n,i):nv(o,Xe.memoizedState,n,i)},useTransition:function(){var n=fd(Xr)[0],i=vt().memoizedState;return[typeof n=="boolean"?n:bl(n),i]},useSyncExternalStore:Oy,useId:av};$s.useCacheRefresh=ov,$s.useMemoCache=cd,$s.useHostTransitionStatus=_d,$s.useFormState=Ky,$s.useActionState=Ky,$s.useOptimistic=function(n,i){var o=vt();return Xe!==null?Ly(o,Xe,n,i):(o.baseState=n,[n,o.queue.dispatch])};function bd(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:D({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var wd={isMounted:function(n){return(n=n._reactInternals)?ge(n)===n:!1},enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Sn(),f=Hi(u);f.payload=i,o!=null&&(f.callback=o),i=qi(n,f,u),i!==null&&(ln(i,n,u),Sl(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Sn(),f=Hi(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=qi(n,f,u),i!==null&&(ln(i,n,u),Sl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Sn(),u=Hi(o);u.tag=2,i!=null&&(u.callback=i),i=qi(n,u,o),i!==null&&(ln(i,n,o),Sl(i,n,o))}};function hv(n,i,o,u,f,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,b):i.prototype&&i.prototype.isPureReactComponent?!ul(o,u)||!ul(f,p):!0}function fv(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&wd.enqueueReplaceState(i,i.state,null)}function Gs(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=D({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Nc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function dv(n){Nc(n)}function mv(n){console.error(n)}function pv(n){Nc(n)}function Cc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function gv(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(n,i,o){return o=Hi(o),o.tag=3,o.payload={element:null},o.callback=function(){Cc(n,i)},o}function yv(n){return n=Hi(n),n.tag=3,n}function vv(n,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){gv(i,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){gv(i,o,u),typeof f!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function yS(n,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&xl(i,o,f,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return Er===null?im():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Jf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),am(n,u,f)),!1;case 22:return o.flags|=65536,u===Jf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),am(n,u,f)),!1}throw Error(s(435,o.tag))}return am(n,u,f),im(),!1}if(Fe)return i=Bn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Zf&&(n=Error(s(422),{cause:u}),dl(Ln(n,o)))):(u!==Zf&&(i=Error(s(423),{cause:u}),dl(Ln(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Ln(u,o),f=Td(n.stateNode,u,f),Ld(n,f),ut!==4&&(ut=2)),!1;var p=Error(s(520),{cause:u});if(p=Ln(p,o),Ml===null?Ml=[p]:Ml.push(p),ut!==4&&(ut=2),i===null)return!0;u=Ln(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Td(o.stateNode,u,n),Ld(o,n),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yi===null||!Yi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=yv(f),vv(f,n,o,u),Ld(o,f),!1}o=o.return}while(o!==null);return!1}var _v=Error(s(461)),Pt=!1;function Ht(n,i,o,u){i.child=n===null?xy(i,null,o,u):Bs(i,n.child,o,u)}function Ev(n,i,o,u,f){o=o.render;var p=i.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return Qs(i),u=ad(n,i,o,b,p,f),x=od(),n!==null&&!Pt?(ld(n,i,f),Wr(n,i,f)):(Fe&&x&&Xf(i),i.flags|=1,Ht(n,i,u,f),i.child)}function bv(n,i,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!Gd(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,wv(n,i,p,u,f)):(n=kc(o.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!Od(n,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:ul,o(b,u)&&n.ref===i.ref)return Wr(n,i,f)}return i.flags|=1,n=Ki(p,u),n.ref=i.ref,n.return=i,i.child=n}function wv(n,i,o,u,f){if(n!==null){var p=n.memoizedProps;if(ul(p,u)&&n.ref===i.ref)if(Pt=!1,i.pendingProps=u=p,Od(n,f))n.flags&131072&&(Pt=!0);else return i.lanes=n.lanes,Wr(n,i,f)}return xd(n,i,o,u,f)}function Tv(n,i,o){var u=i.pendingProps,f=u.children,p=(i.stateNode._pendingVisibility&2)!==0,b=n!==null?n.memoizedState:null;if(Tl(n,i),u.mode==="hidden"||p){if(i.flags&128){if(u=b!==null?b.baseLanes|o:o,n!==null){for(f=i.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return xv(n,i,u,o)}if(o&536870912)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&_c(i,b!==null?b.cachePool:null),b!==null?Sy(i,b):ed(),Ay(i);else return i.lanes=i.childLanes=536870912,xv(n,i,b!==null?b.baseLanes|o:o,o)}else b!==null?(_c(i,b.cachePool),Sy(i,b),Vi(),i.memoizedState=null):(n!==null&&_c(i,null),ed(),Vi());return Ht(n,i,f,o),i.child}function xv(n,i,o,u){var f=id();return f=f===null?null:{parent:Rt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&_c(i,null),ed(),Ay(i),n!==null&&xl(n,i,u,!0),null}function Tl(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=2097664)}}function xd(n,i,o,u,f){return Qs(i),o=ad(n,i,o,u,void 0,f),u=od(),n!==null&&!Pt?(ld(n,i,f),Wr(n,i,f)):(Fe&&u&&Xf(i),i.flags|=1,Ht(n,i,o,f),i.child)}function Sv(n,i,o,u,f,p){return Qs(i),i.updateQueue=null,o=Dy(i,u,o,f),Iy(n),u=od(),n!==null&&!Pt?(ld(n,i,p),Wr(n,i,p)):(Fe&&u&&Xf(i),i.flags|=1,Ht(n,i,o,p),i.child)}function Av(n,i,o,u,f){if(Qs(i),i.stateNode===null){var p=Ba,b=o.contextType;typeof b=="object"&&b!==null&&(p=Qt(b)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=wd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Pd(i),b=o.contextType,p.context=typeof b=="object"&&b!==null?Qt(b):Ba,p.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(bd(i,o,b,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&wd.enqueueReplaceState(p,p.state,null),Rl(i,u,p,f),Al(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){p=i.stateNode;var x=i.memoizedProps,O=Gs(o,x);p.props=O;var U=p.context,Z=o.contextType;b=Ba,typeof Z=="object"&&Z!==null&&(b=Qt(Z));var re=o.getDerivedStateFromProps;Z=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||U!==b)&&fv(i,p,u,b),Bi=!1;var G=i.memoizedState;p.state=G,Rl(i,u,p,f),Al(),U=i.memoizedState,x||G!==U||Bi?(typeof re=="function"&&(bd(i,o,re,u),U=i.memoizedState),(O=Bi||hv(i,o,O,u,G,U,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=U),p.props=u,p.state=U,p.context=b,u=O):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Vd(n,i),b=i.memoizedProps,Z=Gs(o,b),p.props=Z,re=i.pendingProps,G=p.context,U=o.contextType,O=Ba,typeof U=="object"&&U!==null&&(O=Qt(U)),x=o.getDerivedStateFromProps,(U=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==re||G!==O)&&fv(i,p,u,O),Bi=!1,G=i.memoizedState,p.state=G,Rl(i,u,p,f),Al();var W=i.memoizedState;b!==re||G!==W||Bi||n!==null&&n.dependencies!==null&&Ic(n.dependencies)?(typeof x=="function"&&(bd(i,o,x,u),W=i.memoizedState),(Z=Bi||hv(i,o,Z,u,G,W,O)||n!==null&&n.dependencies!==null&&Ic(n.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,O)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),p.props=u,p.state=W,p.context=O,u=Z):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),u=!1)}return p=u,Tl(n,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&u?(i.child=Bs(i,n.child,null,f),i.child=Bs(i,null,o,f)):Ht(n,i,o,f),i.memoizedState=p.state,n=i.child):n=Wr(n,i,f),n}function Rv(n,i,o,u){return fl(),i.flags|=256,Ht(n,i,o,u),i.child}var Sd={dehydrated:null,treeContext:null,retryLane:0};function Ad(n){return{baseLanes:n,cachePool:Cy()}}function Rd(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=$n),n}function Nv(n,i,o){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(f?Pi(i):Vi(),Fe){var x=Bt,O;if(O=x){e:{for(O=x,x=_r;O.nodeType!==8;){if(!x){x=null;break e}if(O=tr(O.nextSibling),O===null){x=null;break e}}x=O}x!==null?(i.memoizedState={dehydrated:x,treeContext:Ls!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912},O=Fn(18,null,null,0),O.stateNode=x,O.return=i,i.child=O,on=i,Bt=null,O=!0):O=!1}O||zs(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return x.data==="$!"?i.lanes=16:i.lanes=536870912,null;Yr(i)}return x=u.children,u=u.fallback,f?(Vi(),f=i.mode,x=Cd({mode:"hidden",children:x},f),u=Xs(u,f,o,null),x.return=i,u.return=i,x.sibling=u,i.child=x,f=i.child,f.memoizedState=Ad(o),f.childLanes=Rd(n,b,o),i.memoizedState=Sd,u):(Pi(i),Nd(i,x))}if(O=n.memoizedState,O!==null&&(x=O.dehydrated,x!==null)){if(p)i.flags&256?(Pi(i),i.flags&=-257,i=Id(n,i,o)):i.memoizedState!==null?(Vi(),i.child=n.child,i.flags|=128,i=null):(Vi(),f=u.fallback,x=i.mode,u=Cd({mode:"visible",children:u.children},x),f=Xs(f,x,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Bs(i,n.child,null,o),u=i.child,u.memoizedState=Ad(o),u.childLanes=Rd(n,b,o),i.memoizedState=Sd,i=f);else if(Pi(i),x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var U=b.dgst;b=U,u=Error(s(419)),u.stack="",u.digest=b,dl({value:u,source:null,stack:null}),i=Id(n,i,o)}else if(Pt||xl(n,i,o,!1),b=(o&n.childLanes)!==0,Pt||b){if(b=Je,b!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(b.suspendedLanes|o)?0:u,u!==0&&u!==O.retryLane)throw O.retryLane=u,ji(n,u),ln(b,n,u),_v}x.data==="$?"||im(),i=Id(n,i,o)}else x.data==="$?"?(i.flags|=128,i.child=n.child,i=OS.bind(null,n),x._reactRetry=i,i=null):(n=O.treeContext,Bt=tr(x.nextSibling),on=i,Fe=!0,Jn=null,_r=!1,n!==null&&(Un[zn++]=Kr,Un[zn++]=Qr,Un[zn++]=Ls,Kr=n.id,Qr=n.overflow,Ls=i),i=Nd(i,u.children),i.flags|=4096);return i}return f?(Vi(),f=u.fallback,x=i.mode,O=n.child,U=O.sibling,u=Ki(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&31457280,U!==null?f=Ki(U,f):(f=Xs(f,x,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,x=n.child.memoizedState,x===null?x=Ad(o):(O=x.cachePool,O!==null?(U=Rt._currentValue,O=O.parent!==U?{parent:U,pool:U}:O):O=Cy(),x={baseLanes:x.baseLanes|o,cachePool:O}),f.memoizedState=x,f.childLanes=Rd(n,b,o),i.memoizedState=Sd,u):(Pi(i),o=n.child,n=o.sibling,o=Ki(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=o,i.memoizedState=null,o)}function Nd(n,i){return i=Cd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Cd(n,i){return e0(n,i,0,null)}function Id(n,i,o){return Bs(i,n.child,null,o),n=Nd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Cv(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),kd(n.return,i,o)}function Dd(n,i,o,u,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function Iv(n,i,o){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(Ht(n,i,u.children,o),u=At.current,u&2)u=u&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cv(n,o,i);else if(n.tag===19)Cv(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Ye(At,u),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&vc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Dd(i,!1,f,o,p);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&vc(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Dd(i,!0,o,null,p);break;case"together":Dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Qi|=i.lanes,!(o&i.childLanes))if(n!==null){if(xl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=Ki(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Ki(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Od(n,i){return n.lanes&i?!0:(n=n.dependencies,!!(n!==null&&Ic(n)))}function vS(n,i,o){switch(i.tag){case 3:_i(i,i.stateNode.containerInfo),zi(i,Rt,n.memoizedState.cache),fl();break;case 27:case 5:Ho(i);break;case 4:_i(i,i.stateNode.containerInfo);break;case 10:zi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Pi(i),i.flags|=128,null):o&i.child.childLanes?Nv(n,i,o):(Pi(i),n=Wr(n,i,o),n!==null?n.sibling:null);Pi(i);break;case 19:var f=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(xl(n,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Iv(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(At,At.current),u)break;return null;case 22:case 23:return i.lanes=0,Tv(n,i,o);case 24:zi(i,Rt,n.memoizedState.cache)}return Wr(n,i,o)}function Dv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Od(n,o)&&!(i.flags&128))return Pt=!1,vS(n,i,o);Pt=!!(n.flags&131072)}else Pt=!1,Fe&&i.flags&1048576&&py(i,dc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Gd(u)?(n=Gs(u,n),i.tag=1,i=Av(null,i,u,n,o)):(i.tag=0,i=xd(null,i,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===C){i.tag=11,i=Ev(null,i,u,n,o);break e}else if(f===q){i.tag=14,i=bv(null,i,u,n,o);break e}}throw i=T(u)||u,Error(s(306,i,""))}}return i;case 0:return xd(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Gs(u,i.pendingProps),Av(n,i,u,f,o);case 3:e:{if(_i(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var p=i.pendingProps;f=i.memoizedState,u=f.element,Vd(n,i),Rl(i,p,null,o);var b=i.memoizedState;if(p=b.cache,zi(i,Rt,p),p!==f.cache&&jd(i,[Rt],o,!0),Al(),p=b.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Rv(n,i,p,o);break e}else if(p!==u){u=Ln(Error(s(424)),i),dl(u),i=Rv(n,i,p,o);break e}else for(Bt=tr(i.stateNode.containerInfo.firstChild),on=i,Fe=!0,Jn=null,_r=!0,o=xy(i,null,p,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fl(),p===u){i=Wr(n,i,o);break e}Ht(n,i,p,o)}i=i.child}return i;case 26:return Tl(n,i),n===null?(o=k0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Fe||(o=i.type,n=i.pendingProps,u=Gc(In.current).createElement(o),u[Mt]=i,u[Tt]=n,qt(u,o,n),nt(u),i.stateNode=u):i.memoizedState=k0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ho(i),n===null&&Fe&&(u=i.stateNode=D0(i.type,i.pendingProps,In.current),on=i,_r=!0,Bt=tr(u.firstChild)),u=i.pendingProps.children,n!==null||Fe?Ht(n,i,u,o):i.child=Bs(i,null,u,o),Tl(n,i),i.child;case 5:return n===null&&Fe&&((f=u=Bt)&&(u=QS(u,i.type,i.pendingProps,_r),u!==null?(i.stateNode=u,on=i,Bt=tr(u.firstChild),_r=!1,f=!0):f=!1),f||zs(i)),Ho(i),f=i.type,p=i.pendingProps,b=n!==null?n.memoizedProps:null,u=p.children,vm(f,p)?u=null:b!==null&&vm(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=ad(n,i,hS,null,null,o),Hl._currentValue=f),Tl(n,i),Ht(n,i,u,o),i.child;case 6:return n===null&&Fe&&((n=o=Bt)&&(o=YS(o,i.pendingProps,_r),o!==null?(i.stateNode=o,on=i,Bt=null,n=!0):n=!1),n||zs(i)),null;case 13:return Nv(n,i,o);case 4:return _i(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Bs(i,null,u,o):Ht(n,i,u,o),i.child;case 11:return Ev(n,i,i.type,i.pendingProps,o);case 7:return Ht(n,i,i.pendingProps,o),i.child;case 8:return Ht(n,i,i.pendingProps.children,o),i.child;case 12:return Ht(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,zi(i,i.type,u.value),Ht(n,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Qs(i),f=Qt(f),u=u(f),i.flags|=1,Ht(n,i,u,o),i.child;case 14:return bv(n,i,i.type,i.pendingProps,o);case 15:return wv(n,i,i.type,i.pendingProps,o);case 19:return Iv(n,i,o);case 22:return Tv(n,i,o);case 24:return Qs(i),u=Qt(Rt),n===null?(f=id(),f===null&&(f=Je,p=nd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),i.memoizedState={parent:u,cache:f},Pd(i),zi(i,Rt,f)):(n.lanes&o&&(Vd(n,i),Rl(i,null,null,o),Al()),f=n.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),zi(i,Rt,u)):(u=p.cache,zi(i,Rt,u),u!==f.cache&&jd(i,[Rt],o,!0))),Ht(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Md=He(null),Ks=null,Zr=null;function zi(n,i,o){Ye(Md,i._currentValue),i._currentValue=o}function Jr(n){n._currentValue=Md.current,at(Md)}function kd(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function jd(n,i,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=f;for(var O=0;O<i.length;O++)if(x.context===i[O]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),kd(p.return,o,n),u||(b=null);break e}p=x.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),kd(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function xl(n,i,o,u){n=null;for(var f=i,p=!1;f!==null;){if(!p){if(f.flags&524288)p=!0;else if(f.flags&262144)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var x=f.type;bn(f.pendingProps.value,b.value)||(n!==null?n.push(x):n=[x])}}else if(f===vi.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}f=f.return}n!==null&&jd(i,n,o,u),i.flags|=262144}function Ic(n){for(n=n.firstContext;n!==null;){if(!bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qs(n){Ks=n,Zr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return Ov(Ks,n)}function Dc(n,i){return Ks===null&&Qs(n),Ov(n,i)}function Ov(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Zr===null){if(n===null)throw Error(s(308));Zr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Zr=Zr.next=i;return o}var Bi=!1;function Pd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qi(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,it&2){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=hc(n),dy(n,null,o),i}return cc(n,u,i,o),hc(n)}function Sl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Si(n,o)}}function Ld(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Ud=!1;function Al(){if(Ud){var n=Ka;if(n!==null)throw n}}function Rl(n,i,o,u){Ud=!1;var f=n.updateQueue;Bi=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var O=x,U=O.next;O.next=null,b===null?p=U:b.next=U,b=O;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==b&&(x===null?Z.firstBaseUpdate=U:x.next=U,Z.lastBaseUpdate=O))}if(p!==null){var re=f.baseState;b=0,Z=U=O=null,x=p;do{var G=x.lane&-536870913,W=G!==x.lane;if(W?(ze&G)===G:(u&G)===G){G!==0&&G===Ga&&(Ud=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var de=n,xe=x;G=i;var ct=o;switch(xe.tag){case 1:if(de=xe.payload,typeof de=="function"){re=de.call(ct,re,G);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=xe.payload,G=typeof de=="function"?de.call(ct,re,G):de,G==null)break e;re=D({},re,G);break e;case 2:Bi=!0}}G=x.callback,G!==null&&(n.flags|=64,W&&(n.flags|=8192),W=f.callbacks,W===null?f.callbacks=[G]:W.push(G))}else W={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(U=Z=W,O=re):Z=Z.next=W,b|=G;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;W=x,x=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(O=re),f.baseState=O,f.firstBaseUpdate=U,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),Qi|=b,n.lanes=b,n.memoizedState=re}}function Mv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function kv(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Mv(o[n],i)}function Nl(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==f)}}catch(x){Ze(i,i.return,x)}}function Fi(n,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,f=i;var O=o;try{x()}catch(U){Ze(f,O,U)}}}u=u.next}while(u!==p)}}catch(U){Ze(i,i.return,U)}}function jv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{kv(i,o)}catch(u){Ze(n,n.return,u)}}}function Pv(n,i,o){o.props=Gs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Ze(n,i,u)}}function Ys(n,i){try{var o=n.ref;if(o!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?n.refCleanup=o(f):o.current=f}}catch(p){Ze(n,i,p)}}function wn(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Ze(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ze(n,i,f)}else o.current=null}function Vv(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Ze(n,n.return,f)}}function Lv(n,i,o){try{var u=n.stateNode;qS(u,n.type,o,i),u[Tt]=i}catch(f){Ze(n,n.return,f)}}function Uv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function zd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Uv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bd(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(n,i):o.insertBefore(n,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(n,o)):(i=o,i.appendChild(n)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=$c));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Bd(n,i,o),n=n.sibling;n!==null;)Bd(n,i,o),n=n.sibling}function Oc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Oc(n,i,o),n=n.sibling;n!==null;)Oc(n,i,o),n=n.sibling}var ei=!1,lt=!1,Hd=!1,zv=typeof WeakSet=="function"?WeakSet:Set,Vt=null,Bv=!1;function _S(n,i){if(n=n.containerInfo,gm=Zc,n=iy(n),Ff(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,x=-1,O=-1,U=0,Z=0,re=n,G=null;t:for(;;){for(var W;re!==o||f!==0&&re.nodeType!==3||(x=b+f),re!==p||u!==0&&re.nodeType!==3||(O=b+u),re.nodeType===3&&(b+=re.nodeValue.length),(W=re.firstChild)!==null;)G=re,re=W;for(;;){if(re===n)break t;if(G===o&&++U===f&&(x=b),G===p&&++Z===u&&(O=b),(W=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=W}o=x===-1||O===-1?null:{start:x,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(ym={focusedElem:n,selectionRange:o},Zc=!1,Vt=i;Vt!==null;)if(i=Vt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Vt=n;else for(;Vt!==null;){switch(i=Vt,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&p!==null){n=void 0,o=i,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var de=Gs(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(de,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){Ze(o,o.return,xe)}}break;case 3:if(n&1024){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)bm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Vt=n;break}Vt=i.return}return de=Bv,Bv=!1,de}function Hv(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ni(n,o),u&4&&Nl(5,o);break;case 1:if(ni(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(x){Ze(o,o.return,x)}else{var f=Gs(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(x){Ze(o,o.return,x)}}u&64&&jv(o),u&512&&Ys(o,o.return);break;case 3:if(ni(n,o),u&64&&(u=o.updateQueue,u!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{kv(u,n)}catch(x){Ze(o,o.return,x)}}break;case 26:ni(n,o),u&512&&Ys(o,o.return);break;case 27:case 5:ni(n,o),i===null&&u&4&&Vv(o),u&512&&Ys(o,o.return);break;case 12:ni(n,o);break;case 13:ni(n,o),u&4&&$v(n,o);break;case 22:if(f=o.memoizedState!==null||ei,!f){i=i!==null&&i.memoizedState!==null||lt;var p=ei,b=lt;ei=f,(lt=i)&&!b?$i(n,o,(o.subtreeFlags&8772)!==0):ni(n,o),ei=p,lt=b}u&512&&(o.memoizedProps.mode==="manual"?Ys(o,o.return):wn(o,o.return));break;default:ni(n,o)}}function qv(n){var i=n.alternate;i!==null&&(n.alternate=null,qv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ss(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _t=null,Tn=!1;function ti(n,i,o){for(o=o.child;o!==null;)Fv(n,i,o),o=o.sibling}function Fv(n,i,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ei,o)}catch{}switch(o.tag){case 26:lt||wn(o,i),ti(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:lt||wn(o,i);var u=_t,f=Tn;for(_t=o.stateNode,ti(n,i,o),o=o.stateNode,i=o.attributes;i.length;)o.removeAttributeNode(i[0]);Ss(o),_t=u,Tn=f;break;case 5:lt||wn(o,i);case 6:f=_t;var p=Tn;if(_t=null,ti(n,i,o),_t=f,Tn=p,_t!==null)if(Tn)try{n=_t,u=o.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(b){Ze(o,i,b)}else try{_t.removeChild(o.stateNode)}catch(b){Ze(o,i,b)}break;case 18:_t!==null&&(Tn?(i=_t,o=o.stateNode,i.nodeType===8?Em(i.parentNode,o):i.nodeType===1&&Em(i,o),Gl(i)):Em(_t,o.stateNode));break;case 4:u=_t,f=Tn,_t=o.stateNode.containerInfo,Tn=!0,ti(n,i,o),_t=u,Tn=f;break;case 0:case 11:case 14:case 15:lt||Fi(2,o,i),lt||Fi(4,o,i),ti(n,i,o);break;case 1:lt||(wn(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Pv(o,i,u)),ti(n,i,o);break;case 21:ti(n,i,o);break;case 22:lt||wn(o,i),lt=(u=lt)||o.memoizedState!==null,ti(n,i,o),lt=u;break;default:ti(n,i,o)}}function $v(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(o){Ze(i,i.return,o)}}function ES(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new zv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new zv),i;default:throw Error(s(435,n.tag))}}function qd(n,i){var o=ES(n);i.forEach(function(u){var f=MS.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Hn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,b=i,x=b;e:for(;x!==null;){switch(x.tag){case 27:case 5:_t=x.stateNode,Tn=!1;break e;case 3:_t=x.stateNode.containerInfo,Tn=!0;break e;case 4:_t=x.stateNode.containerInfo,Tn=!0;break e}x=x.return}if(_t===null)throw Error(s(160));Fv(p,b,f),_t=null,Tn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Gv(i,n),i=i.sibling}var er=null;function Gv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(i,n),qn(n),u&4&&(Fi(3,n,n.return),Nl(3,n),Fi(5,n,n.return));break;case 1:Hn(i,n),qn(n),u&512&&(lt||o===null||wn(o,o.return)),u&64&&ei&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=er;if(Hn(i,n),qn(n),u&512&&(lt||o===null||wn(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ri]||p[Mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),qt(p,u,o),p[Mt]=n,nt(p),u=p;break e;case"link":var b=V0("link","href",f).get(u+(o.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(x,1);break t}}p=f.createElement(u),qt(p,u,o),f.head.appendChild(p);break;case"meta":if(b=V0("meta","content",f).get(u+(o.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(x,1);break t}}p=f.createElement(u),qt(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Mt]=n,nt(p),u=p}n.stateNode=u}else L0(f,n.type,n.stateNode);else n.stateNode=P0(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?L0(f,n.type,n.stateNode):P0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Lv(n,n.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var O=f.firstChild;O;){var U=O.nextSibling,Z=O.nodeName;O[Ri]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=U}for(var re=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);qt(f,re,p),f[Mt]=n,f[Tt]=p}catch(de){Ze(n,n.return,de)}}case 5:if(Hn(i,n),qn(n),u&512&&(lt||o===null||wn(o,o.return)),n.flags&32){f=n.stateNode;try{Mn(f,"")}catch(de){Ze(n,n.return,de)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Lv(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Hd=!0);break;case 6:if(Hn(i,n),qn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(de){Ze(n,n.return,de)}}break;case 3:if(Yc=null,f=er,er=Kc(i.containerInfo),Hn(i,n),er=f,qn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(de){Ze(n,n.return,de)}Hd&&(Hd=!1,Kv(n));break;case 4:u=er,er=Kc(n.stateNode.containerInfo),Hn(i,n),qn(n),er=u;break;case 12:Hn(i,n),qn(n);break;case 13:Hn(i,n),qn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zd=un()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 22:if(u&512&&(lt||o===null||wn(o,o.return)),O=n.memoizedState!==null,U=o!==null&&o.memoizedState!==null,Z=ei,re=lt,ei=Z||O,lt=re||U,Hn(i,n),lt=re,ei=Z,qn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=O?i._visibility&-2:i._visibility|1,O&&(i=ei||lt,o===null||U||i||Wa(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(o=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(o===null){U=o=i;try{if(f=U.stateNode,O)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=U.stateNode,x=U.memoizedProps.style;var W=x!=null&&x.hasOwnProperty("display")?x.display:null;b.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(de){Ze(U,U.return,de)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=O?"":U.memoizedProps}catch(de){Ze(U,U.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qd(n,o))));break;case 19:Hn(i,n),qn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 21:break;default:Hn(i,n),qn(n)}}function qn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var o=n.return;o!==null;){if(Uv(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,p=zd(n);Oc(n,p,f);break;case 5:var b=u.stateNode;u.flags&32&&(Mn(b,""),u.flags&=-33);var x=zd(n);Oc(n,x,b);break;case 3:case 4:var O=u.stateNode.containerInfo,U=zd(n);Bd(n,U,O);break;default:throw Error(s(161))}}}catch(Z){Ze(n,n.return,Z)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Kv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ni(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hv(n,i.alternate,i),i=i.sibling}function Wa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),Wa(i);break;case 1:wn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Pv(i,i.return,o),Wa(i);break;case 26:case 27:case 5:wn(i,i.return),Wa(i);break;case 22:wn(i,i.return),i.memoizedState===null&&Wa(i);break;default:Wa(i)}n=n.sibling}}function $i(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,p=i,b=p.flags;switch(p.tag){case 0:case 11:case 15:$i(f,p,o),Nl(4,p);break;case 1:if($i(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Ze(u,u.return,U)}if(u=p,f=u.updateQueue,f!==null){var x=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Mv(O[f],x)}catch(U){Ze(u,u.return,U)}}o&&b&64&&jv(p),Ys(p,p.return);break;case 26:case 27:case 5:$i(f,p,o),o&&u===null&&b&4&&Vv(p),Ys(p,p.return);break;case 12:$i(f,p,o);break;case 13:$i(f,p,o),o&&b&4&&$v(f,p);break;case 22:p.memoizedState===null&&$i(f,p,o),Ys(p,p.return);break;default:$i(f,p,o)}i=i.sibling}}function Fd(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&vl(o))}function $d(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n))}function Gi(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qv(n,i,o,u),i=i.sibling}function Qv(n,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Gi(n,i,o,u),f&2048&&Nl(9,i);break;case 3:Gi(n,i,o,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n)));break;case 12:if(f&2048){Gi(n,i,o,u),n=i.stateNode;try{var p=i.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){Ze(i,i.return,O)}}else Gi(n,i,o,u);break;case 23:break;case 22:p=i.stateNode,i.memoizedState!==null?p._visibility&4?Gi(n,i,o,u):Cl(n,i):p._visibility&4?Gi(n,i,o,u):(p._visibility|=4,Za(n,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&Fd(i.alternate,i);break;case 24:Gi(n,i,o,u),f&2048&&$d(i.alternate,i);break;default:Gi(n,i,o,u)}}function Za(n,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,b=i,x=o,O=u,U=b.flags;switch(b.tag){case 0:case 11:case 15:Za(p,b,x,O,f),Nl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&4?Za(p,b,x,O,f):Cl(p,b):(Z._visibility|=4,Za(p,b,x,O,f)),f&&U&2048&&Fd(b.alternate,b);break;case 24:Za(p,b,x,O,f),f&&U&2048&&$d(b.alternate,b);break;default:Za(p,b,x,O,f)}i=i.sibling}}function Cl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,f=u.flags;switch(u.tag){case 22:Cl(o,u),f&2048&&Fd(u.alternate,u);break;case 24:Cl(o,u),f&2048&&$d(u.alternate,u);break;default:Cl(o,u)}i=i.sibling}}var Il=8192;function Ja(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)Yv(n),n=n.sibling}function Yv(n){switch(n.tag){case 26:Ja(n),n.flags&Il&&n.memoizedState!==null&&lA(er,n.memoizedState,n.memoizedProps);break;case 5:Ja(n);break;case 3:case 4:var i=er;er=Kc(n.stateNode.containerInfo),Ja(n),er=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ja(n),Il=i):Ja(n));break;default:Ja(n)}}function Xv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Dl(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Vt=u,Zv(u,n)}Xv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wv(n),n=n.sibling}function Wv(n){switch(n.tag){case 0:case 11:case 15:Dl(n),n.flags&2048&&Fi(9,n,n.return);break;case 3:Dl(n);break;case 12:Dl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Mc(n)):Dl(n);break;default:Dl(n)}}function Mc(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Vt=u,Zv(u,n)}Xv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),Mc(i);break;case 22:o=i.stateNode,o._visibility&4&&(o._visibility&=-5,Mc(i));break;default:Mc(i)}n=n.sibling}}function Zv(n,i){for(;Vt!==null;){var o=Vt;switch(o.tag){case 0:case 11:case 15:Fi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Vt=u;else e:for(o=n;Vt!==null;){u=Vt;var f=u.sibling,p=u.return;if(qv(u),u===o){Vt=null;break e}if(f!==null){f.return=p,Vt=f;break e}Vt=p}}}function bS(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,i,o,u){return new bS(n,i,o,u)}function Gd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ki(n,i){var o=n.alternate;return o===null?(o=Fn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&31457280,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Jv(n,i){n.flags&=31457282;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function kc(n,i,o,u,f,p){var b=0;if(u=n,typeof n=="function")Gd(n)&&(b=1);else if(typeof n=="string")b=aA(n,o,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case m:return Xs(o.children,f,p,i);case g:b=8,f|=24;break;case _:return n=Fn(12,o,i,f|2),n.elementType=_,n.lanes=p,n;case z:return n=Fn(13,o,i,f),n.elementType=z,n.lanes=p,n;case N:return n=Fn(19,o,i,f),n.elementType=N,n.lanes=p,n;case X:return e0(o,f,p,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case I:b=10;break e;case R:b=9;break e;case C:b=11;break e;case q:b=14;break e;case Q:b=16,u=null;break e}b=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Fn(b,o,i,f),i.elementType=n,i.type=u,i.lanes=p,i}function Xs(n,i,o,u){return n=Fn(7,n,u,i),n.lanes=o,n}function e0(n,i,o,u){n=Fn(22,n,u,i),n.elementType=X,n.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var b=ji(p,2);b!==null&&(f._pendingVisibility|=2,ln(b,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if(f._pendingVisibility&2){var b=ji(p,2);b!==null&&(f._pendingVisibility&=-3,ln(b,p,2))}}};return n.stateNode=f,n}function Kd(n,i,o){return n=Fn(6,n,null,i),n.lanes=o,n}function Qd(n,i,o){return i=Fn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ri(n){n.flags|=4}function t0(n,i){if(i.type!=="stylesheet"||i.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!U0(i)){if(i=Bn.current,i!==null&&((ze&4194176)===ze?Er!==null:(ze&62914560)!==ze&&!(ze&536870912)||i!==Er))throw pl=Jf,vy;n.flags|=8192}}function jc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ti():536870912,n.lanes|=i,to|=i)}function Ol(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function wS(n,i,o){var u=i.pendingProps;switch(Wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Jr(Rt),Pr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(hl(i)?ri(i):n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Jn!==null&&(nm(Jn),Jn=null))),rt(i),null;case 26:return o=i.memoizedState,n===null?(ri(i),o!==null?(rt(i),t0(i,o)):(rt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(ri(i),rt(i),t0(i,o)):(rt(i),i.flags&=-16777217):(n.memoizedProps!==u&&ri(i),rt(i),i.flags&=-16777217),null;case 27:Ea(i),o=In.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ri(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}n=nn.current,hl(i)?gy(i):(n=D0(f,u,o),i.stateNode=n,ri(i))}return rt(i),null;case 5:if(Ea(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ri(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(n=nn.current,hl(i))gy(i);else{switch(f=Gc(In.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Mt]=i,n[Tt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(qt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ri(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ri(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=In.current,hl(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Mt]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||S0(n.nodeValue,o)),n||zs(i)}else n=Gc(n).createTextNode(u),n[Mt]=i,i.stateNode=n}return rt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=hl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=i}else fl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Jn!==null&&(nm(Jn),Jn=null),f=!0;if(!f)return i.flags&256?(Yr(i),i):(Yr(i),null)}if(Yr(i),i.flags&128)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),jc(i,i.updateQueue),rt(i),null;case 4:return Pr(),n===null&&dm(i.stateNode.containerInfo),rt(i),null;case 10:return Jr(i.type),rt(i),null;case 19:if(at(At),f=i.memoizedState,f===null)return rt(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)Ol(f,!1);else{if(ut!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(p=vc(n),p!==null){for(i.flags|=128,Ol(f,!1),n=p.updateQueue,i.updateQueue=n,jc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Jv(o,n),o=o.sibling;return Ye(At,At.current&1|2),i.child}n=n.sibling}f.tail!==null&&un()>Pc&&(i.flags|=128,u=!0,Ol(f,!1),i.lanes=4194304)}else{if(!u)if(n=vc(p),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,jc(i,n),Ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Fe)return rt(i),null}else 2*un()-f.renderingStartTime>Pc&&o!==536870912&&(i.flags|=128,u=!0,Ol(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(n=f.last,n!==null?n.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=un(),i.sibling=null,n=At.current,Ye(At,u?n&1|2:n&1),i):(rt(i),null);case 22:case 23:return Yr(i),td(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?o&536870912&&!(i.flags&128)&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),o=i.updateQueue,o!==null&&jc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&at(Hs),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Jr(Rt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function TS(n,i){switch(Wf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Jr(Rt),Pr(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ea(i),null;case 13:if(Yr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));fl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return at(At),null;case 4:return Pr(),null;case 10:return Jr(i.type),null;case 22:case 23:return Yr(i),td(),n!==null&&at(Hs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Jr(Rt),null;case 25:return null;default:return null}}function n0(n,i){switch(Wf(i),i.tag){case 3:Jr(Rt),Pr();break;case 26:case 27:case 5:Ea(i);break;case 4:Pr();break;case 13:Yr(i);break;case 19:at(At);break;case 10:Jr(i.type);break;case 22:case 23:Yr(i),td(),n!==null&&at(Hs);break;case 24:Jr(Rt)}}var xS={getCacheForType:function(n){var i=Qt(Rt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},SS=typeof WeakMap=="function"?WeakMap:Map,it=0,Je=null,Me=null,ze=0,et=0,xn=null,ii=!1,eo=!1,Yd=!1,si=0,ut=0,Qi=0,Ws=0,Xd=0,$n=0,to=0,Ml=null,wr=null,Wd=!1,Zd=0,Pc=1/0,Vc=null,Yi=null,Lc=!1,Zs=null,kl=0,Jd=0,em=null,jl=0,tm=null;function Sn(){if(it&2&&ze!==0)return ze&-ze;if(A.T!==null){var n=Ga;return n!==0?n:um()}return Fu()}function r0(){$n===0&&($n=!(ze&536870912)||Fe?Ko():536870912);var n=Bn.current;return n!==null&&(n.flags|=32),$n}function ln(n,i,o){(n===Je&&et===2||n.cancelPendingCommit!==null)&&(no(n,0),ai(n,ze,$n,!1)),ft(n,o),(!(it&2)||n!==Je)&&(n===Je&&(!(it&2)&&(Ws|=o),ut===4&&ai(n,ze,$n,!1)),Tr(n))}function i0(n,i,o){if(it&6)throw Error(s(327));var u=!o&&(i&60)===0&&(i&n.expiredLanes)===0||wi(n,i),f=u?NS(n,i):sm(n,i,!0),p=u;do{if(f===0){eo&&!u&&ai(n,i,0,!1);break}else if(f===6)ai(n,i,0,!ii);else{if(o=n.current.alternate,p&&!AS(o)){f=sm(n,i,!1),p=!1;continue}if(f===2){if(p=i,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var x=n;f=Ml;var O=x.current.memoizedState.isDehydrated;if(O&&(no(x,b).flags|=256),b=sm(x,b,!1),b!==2){if(Yd&&!O){x.errorRecoveryDisabledLanes|=p,Ws|=p,f=4;break e}p=wr,wr=f,p!==null&&nm(p)}f=b}if(p=!1,f!==2)continue}}if(f===1){no(n,0),ai(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ai(u,i,$n,!ii);break e}break;case 2:wr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=o,u.finishedLanes=i,(i&62914560)===i&&(p=Zd+300-un(),10<p)){if(ai(u,i,$n,!ii),Dn(u,0)!==0)break e;u.timeoutHandle=N0(s0.bind(null,u,o,wr,Vc,Wd,i,$n,Ws,to,ii,2,-0,0),p);break e}s0(u,o,wr,Vc,Wd,i,$n,Ws,to,ii,0,-0,0)}}break}while(!0);Tr(n)}function nm(n){wr===null?wr=n:wr.push.apply(wr,n)}function s0(n,i,o,u,f,p,b,x,O,U,Z,re,G){var W=i.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:oA},Yv(i),i=uA(),i!==null)){n.cancelPendingCommit=i(f0.bind(null,n,o,u,f,b,x,O,1,re,G)),ai(n,p,b,!U);return}f0(n,o,u,f,b,x,O,Z,re,G)}function AS(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!bn(p(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ai(n,i,o,u){i&=~Xd,i&=~Ws,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var p=31-rn(f),b=1<<p;u[p]=-1,f&=~b}o!==0&&xi(n,o,i)}function Uc(){return it&6?!0:(Pl(0),!1)}function rm(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,Zr=Ks=null,ud(n),Fa=null,gl=0,n=Me;for(;n!==null;)n0(n.alternate,n),n=n.return;Me=null}}function no(n,i){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,$S(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),rm(),Je=n,Me=o=Ki(n.current,null),ze=i,et=0,xn=null,ii=!1,eo=wi(n,i),Yd=!1,to=$n=Xd=Ws=Qi=ut=0,wr=Ml=null,Wd=!1,i&8&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-rn(u),p=1<<f;i|=n[f],u&=~p}return si=i,uc(),o}function a0(n,i){Ie=null,A.H=br,i===ml?(i=by(),et=3):i===vy?(i=by(),et=4):et=i===_v?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Me===null&&(ut=1,Cc(n,Ln(i,n.current)))}function o0(){var n=A.H;return A.H=br,n===null?br:n}function l0(){var n=A.A;return A.A=xS,n}function im(){ut=4,ii||(ze&4194176)!==ze&&Bn.current!==null||(eo=!0),!(Qi&134217727)&&!(Ws&134217727)||Je===null||ai(Je,ze,$n,!1)}function sm(n,i,o){var u=it;it|=2;var f=o0(),p=l0();(Je!==n||ze!==i)&&(Vc=null,no(n,i)),i=!1;var b=ut;e:do try{if(et!==0&&Me!==null){var x=Me,O=xn;switch(et){case 8:rm(),b=6;break e;case 3:case 2:case 6:Bn.current===null&&(i=!0);var U=et;if(et=0,xn=null,ro(n,x,O,U),o&&eo){b=0;break e}break;default:U=et,et=0,xn=null,ro(n,x,O,U)}}RS(),b=ut;break}catch(Z){a0(n,Z)}while(!0);return i&&n.shellSuspendCounter++,Zr=Ks=null,it=u,A.H=f,A.A=p,Me===null&&(Je=null,ze=0,uc()),b}function RS(){for(;Me!==null;)u0(Me)}function NS(n,i){var o=it;it|=2;var u=o0(),f=l0();Je!==n||ze!==i?(Vc=null,Pc=un()+500,no(n,i)):eo=wi(n,i);e:do try{if(et!==0&&Me!==null){i=Me;var p=xn;t:switch(et){case 1:et=0,xn=null,ro(n,i,p,1);break;case 2:if(_y(p)){et=0,xn=null,c0(i);break}i=function(){et===2&&Je===n&&(et=7),Tr(n)},p.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:_y(p)?(et=0,xn=null,c0(i)):(et=0,xn=null,ro(n,i,p,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var x=Me;if(!b||U0(b)){et=0,xn=null;var O=x.sibling;if(O!==null)Me=O;else{var U=x.return;U!==null?(Me=U,zc(U)):Me=null}break t}}et=0,xn=null,ro(n,i,p,5);break;case 6:et=0,xn=null,ro(n,i,p,6);break;case 8:rm(),ut=6;break e;default:throw Error(s(462))}}CS();break}catch(Z){a0(n,Z)}while(!0);return Zr=Ks=null,A.H=u,A.A=f,it=o,Me!==null?0:(Je=null,ze=0,uc(),ut)}function CS(){for(;Me!==null&&!Mf();)u0(Me)}function u0(n){var i=Dv(n.alternate,n,si);n.memoizedProps=n.pendingProps,i===null?zc(n):Me=i}function c0(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Sv(o,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Sv(o,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:ud(i);default:n0(o,i),i=Me=Jv(i,si),i=Dv(o,i,si)}n.memoizedProps=n.pendingProps,i===null?zc(n):Me=i}function ro(n,i,o,u){Zr=Ks=null,ud(i),Fa=null,gl=0;var f=i.return;try{if(yS(n,f,i,o,ze)){ut=1,Cc(n,Ln(o,n.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;ut=1,Cc(n,Ln(o,n.current)),Me=null;return}i.flags&32768?(Fe||u===1?n=!0:eo||ze&536870912?n=!1:(ii=n=!0,(u===2||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),h0(i,n)):zc(i)}function zc(n){var i=n;do{if(i.flags&32768){h0(i,ii);return}n=i.return;var o=wS(i.alternate,i,si);if(o!==null){Me=o;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=n}while(i!==null);ut===0&&(ut=5)}function h0(n,i){do{var o=TS(n.alternate,n);if(o!==null){o.flags&=32767,Me=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Me=n;return}Me=n=o}while(n!==null);ut=6,Me=null}function f0(n,i,o,u,f,p,b,x,O,U){var Z=A.T,re=ce.p;try{ce.p=2,A.T=null,IS(n,i,o,u,re,f,p,b,x,O,U)}finally{A.T=Z,ce.p=re}}function IS(n,i,o,u,f,p,b,x){do io();while(Zs!==null);if(it&6)throw Error(s(327));var O=n.finishedWork;if(u=n.finishedLanes,O===null)return null;if(n.finishedWork=null,n.finishedLanes=0,O===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=O.lanes|O.childLanes;if(U|=Qf,Hu(n,u,U,p,b,x),n===Je&&(Me=Je=null,ze=0),!(O.subtreeFlags&10256)&&!(O.flags&10256)||Lc||(Lc=!0,Jd=U,em=o,kS(Vr,function(){return io(),null})),o=(O.flags&15990)!==0,O.subtreeFlags&15990||o?(o=A.T,A.T=null,p=ce.p,ce.p=2,b=it,it|=4,_S(n,O),Gv(O,n),eS(ym,n.containerInfo),Zc=!!gm,ym=gm=null,n.current=O,Hv(n,O.alternate,O),qo(),it=b,ce.p=p,A.T=o):n.current=O,Lc?(Lc=!1,Zs=n,kl=u):d0(n,U),U=n.pendingLanes,U===0&&(Yi=null),$o(O.stateNode),Tr(n),i!==null)for(f=n.onRecoverableError,O=0;O<i.length;O++)U=i[O],f(U.value,{componentStack:U.stack});return kl&3&&io(),U=n.pendingLanes,u&4194218&&U&42?n===tm?jl++:(jl=0,tm=n):jl=0,Pl(0),null}function d0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,vl(i)))}function io(){if(Zs!==null){var n=Zs,i=Jd;Jd=0;var o=qu(kl),u=A.T,f=ce.p;try{if(ce.p=32>o?32:o,A.T=null,Zs===null)var p=!1;else{o=em,em=null;var b=Zs,x=kl;if(Zs=null,kl=0,it&6)throw Error(s(331));var O=it;if(it|=4,Wv(b.current),Qv(b,b.current,x,o),it=O,Pl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ei,b)}catch{}p=!0}return p}finally{ce.p=f,A.T=u,d0(n,i)}}return!1}function m0(n,i,o){i=Ln(o,i),i=Td(n.stateNode,i,2),n=qi(n,i,2),n!==null&&(ft(n,2),Tr(n))}function Ze(n,i,o){if(n.tag===3)m0(n,n,o);else for(;i!==null;){if(i.tag===3){m0(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yi===null||!Yi.has(u))){n=Ln(o,n),o=yv(2),u=qi(i,o,2),u!==null&&(vv(o,u,i,n),ft(u,2),Tr(u));break}}i=i.return}}function am(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new SS;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Yd=!0,f.add(o),n=DS.bind(null,n,i,o),i.then(n,n))}function DS(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Je===n&&(ze&o)===o&&(ut===4||ut===3&&(ze&62914560)===ze&&300>un()-Zd?!(it&2)&&no(n,0):Xd|=o,to===ze&&(to=0)),Tr(n)}function p0(n,i){i===0&&(i=Ti()),n=ji(n,i),n!==null&&(ft(n,i),Tr(n))}function OS(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),p0(n,o)}function MS(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),p0(n,o)}function kS(n,i){return ws(n,i)}var Bc=null,so=null,om=!1,Hc=!1,lm=!1,Js=0;function Tr(n){n!==so&&n.next===null&&(so===null?Bc=so=n:so=so.next=n),Hc=!0,om||(om=!0,PS(jS))}function Pl(n,i){if(!lm&&Hc){lm=!0;do for(var o=!1,u=Bc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var b=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-rn(42|n)+1)-1,p&=f&~(b&~x),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,v0(u,p))}else p=ze,p=Dn(u,u===Je?p:0),!(p&3)||wi(u,p)||(o=!0,v0(u,p));u=u.next}while(o);lm=!1}}function jS(){Hc=om=!1;var n=0;Js!==0&&(FS()&&(n=Js),Js=0);for(var i=un(),o=null,u=Bc;u!==null;){var f=u.next,p=g0(u,i);p===0?(u.next=null,o===null?Bc=f:o.next=f,f===null&&(so=o)):(o=u,(n!==0||p&3)&&(Hc=!0)),u=f}Pl(n)}function g0(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-rn(p),x=1<<b,O=f[b];O===-1?(!(x&o)||x&u)&&(f[b]=Ta(x,i)):O<=i&&(n.expiredLanes|=x),p&=~x}if(i=Je,o=ze,o=Dn(n,n===i?o:0),u=n.callbackNode,o===0||n===i&&et===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&wa(u),n.callbackNode=null,n.callbackPriority=0;if(!(o&3)||wi(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&wa(u),qu(o)){case 2:case 8:o=Ot;break;case 32:o=Vr;break;case 268435456:o=Fo;break;default:o=Vr}return u=y0.bind(null,n),o=ws(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&wa(u),n.callbackPriority=2,n.callbackNode=null,2}function y0(n,i){var o=n.callbackNode;if(io()&&n.callbackNode!==o)return null;var u=ze;return u=Dn(n,n===Je?u:0),u===0?null:(i0(n,u,i),g0(n,un()),n.callbackNode!=null&&n.callbackNode===o?y0.bind(null,n):null)}function v0(n,i){if(io())return null;i0(n,i,!0)}function PS(n){GS(function(){it&6?ws(wt,n):n()})}function um(){return Js===0&&(Js=Ko()),Js}function _0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fr(""+n)}function E0(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function VS(n,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var p=_0((f[Tt]||null).action),b=u.submitter;b&&(i=(i=b[Tt]||null)?_0(i.formAction):b.getAttribute("formAction"),i!==null&&(p=i,b=null));var x=new Ia("action","action",null,u,f);n.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Js!==0){var O=b?E0(f,b):new FormData(f);vd(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(x.preventDefault(),O=b?E0(f,b):new FormData(f),vd(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var cm=0;cm<fy.length;cm++){var hm=fy[cm],LS=hm.toLowerCase(),US=hm[0].toUpperCase()+hm.slice(1);Zn(LS,"on"+US)}Zn(oy,"onAnimationEnd"),Zn(ly,"onAnimationIteration"),Zn(uy,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(nS,"onTransitionRun"),Zn(rS,"onTransitionStart"),Zn(iS,"onTransitionCancel"),Zn(cy,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function b0(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var b=u.length-1;0<=b;b--){var x=u[b],O=x.instance,U=x.currentTarget;if(x=x.listener,O!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=U;try{p(f)}catch(Z){Nc(Z)}f.currentTarget=null,p=O}else for(b=0;b<u.length;b++){if(x=u[b],O=x.instance,U=x.currentTarget,x=x.listener,O!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=U;try{p(f)}catch(Z){Nc(Z)}f.currentTarget=null,p=O}}}}function Pe(n,i){var o=i[xs];o===void 0&&(o=i[xs]=new Set);var u=n+"__bubble";o.has(u)||(w0(i,n,2,!1),o.add(u))}function fm(n,i,o){var u=0;i&&(u|=4),w0(o,n,u,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function dm(n){if(!n[qc]){n[qc]=!0,Yo.forEach(function(o){o!=="selectionchange"&&(zS.has(o)||fm(o,!1,n),fm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,fm("selectionchange",!1,i))}}function w0(n,i,o,u){switch($0(i)){case 2:var f=fA;break;case 8:f=dA;break;default:f=Am}o=f.bind(null,i,o,n),f=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function mm(n,i,o,u,f){var p=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===f||x.nodeType===8&&x.parentNode===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;b=b.return}for(;x!==null;){if(b=Wn(x),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=p=b;continue e}x=x.parentNode}}u=u.return}Qu(function(){var U=p,Z=Ca(o),re=[];e:{var G=hy.get(n);if(G!==void 0){var W=Ia,de=n;switch(n){case"keypress":if(mr(o)===0)break e;case"keydown":case"keyup":W=Pa;break;case"focusin":de="focus",W=Ma;break;case"focusout":de="blur",W=Ma;break;case"beforeblur":case"afterblur":W=Ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=nc;break;case oy:case ly:case uy:W=ka;break;case cy:W=ic;break;case"scroll":case"scrollend":W=Yu;break;case"wheel":W=Va;break;case"copy":case"cut":case"paste":W=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ol;break;case"toggle":case"beforetoggle":W=ac}var xe=(i&4)!==0,ct=!xe&&(n==="scroll"||n==="scrollend"),H=xe?G!==null?G+"Capture":null:G;xe=[];for(var L=U,$;L!==null;){var J=L;if($=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||$===null||H===null||(J=Cs(L,H),J!=null&&xe.push(Ll(L,J,$))),ct)break;L=L.return}0<xe.length&&(G=new W(G,de,null,o,Z),re.push({event:G,listeners:xe}))}}if(!(i&7)){e:{if(G=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",G&&o!==kn&&(de=o.relatedTarget||o.fromElement)&&(Wn(de)||de[Lr]))break e;if((W||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,W?(de=o.relatedTarget||o.toElement,W=U,de=de?Wn(de):null,de!==null&&(ct=ge(de),xe=de.tag,de!==ct||xe!==5&&xe!==27&&xe!==6)&&(de=null)):(W=null,de=U),W!==de)){if(xe=Pn,J="onMouseLeave",H="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(xe=ol,J="onPointerLeave",H="onPointerEnter",L="pointer"),ct=W==null?G:Ni(W),$=de==null?G:Ni(de),G=new xe(J,L+"leave",W,o,Z),G.target=ct,G.relatedTarget=$,J=null,Wn(Z)===U&&(xe=new xe(H,L+"enter",de,o,Z),xe.target=$,xe.relatedTarget=ct,J=xe),ct=J,W&&de)t:{for(xe=W,H=de,L=0,$=xe;$;$=ao($))L++;for($=0,J=H;J;J=ao(J))$++;for(;0<L-$;)xe=ao(xe),L--;for(;0<$-L;)H=ao(H),$--;for(;L--;){if(xe===H||H!==null&&xe===H.alternate)break t;xe=ao(xe),H=ao(H)}xe=null}else xe=null;W!==null&&T0(re,G,W,xe,!1),de!==null&&ct!==null&&T0(re,ct,de,xe,!0)}}e:{if(G=U?Ni(U):window,W=G.nodeName&&G.nodeName.toLowerCase(),W==="select"||W==="input"&&G.type==="file")var fe=Xg;else if(St(G))if(Wg)fe=Zx;else{fe=Xx;var Oe=Yx}else W=G.nodeName,!W||W.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&el(U.elementType)&&(fe=Xg):fe=Wx;if(fe&&(fe=fe(n,U))){Gr(re,fe,o,Z);break e}Oe&&Oe(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Na(G,"number",G.value)}switch(Oe=U?Ni(U):window,n){case"focusin":(St(Oe)||Oe.contentEditable==="true")&&(La=Oe,$f=U,cl=null);break;case"focusout":cl=$f=La=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,sy(re,o,Z);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":sy(re,o,Z)}var pe;if(yr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Le?K(n,o)&&(_e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(E&&o.locale!=="ko"&&(Le||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Le&&(pe=nl()):(dr=Z,ki="value"in dr?dr.value:dr.textContent,Le=!0)),Oe=Fc(U,_e),0<Oe.length&&(_e=new sl(_e,n,null,o,Z),re.push({event:_e,listeners:Oe}),pe?_e.data=pe:(pe=oe(o),pe!==null&&(_e.data=pe)))),(pe=v?xt(n,o):Ue(n,o))&&(_e=Fc(U,"onBeforeInput"),0<_e.length&&(Oe=new sl("onBeforeInput","beforeinput",null,o,Z),re.push({event:Oe,listeners:_e}),Oe.data=pe)),VS(re,n,U,o,Z)}b0(re,i)})}function Ll(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Fc(n,i){for(var o=i+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Cs(n,o),f!=null&&u.unshift(Ll(n,f,p)),f=Cs(n,i),f!=null&&u.push(Ll(n,f,p))),n=n.return}return u}function ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function T0(n,i,o,u,f){for(var p=i._reactName,b=[];o!==null&&o!==u;){var x=o,O=x.alternate,U=x.stateNode;if(x=x.tag,O!==null&&O===u)break;x!==5&&x!==26&&x!==27||U===null||(O=U,f?(U=Cs(o,p),U!=null&&b.unshift(Ll(o,U,O))):f||(U=Cs(o,p),U!=null&&b.push(Ll(o,U,O)))),o=o.return}b.length!==0&&n.push({event:i,listeners:b})}var BS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function x0(n){return(typeof n=="string"?n:""+n).replace(BS,`
`).replace(HS,"")}function S0(n,i){return i=x0(i),x0(n)===i}function $c(){}function We(n,i,o,u,f,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Mn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Mn(n,""+u);break;case"className":Di(n,"class",u);break;case"tabIndex":Di(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Di(n,o,u);break;case"style":Ku(n,u,p);break;case"data":if(i!=="object"){Di(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=fr(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=fr(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=$c);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=fr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Ii(n,"popover",u);break;case"xlinkActuate":On(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ii(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lf.get(o)||o,Ii(n,o,u))}}function pm(n,i,o,u,f,p){switch(o){case"style":Ku(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Mn(n,u):(typeof u=="number"||typeof u=="bigint")&&Mn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),p=n[Tt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ii(n,o,u)}}}function qt(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,p,b,o,null)}}f&&We(n,i,"srcSet",o.srcSet,o,null),u&&We(n,i,"src",o.src,o,null);return;case"input":Pe("invalid",n);var x=p=b=f=null,O=null,U=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":b=Z;break;case"checked":O=Z;break;case"defaultChecked":U=Z;break;case"value":p=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:We(n,i,u,Z,o,null)}}Rs(n,p,x,O,U,b,f,!1),As(n);return;case"select":Pe("invalid",n),u=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(x=o[f],x!=null))switch(f){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:We(n,i,f,x,o,null)}i=p,o=b,n.multiple=!!u,i!=null?qe(n,!!u,i,!1):o!=null&&qe(n,!!u,o,!0);return;case"textarea":Pe("invalid",n),p=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(x=o[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":f=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:We(n,i,b,x,o,null)}Mi(n,u,f,p),As(n);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,i,O,u,o,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Vl.length;u++)Pe(Vl[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,U,u,o,null)}return;default:if(el(i)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&pm(n,i,Z,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&We(n,i,x,u,o,null))}function qS(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,x=null,O=null,U=null,Z=null;for(W in o){var re=o[W];if(o.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=re;default:u.hasOwnProperty(W)||We(n,i,W,null,u,re)}}for(var G in u){var W=u[G];if(re=o[G],u.hasOwnProperty(G)&&(W!=null||re!=null))switch(G){case"type":p=W;break;case"name":f=W;break;case"checked":U=W;break;case"defaultChecked":Z=W;break;case"value":b=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==re&&We(n,i,G,W,u,re)}}Oi(n,b,x,O,U,Z,p,f);return;case"select":W=b=x=G=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":W=O;default:u.hasOwnProperty(p)||We(n,i,p,null,u,O)}for(f in u)if(p=u[f],O=o[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":G=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==O&&We(n,i,f,p,u,O)}i=x,o=b,u=W,G!=null?qe(n,!!o,G,!1):!!u!=!!o&&(i!=null?qe(n,!!o,i,!0):qe(n,!!o,o?[]:"",!1));return;case"textarea":W=G=null;for(x in o)if(f=o[x],o.hasOwnProperty(x)&&f!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:We(n,i,x,null,u,f)}for(b in u)if(f=u[b],p=o[b],u.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":G=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&We(n,i,b,f,u,p)}Ns(n,G,W);return;case"option":for(var de in o)if(G=o[de],o.hasOwnProperty(de)&&G!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:We(n,i,de,null,u,G)}for(O in u)if(G=u[O],W=o[O],u.hasOwnProperty(O)&&G!==W&&(G!=null||W!=null))switch(O){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,i,O,G,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)G=o[xe],o.hasOwnProperty(xe)&&G!=null&&!u.hasOwnProperty(xe)&&We(n,i,xe,null,u,G);for(U in u)if(G=u[U],W=o[U],u.hasOwnProperty(U)&&G!==W&&(G!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:We(n,i,U,G,u,W)}return;default:if(el(i)){for(var ct in o)G=o[ct],o.hasOwnProperty(ct)&&G!==void 0&&!u.hasOwnProperty(ct)&&pm(n,i,ct,void 0,u,G);for(Z in u)G=u[Z],W=o[Z],!u.hasOwnProperty(Z)||G===W||G===void 0&&W===void 0||pm(n,i,Z,G,u,W);return}}for(var H in o)G=o[H],o.hasOwnProperty(H)&&G!=null&&!u.hasOwnProperty(H)&&We(n,i,H,null,u,G);for(re in u)G=u[re],W=o[re],!u.hasOwnProperty(re)||G===W||G==null&&W==null||We(n,i,re,G,u,W)}var gm=null,ym=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function A0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function vm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _m=null;function FS(){var n=window.event;return n&&n.type==="popstate"?n===_m?!1:(_m=n,!0):(_m=null,!1)}var N0=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(n){return C0.resolve(null).then(n).catch(KS)}:N0;function KS(n){setTimeout(function(){throw n})}function Em(n,i){var o=i,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){n.removeChild(f),Gl(i);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Gl(i)}function bm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bm(o),Ss(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function QS(n,i,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ri])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=tr(n.nextSibling),n===null)break}return null}function YS(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=tr(n.nextSibling),n===null))return null;return n}function tr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function I0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function D0(n,i,o){switch(i=Gc(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Gn=new Map,O0=new Set;function Kc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var oi=ce.d;ce.d={f:XS,r:WS,D:ZS,C:JS,L:eA,m:tA,X:rA,S:nA,M:iA};function XS(){var n=oi.f(),i=Uc();return n||i}function WS(n){var i=Ur(n);i!==null&&i.tag===5&&i.type==="form"?sv(i):oi.r(n)}var oo=typeof document>"u"?null:document;function M0(n,i,o){var u=oo;if(u&&typeof i=="string"&&i){var f=ot(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),O0.has(f)||(O0.add(f),n={rel:n,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),qt(i,"link",n),nt(i),u.head.appendChild(i)))}}function ZS(n){oi.D(n),M0("dns-prefetch",n,null)}function JS(n,i){oi.C(n,i),M0("preconnect",n,i)}function eA(n,i,o){oi.L(n,i,o);var u=oo;if(u&&n&&i){var f='link[rel="preload"][as="'+ot(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+ot(o.imageSizes)+'"]')):f+='[href="'+ot(n)+'"]';var p=f;switch(i){case"style":p=lo(n);break;case"script":p=uo(n)}Gn.has(p)||(n=D({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Gn.set(p,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Ul(p))||i==="script"&&u.querySelector(zl(p))||(i=u.createElement("link"),qt(i,"link",n),nt(i),u.head.appendChild(i)))}}function tA(n,i){oi.m(n,i);var o=oo;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ot(u)+'"][href="'+ot(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=uo(n)}if(!Gn.has(p)&&(n=D({rel:"modulepreload",href:n},i),Gn.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zl(p)))return}u=o.createElement("link"),qt(u,"link",n),nt(u),o.head.appendChild(u)}}}function nA(n,i,o){oi.S(n,i,o);var u=oo;if(u&&n){var f=Ci(u).hoistableStyles,p=lo(n);i=i||"default";var b=f.get(p);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(Ul(p)))x.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Gn.get(p))&&wm(n,o);var O=b=u.createElement("link");nt(O),qt(O,"link",n),O._p=new Promise(function(U,Z){O.onload=U,O.onerror=Z}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Qc(b,i,u)}b={type:"stylesheet",instance:b,count:1,state:x},f.set(p,b)}}}function rA(n,i){oi.X(n,i);var o=oo;if(o&&n){var u=Ci(o).hoistableScripts,f=uo(n),p=u.get(f);p||(p=o.querySelector(zl(f)),p||(n=D({src:n,async:!0},i),(i=Gn.get(f))&&Tm(n,i),p=o.createElement("script"),nt(p),qt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function iA(n,i){oi.M(n,i);var o=oo;if(o&&n){var u=Ci(o).hoistableScripts,f=uo(n),p=u.get(f);p||(p=o.querySelector(zl(f)),p||(n=D({src:n,async:!0,type:"module"},i),(i=Gn.get(f))&&Tm(n,i),p=o.createElement("script"),nt(p),qt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function k0(n,i,o,u){var f=(f=In.current)?Kc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=lo(o.href),o=Ci(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=lo(o.href);var p=Ci(f).hoistableStyles,b=p.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=f.querySelector(Ul(n)))&&!p._p&&(b.instance=p,b.state.loading=5),Gn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(n,o),p||sA(f,n,o,b.state))),i&&u===null)throw Error(s(528,""));return b}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(o),o=Ci(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function lo(n){return'href="'+ot(n)+'"'}function Ul(n){return'link[rel="stylesheet"]['+n+"]"}function j0(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function sA(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),qt(i,"link",o),nt(i),n.head.appendChild(i))}function uo(n){return'[src="'+ot(n)+'"]'}function zl(n){return"script[async]"+n}function P0(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+ot(o.href)+'"]');if(u)return i.instance=u,nt(u),u;var f=D({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nt(u),qt(u,"style",f),Qc(u,o.precedence,n),i.instance=u;case"stylesheet":f=lo(o.href);var p=n.querySelector(Ul(f));if(p)return i.state.loading|=4,i.instance=p,nt(p),p;u=j0(o),(f=Gn.get(f))&&wm(u,f),p=(n.ownerDocument||n).createElement("link"),nt(p);var b=p;return b._p=new Promise(function(x,O){b.onload=x,b.onerror=O}),qt(p,"link",u),i.state.loading|=4,Qc(p,o.precedence,n),i.instance=p;case"script":return p=uo(o.src),(f=n.querySelector(zl(p)))?(i.instance=f,nt(f),f):(u=o,(f=Gn.get(p))&&(u=D({},o),Tm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),nt(f),qt(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(u=i.instance,i.state.loading|=4,Qc(u,o.precedence,n));return i.instance}function Qc(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===i)p=x;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function wm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Tm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Yc=null;function V0(n,i,o){if(Yc===null){var u=new Map,f=Yc=new Map;f.set(o,u)}else f=Yc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[Ri]||p[Mt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(i)||"";b=n+b;var x=u.get(b);x?x.push(p):u.set(b,[p])}}return u}function L0(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function aA(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U0(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Bl=null;function oA(){}function lA(n,i,o){if(Bl===null)throw Error(s(475));var u=Bl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var f=lo(o.href),p=n.querySelector(Ul(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Xc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=p,nt(p);return}p=n.ownerDocument||n,o=j0(o),(f=Gn.get(f))&&wm(o,f),p=p.createElement("link"),nt(p);var b=p;b._p=new Promise(function(x,O){b.onload=x,b.onerror=O}),qt(p,"link",o),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&!(i.state.loading&3)&&(u.count++,i=Xc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function uA(){if(Bl===null)throw Error(s(475));var n=Bl;return n.stylesheets&&n.count===0&&xm(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&xm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Xc(){if(this.count--,this.count===0){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wc=null;function xm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wc=new Map,i.forEach(cA,n),Wc=null,Xc.call(n))}function cA(n,i){if(!(i.state.loading&4)){var o=Wc.get(n);if(o)var u=o.get(null);else{o=new Map,Wc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=i.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,f),o.set(b,f),this.count++,u=Xc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Hl={$$typeof:I,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function hA(n,i,o,u,f,p,b,x){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function z0(n,i,o,u,f,p,b,x,O,U,Z,re){return n=new hA(n,i,o,b,x,O,U,re),i=1,p===!0&&(i|=24),p=Fn(3,null,null,i),n.current=p,p.stateNode=n,i=nd(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},Pd(p),n}function B0(n){return n?(n=Ba,n):Ba}function H0(n,i,o,u,f,p){f=B0(f),u.context===null?u.context=f:u.pendingContext=f,u=Hi(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=qi(n,u,i),o!==null&&(ln(o,n,i),Sl(o,n,i))}function q0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Sm(n,i){q0(n,i),(n=n.alternate)&&q0(n,i)}function F0(n){if(n.tag===13){var i=ji(n,67108864);i!==null&&ln(i,n,67108864),Sm(n,67108864)}}var Zc=!0;function fA(n,i,o,u){var f=A.T;A.T=null;var p=ce.p;try{ce.p=2,Am(n,i,o,u)}finally{ce.p=p,A.T=f}}function dA(n,i,o,u){var f=A.T;A.T=null;var p=ce.p;try{ce.p=8,Am(n,i,o,u)}finally{ce.p=p,A.T=f}}function Am(n,i,o,u){if(Zc){var f=Rm(u);if(f===null)mm(n,i,u,Jc,o),G0(n,u);else if(pA(f,n,i,o,u))u.stopPropagation();else if(G0(n,u),i&4&&-1<mA.indexOf(n)){for(;f!==null;){var p=Ur(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Xn(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var O=1<<31-rn(b);x.entanglements[1]|=O,b&=~O}Tr(p),!(it&6)&&(Pc=un()+500,Pl(0))}}break;case 13:x=ji(p,2),x!==null&&ln(x,p,2),Uc(),Sm(p,2)}if(p=Rm(u),p===null&&mm(n,i,u,Jc,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else mm(n,i,u,null,o)}}function Rm(n){return n=Ca(n),Nm(n)}var Jc=null;function Nm(n){if(Jc=null,n=Wn(n),n!==null){var i=ge(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=Ge(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Jc=n,null}function $0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lu()){case wt:return 2;case Ot:return 8;case Vr:case Uu:return 32;case Fo:return 268435456;default:return 32}default:return 32}}var Cm=!1,Xi=null,Wi=null,Zi=null,ql=new Map,Fl=new Map,Ji=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(n,i){switch(n){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function $l(n,i,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Ur(i),i!==null&&F0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function pA(n,i,o,u,f){switch(i){case"focusin":return Xi=$l(Xi,n,i,o,u,f),!0;case"dragenter":return Wi=$l(Wi,n,i,o,u,f),!0;case"mouseover":return Zi=$l(Zi,n,i,o,u,f),!0;case"pointerover":var p=f.pointerId;return ql.set(p,$l(ql.get(p)||null,n,i,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Fl.set(p,$l(Fl.get(p)||null,n,i,o,u,f)),!0}return!1}function K0(n){var i=Wn(n.target);if(i!==null){var o=ge(i);if(o!==null){if(i=o.tag,i===13){if(i=Ge(o),i!==null){n.blockedOn=i,Ai(n.priority,function(){if(o.tag===13){var u=Sn(),f=ji(o,u);f!==null&&ln(f,o,u),Sm(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function eh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Rm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);kn=u,o.target.dispatchEvent(u),kn=null}else return i=Ur(o),i!==null&&F0(i),n.blockedOn=o,!1;i.shift()}return!0}function Q0(n,i,o){eh(n)&&o.delete(i)}function gA(){Cm=!1,Xi!==null&&eh(Xi)&&(Xi=null),Wi!==null&&eh(Wi)&&(Wi=null),Zi!==null&&eh(Zi)&&(Zi=null),ql.forEach(Q0),Fl.forEach(Q0)}function th(n,i){n.blockedOn===i&&(n.blockedOn=null,Cm||(Cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gA)))}var nh=null;function Y0(n){nh!==n&&(nh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nh===n&&(nh=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Nm(u||o)===null)continue;break}var p=Ur(o);p!==null&&(n.splice(i,3),i-=3,vd(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Gl(n){function i(O){return th(O,n)}Xi!==null&&th(Xi,n),Wi!==null&&th(Wi,n),Zi!==null&&th(Zi,n),ql.forEach(i),Fl.forEach(i);for(var o=0;o<Ji.length;o++){var u=Ji[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ji.length&&(o=Ji[0],o.blockedOn===null);)K0(o),o.blockedOn===null&&Ji.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],b=f[Tt]||null;if(typeof p=="function")b||Y0(o);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Tt]||null)x=b.formAction;else if(Nm(f)!==null)continue}else x=b.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),Y0(o)}}}function Im(n){this._internalRoot=n}rh.prototype.render=Im.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Sn();H0(o,u,n,i,null,null)},rh.prototype.unmount=Im.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&io(),H0(n.current,2,null,n,null,null),Uc(),i[Lr]=null}};function rh(n){this._internalRoot=n}rh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fu();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Ji.length&&i!==0&&i<Ji[o].priority;o++);Ji.splice(o,0,n),o===0&&K0(n)}};var X0=e.version;if(X0!=="19.0.0")throw Error(s(527,X0,"19.0.0"));ce.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ae(i),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var yA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Wn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Ei=ih.inject(yA),Kt=ih}catch{}}return Ql.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,u="",f=dv,p=mv,b=pv,x=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=z0(n,1,!1,null,null,o,u,f,p,b,x,null),n[Lr]=i.current,dm(n.nodeType===8?n.parentNode:n),new Im(i)},Ql.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var u=!1,f="",p=dv,b=mv,x=pv,O=null,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(U=o.formState)),i=z0(n,1,!0,i,o??null,u,f,p,b,x,O,U),i.context=B0(null),o=i.current,u=Sn(),f=Hi(u),f.callback=null,qi(o,f,u),i.current.lanes=u,ft(i,u),Tr(i),n[Lr]=i.current,dm(n),new rh(i)},Ql.version="19.0.0",Ql}var a_;function NA(){if(a_)return Mm.exports;a_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=RA(),Mm.exports}var CA=NA();const IA=cb(CA);var Yl={},o_;function DA(){if(o_)return Yl;o_=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.parse=c,Yl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function c(R,I){const C=new l,z=R.length;if(z<2)return C;const N=(I==null?void 0:I.decode)||_;let q=0;do{const Q=R.indexOf("=",q);if(Q===-1)break;const X=R.indexOf(";",q),te=X===-1?z:X;if(Q>te){q=R.lastIndexOf(";",Q-1)+1;continue}const ie=d(R,q,Q),ne=m(R,Q,ie),M=R.slice(ie,ne);if(C[M]===void 0){let T=d(R,Q+1,te),A=m(R,te,T);const D=N(R.slice(T,A));C[M]=D}q=te+1}while(q<z);return C}function d(R,I,C){do{const z=R.charCodeAt(I);if(z!==32&&z!==9)return I}while(++I<C);return C}function m(R,I,C){for(;I>C;){const z=R.charCodeAt(--I);if(z!==32&&z!==9)return I+1}return C}function g(R,I,C){const z=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const N=z(I);if(!e.test(N))throw new TypeError(`argument val is invalid: ${I}`);let q=R+"="+N;if(!C)return q;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);q+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);q+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);q+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);q+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(q+="; HttpOnly"),C.secure&&(q+="; Secure"),C.partitioned&&(q+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return q}function _(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function w(R){return a.call(R)==="[object Date]"}return Yl}DA();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function OA(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=da(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ap("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:mu(l))}function s(a,l){Cn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return kA(e,t,s,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function u_(r,e){return{usr:r.state,key:r.key,idx:e}}function ap(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||s||MA()}}function mu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function da(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function kA(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function w(){d="POP";let N=_(),q=N==null?null:N-g;g=N,m&&m({action:d,location:z.location,delta:q})}function R(N,q){d="PUSH";let Q=ap(z.location,N,q);t&&t(Q,N),g=_()+1;let X=u_(Q,g),te=z.createHref(Q);try{c.pushState(X,"",te)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(te)}l&&m&&m({action:d,location:z.location,delta:1})}function I(N,q){d="REPLACE";let Q=ap(z.location,N,q);t&&t(Q,N),g=_();let X=u_(Q,g),te=z.createHref(Q);c.replaceState(X,"",te),l&&m&&m({action:d,location:z.location,delta:0})}function C(N){let q=a.location.origin!=="null"?a.location.origin:a.location.href,Q=typeof N=="string"?N:mu(N);return Q=Q.replace(/ $/,"%20"),tt(q,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,q)}let z={get action(){return d},get location(){return r(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(l_,w),m=N,()=>{a.removeEventListener(l_,w),m=null}},createHref(N){return e(a,N)},createURL:C,encodeLocation(N){let q=C(N);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:R,replace:I,go(N){return c.go(N)}};return z}function hb(r,e,t="/"){return jA(r,e,t,!1)}function jA(r,e,t,s){let a=typeof e=="string"?da(e):e,l=hs(a.pathname||"/",t);if(l==null)return null;let c=fb(r);PA(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=KA(l);d=$A(c[m],g,s)}return d}function fb(r,e=[],t=[],s=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(tt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=hi([s,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fb(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:qA(g,l.index),routesMeta:_})};return r.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of db(l.path))a(l,c,m)}),e}function db(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=db(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function PA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:FA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var VA=/^:[\w-]+$/,LA=3,UA=2,zA=1,BA=10,HA=-2,c_=r=>r==="*";function qA(r,e){let t=r.split("/"),s=t.length;return t.some(c_)&&(s+=HA),e&&(s+=UA),t.filter(a=>!c_(a)).reduce((a,l)=>a+(VA.test(l)?LA:l===""?zA:BA),s)}function FA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function $A(r,e,t=!1){let{routesMeta:s}=r,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=Nh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),R=m.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Nh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:hi([l,w.pathname]),pathnameBase:WA(hi([l,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(l=hi([l,w.pathnameBase]))}return c}function Nh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=GA(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},R)=>{if(_==="*"){let C=d[R]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const I=d[R];return w&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function GA(r,e=!1,t=!0){Cn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function KA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function QA(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?da(r):r;return{pathname:t?t.startsWith("/")?t:YA(t,e):e,search:ZA(s),hash:JA(a)}}function YA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Vm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XA(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fp(r){let e=XA(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function $p(r,e,t,s=!1){let a;typeof r=="string"?a=da(r):(a={...r},tt(!a.pathname||!a.pathname.includes("?"),Vm("?","pathname","search",a)),tt(!a.pathname||!a.pathname.includes("#"),Vm("#","pathname","hash",a)),tt(!a.search||!a.search.includes("#"),Vm("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!s&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),w-=1;a.pathname=R.join("/")}d=w>=0?e[w]:"/"}let m=QA(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var hi=r=>r.join("/").replace(/\/\/+/g,"/"),WA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function eR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mb=["POST","PUT","PATCH","DELETE"];new Set(mb);var tR=["GET",...mb];new Set(tR);var Io=j.createContext(null);Io.displayName="DataRouter";var Jh=j.createContext(null);Jh.displayName="DataRouterState";var pb=j.createContext({isTransitioning:!1});pb.displayName="ViewTransition";var nR=j.createContext(new Map);nR.displayName="Fetchers";var rR=j.createContext(null);rR.displayName="Await";var ir=j.createContext(null);ir.displayName="Navigation";var xu=j.createContext(null);xu.displayName="Location";var sr=j.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Gp=j.createContext(null);Gp.displayName="RouteError";function iR(r,{relative:e}={}){tt(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(ir),{hash:a,pathname:l,search:c}=Su(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:hi([t,l])),s.createHref({pathname:d,search:c,hash:a})}function Do(){return j.useContext(xu)!=null}function yi(){return tt(Do(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(xu).location}var gb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yb(r){j.useContext(ir).static||j.useLayoutEffect(r)}function vn(){let{isDataRoute:r}=j.useContext(sr);return r?vR():sR()}function sR(){tt(Do(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Io),{basename:e,navigator:t}=j.useContext(ir),{matches:s}=j.useContext(sr),{pathname:a}=yi(),l=JSON.stringify(Fp(s)),c=j.useRef(!1);return yb(()=>{c.current=!0}),j.useCallback((m,g={})=>{if(Cn(c.current,gb),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=$p(m,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:hi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,r])}j.createContext(null);function aR(){let{matches:r}=j.useContext(sr),e=r[r.length-1];return e?e.params:{}}function Su(r,{relative:e}={}){let{matches:t}=j.useContext(sr),{pathname:s}=yi(),a=JSON.stringify(Fp(t));return j.useMemo(()=>$p(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function oR(r,e){return vb(r,e)}function vb(r,e,t,s){var Q;tt(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=j.useContext(ir),{matches:c}=j.useContext(sr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",w=d&&d.route;{let X=w&&w.path||"";_b(g,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=yi(),I;if(e){let X=typeof e=="string"?da(e):e;tt(_==="/"||((Q=X.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),I=X}else I=R;let C=I.pathname||"/",z=C;if(_!=="/"){let X=_.replace(/^\//,"").split("/");z="/"+C.replace(/^\//,"").split("/").slice(X.length).join("/")}let N=!l&&t&&t.matches&&t.matches.length>0?t.matches:hb(r,{pathname:z});Cn(w||N!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Cn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=fR(N&&N.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:hi([_,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:hi([_,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,t,s);return e&&q?j.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},q):q}function lR(){let r=yR(),e=eR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,c)}var uR=j.createElement(lR,null),cR=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(sr.Provider,{value:this.props.routeContext},j.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hR({routeContext:r,match:e,children:t}){let s=j.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(sr.Provider,{value:r},t)}function fR(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);tt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:w}=t,R=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||R){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,_)=>{let w,R=!1,I=null,C=null;t&&(w=l&&g.route.id?l[g.route.id]:void 0,I=g.route.errorElement||uR,c&&(d<0&&_===0?(_b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,C=null):d===_&&(R=!0,C=g.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,_+1)),N=()=>{let q;return w?q=I:R?q=C:g.route.Component?q=j.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,j.createElement(hR,{match:g,routeContext:{outlet:m,matches:z,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?j.createElement(cR,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:N(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):N()},null)}function Kp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dR(r){let e=j.useContext(Io);return tt(e,Kp(r)),e}function mR(r){let e=j.useContext(Jh);return tt(e,Kp(r)),e}function pR(r){let e=j.useContext(sr);return tt(e,Kp(r)),e}function Qp(r){let e=pR(r),t=e.matches[e.matches.length-1];return tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function gR(){return Qp("useRouteId")}function yR(){var s;let r=j.useContext(Gp),e=mR("useRouteError"),t=Qp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function vR(){let{router:r}=dR("useNavigate"),e=Qp("useNavigate"),t=j.useRef(!1);return yb(()=>{t.current=!0}),j.useCallback(async(a,l={})=>{Cn(t.current,gb),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var h_={};function _b(r,e,t){!e&&!h_[r]&&(h_[r]=!0,Cn(!1,t))}j.memo(_R);function _R({routes:r,future:e,state:t}){return vb(r,void 0,t,e)}function ER({to:r,replace:e,state:t,relative:s}){tt(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(ir);Cn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(sr),{pathname:c}=yi(),d=vn(),m=$p(r,Fp(l),c,s==="path"),g=JSON.stringify(m);return j.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function Kn(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){tt(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=da(t));let{pathname:m="/",search:g="",hash:_="",state:w=null,key:R="default"}=t,I=j.useMemo(()=>{let C=hs(m,c);return C==null?null:{location:{pathname:C,search:g,hash:_,state:w,key:R},navigationType:s}},[c,m,g,_,w,R,s]);return Cn(I!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:j.createElement(ir.Provider,{value:d},j.createElement(xu.Provider,{children:e,value:I}))}function wR({children:r,location:e}){return oR(op(r),e)}function op(r,e=[]){let t=[];return j.Children.forEach(r,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){t.push.apply(t,op(s.props.children,l));return}tt(s.type===Kn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=op(s.props.children,l)),t.push(c)}),t}var dh="get",mh="application/x-www-form-urlencoded";function ef(r){return r!=null&&typeof r.tagName=="string"}function TR(r){return ef(r)&&r.tagName.toLowerCase()==="button"}function xR(r){return ef(r)&&r.tagName.toLowerCase()==="form"}function SR(r){return ef(r)&&r.tagName.toLowerCase()==="input"}function AR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function RR(r,e){return r.button===0&&(!e||e==="_self")&&!AR(r)}function lp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let s=r[t];return e.concat(Array.isArray(s)?s.map(a=>[t,a]):[[t,s]])},[]))}function NR(r,e){let t=lp(r);return e&&e.forEach((s,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var sh=null;function CR(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var IR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(r){return r!=null&&!IR.has(r)?(Cn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function DR(r,e){let t,s,a,l,c;if(xR(r)){let d=r.getAttribute("action");s=d?hs(d,e):null,t=r.getAttribute("method")||dh,a=Lm(r.getAttribute("enctype"))||mh,l=new FormData(r)}else if(TR(r)||SR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(s=m?hs(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||dh,a=Lm(r.getAttribute("formenctype"))||Lm(d.getAttribute("enctype"))||mh,l=new FormData(d,r),!CR()){let{name:g,type:_,value:w}=r;if(_==="image"){let R=g?`${g}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else g&&l.append(g,w)}}else{if(ef(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dh,s=null,a=mh,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function OR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kR(r,e,t){let s=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await OR(l,t);return c.links?c.links():[]}return[]}));return LR(s.flat(1).filter(MR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function f_(r,e,t,s,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var _;return t[g].pathname!==m.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var w;let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let R=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function jR(r,e){return PR(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function PR(r){return[...new Set(r)]}function VR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function LR(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let l=JSON.stringify(VR(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function UR(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function zR(){let r=j.useContext(Io);return Yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function BR(){let r=j.useContext(Jh);return Yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xp=j.createContext(void 0);Xp.displayName="FrameworkContext";function Eb(){let r=j.useContext(Xp);return Yp(r,"You must render this element inside a <HydratedRouter> element"),r}function HR(r,e){let t=j.useContext(Xp),[s,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,R=j.useRef(null);j.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let z=q=>{q.forEach(Q=>{c(Q.isIntersecting)})},N=new IntersectionObserver(z,{threshold:.5});return R.current&&N.observe(R.current),()=>{N.disconnect()}}},[r]),j.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let I=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,R,{}]:[l,R,{onFocus:Xl(d,I),onBlur:Xl(m,C),onMouseEnter:Xl(g,I),onMouseLeave:Xl(_,C),onTouchStart:Xl(w,I)}]:[!1,R,{}]}function Xl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function qR({page:r,...e}){let{router:t}=zR(),s=j.useMemo(()=>hb(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?j.createElement($R,{page:r,matches:s,...e}):null}function FR(r){let{manifest:e,routeModules:t}=Eb(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return kR(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),s}function $R({page:r,matches:e,...t}){let s=yi(),{manifest:a,routeModules:l}=Eb(),{loaderData:c,matches:d}=BR(),m=j.useMemo(()=>f_(r,e,d,a,s,"data"),[r,e,d,a,s]),g=j.useMemo(()=>f_(r,e,d,a,s,"assets"),[r,e,d,a,s]),_=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,C=!1;if(e.forEach(N=>{var Q;let q=a.routes[N.route.id];!q||!q.hasLoader||(!m.some(X=>X.route.id===N.route.id)&&N.route.id in c&&((Q=l[N.route.id])!=null&&Q.shouldRevalidate)||q.hasClientLoader?C=!0:I.add(N.route.id))}),I.size===0)return[];let z=UR(r);return C&&I.size>0&&z.searchParams.set("_routes",e.filter(N=>I.has(N.route.id)).map(N=>N.route.id).join(",")),[z.pathname+z.search]},[c,s,a,m,e,r,l]),w=j.useMemo(()=>jR(g,a),[g,a]),R=FR(g);return j.createElement(j.Fragment,null,_.map(I=>j.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>j.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),R.map(({key:I,link:C})=>j.createElement("link",{key:I,...C})))}function GR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bb&&(window.__reactRouterVersion="7.1.5")}catch{}function KR({basename:r,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=OA({window:t,v5Compat:!0}));let a=s.current,[l,c]=j.useState({action:a.action,location:a.location}),d=j.useCallback(m=>{j.startTransition(()=>c(m))},[c]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.createElement(bR,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:a})}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:w,...R},I){let{basename:C}=j.useContext(ir),z=typeof g=="string"&&wb.test(g),N,q=!1;if(typeof g=="string"&&z&&(N=g,bb))try{let A=new URL(window.location.href),D=g.startsWith("//")?new URL(A.protocol+g):new URL(g),V=hs(D.pathname,C);D.origin===A.origin&&V!=null?g=V+D.search+D.hash:q=!0}catch{Cn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=iR(g,{relative:a}),[X,te,ie]=HR(s,R),ne=WR(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:w});function M(A){e&&e(A),A.defaultPrevented||ne(A)}let T=j.createElement("a",{...R,...ie,href:N||Q,onClick:q||l?e:M,ref:GR(I,te),target:m,"data-discover":!z&&t==="render"?"true":void 0});return X&&!z?j.createElement(j.Fragment,null,T,j.createElement(qR,{page:Q})):T});Wt.displayName="Link";var QR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let w=Su(c,{relative:g.relative}),R=yi(),I=j.useContext(Jh),{navigator:C,basename:z}=j.useContext(ir),N=I!=null&&n1(w)&&d===!0,q=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,Q=R.pathname,X=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),X=X?X.toLowerCase():null,q=q.toLowerCase()),X&&z&&(X=hs(X,z)||X);const te=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ie=Q===q||!a&&Q.startsWith(q)&&Q.charAt(te)==="/",ne=X!=null&&(X===q||!a&&X.startsWith(q)&&X.charAt(q.length)==="/"),M={isActive:ie,isPending:ne,isTransitioning:N},T=ie?e:void 0,A;typeof s=="function"?A=s(M):A=[s,ie?"active":null,ne?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return j.createElement(Wt,{...g,"aria-current":T,className:A,ref:_,style:D,to:c,viewTransition:d},typeof m=="function"?m(M):m)});QR.displayName="NavLink";var YR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=dh,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:w,...R},I)=>{let C=e1(),z=t1(d,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&wb.test(d),Q=X=>{if(m&&m(X),X.defaultPrevented)return;X.preventDefault();let te=X.nativeEvent.submitter,ie=(te==null?void 0:te.getAttribute("formmethod"))||c;C(te||X.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:w})};return j.createElement("form",{ref:I,method:N,action:z,onSubmit:s?m:Q,...R,"data-discover":!q&&r==="render"?"true":void 0})});YR.displayName="Form";function XR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(r){let e=j.useContext(Io);return tt(e,XR(r)),e}function WR(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=vn(),m=yi(),g=Su(r,{relative:l});return j.useCallback(_=>{if(RR(_,e)){_.preventDefault();let w=t!==void 0?t:mu(m)===mu(g);d(r,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,s,e,r,a,l,c])}function Wp(r){Cn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(lp(r)),t=j.useRef(!1),s=yi(),a=j.useMemo(()=>NR(s.search,t.current?null:e.current),[s.search]),l=vn(),c=j.useCallback((d,m)=>{const g=lp(typeof d=="function"?d(a):d);t.current=!0,l("?"+g,m)},[l,a]);return[a,c]}var ZR=0,JR=()=>`__${String(++ZR)}__`;function e1(){let{router:r}=Tb("useSubmit"),{basename:e}=j.useContext(ir),t=gR();return j.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=DR(s,e);if(a.navigate===!1){let _=a.fetcherKey||JR();await r.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function t1(r,{relative:e}={}){let{basename:t}=j.useContext(ir),s=j.useContext(sr);tt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Su(r||".",{relative:e})},c=yi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:hi([t,l.pathname])),mu(l)}function n1(r,e={}){let t=j.useContext(pb);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Tb("useViewTransitionState"),a=Su(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=hs(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=hs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Nh(a.pathname,c)!=null||Nh(a.pathname,l)!=null}new TextEncoder;function xb(r,e){return function(){return r.apply(e,arguments)}}const{toString:r1}=Object.prototype,{getPrototypeOf:Zp}=Object,tf=(r=>e=>{const t=r1.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ar=r=>(r=r.toLowerCase(),e=>tf(e)===r),nf=r=>e=>typeof e===r,{isArray:Oo}=Array,pu=nf("undefined");function i1(r){return r!==null&&!pu(r)&&r.constructor!==null&&!pu(r.constructor)&&Rn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Sb=ar("ArrayBuffer");function s1(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Sb(r.buffer),e}const a1=nf("string"),Rn=nf("function"),Ab=nf("number"),rf=r=>r!==null&&typeof r=="object",o1=r=>r===!0||r===!1,ph=r=>{if(tf(r)!=="object")return!1;const e=Zp(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},l1=ar("Date"),u1=ar("File"),c1=ar("Blob"),h1=ar("FileList"),f1=r=>rf(r)&&Rn(r.pipe),d1=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Rn(r.append)&&((e=tf(r))==="formdata"||e==="object"&&Rn(r.toString)&&r.toString()==="[object FormData]"))},m1=ar("URLSearchParams"),[p1,g1,y1,v1]=["ReadableStream","Request","Response","Headers"].map(ar),_1=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Au(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,a;if(typeof r!="object"&&(r=[r]),Oo(r))for(s=0,a=r.length;s<a;s++)e.call(null,r[s],s,r);else{const l=t?Object.getOwnPropertyNames(r):Object.keys(r),c=l.length;let d;for(s=0;s<c;s++)d=l[s],e.call(null,r[d],d,r)}}function Rb(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nb=r=>!pu(r)&&r!==ta;function up(){const{caseless:r}=Nb(this)&&this||{},e={},t=(s,a)=>{const l=r&&Rb(e,a)||a;ph(e[l])&&ph(s)?e[l]=up(e[l],s):ph(s)?e[l]=up({},s):Oo(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Au(arguments[s],t);return e}const E1=(r,e,t,{allOwnKeys:s}={})=>(Au(e,(a,l)=>{t&&Rn(a)?r[l]=xb(a,t):r[l]=a},{allOwnKeys:s}),r),b1=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),w1=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},T1=(r,e,t,s)=>{let a,l,c;const d={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),l=a.length;l-- >0;)c=a[l],(!s||s(c,r,e))&&!d[c]&&(e[c]=r[c],d[c]=!0);r=t!==!1&&Zp(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},x1=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},S1=r=>{if(!r)return null;if(Oo(r))return r;let e=r.length;if(!Ab(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},A1=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Zp(Uint8Array)),R1=(r,e)=>{const s=(r&&r[Symbol.iterator]).call(r);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(r,l[0],l[1])}},N1=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},C1=ar("HTMLFormElement"),I1=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),d_=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),D1=ar("RegExp"),Cb=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Au(t,(a,l)=>{let c;(c=e(a,l,r))!==!1&&(s[l]=c||a)}),Object.defineProperties(r,s)},O1=r=>{Cb(r,(e,t)=>{if(Rn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(Rn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},M1=(r,e)=>{const t={},s=a=>{a.forEach(l=>{t[l]=!0})};return Oo(r)?s(r):s(String(r).split(e)),t},k1=()=>{},j1=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,Um="abcdefghijklmnopqrstuvwxyz",m_="0123456789",Ib={DIGIT:m_,ALPHA:Um,ALPHA_DIGIT:Um+Um.toUpperCase()+m_},P1=(r=16,e=Ib.ALPHA_DIGIT)=>{let t="";const{length:s}=e;for(;r--;)t+=e[Math.random()*s|0];return t};function V1(r){return!!(r&&Rn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const L1=r=>{const e=new Array(10),t=(s,a)=>{if(rf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=Oo(s)?[]:{};return Au(s,(c,d)=>{const m=t(c,a+1);!pu(m)&&(l[d]=m)}),e[a]=void 0,l}}return s};return t(r,0)},U1=ar("AsyncFunction"),z1=r=>r&&(rf(r)||Rn(r))&&Rn(r.then)&&Rn(r.catch),Db=((r,e)=>r?setImmediate:e?((t,s)=>(ta.addEventListener("message",({source:a,data:l})=>{a===ta&&l===t&&s.length&&s.shift()()},!1),a=>{s.push(a),ta.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Rn(ta.postMessage)),B1=typeof queueMicrotask<"u"?queueMicrotask.bind(ta):typeof process<"u"&&process.nextTick||Db,Y={isArray:Oo,isArrayBuffer:Sb,isBuffer:i1,isFormData:d1,isArrayBufferView:s1,isString:a1,isNumber:Ab,isBoolean:o1,isObject:rf,isPlainObject:ph,isReadableStream:p1,isRequest:g1,isResponse:y1,isHeaders:v1,isUndefined:pu,isDate:l1,isFile:u1,isBlob:c1,isRegExp:D1,isFunction:Rn,isStream:f1,isURLSearchParams:m1,isTypedArray:A1,isFileList:h1,forEach:Au,merge:up,extend:E1,trim:_1,stripBOM:b1,inherits:w1,toFlatObject:T1,kindOf:tf,kindOfTest:ar,endsWith:x1,toArray:S1,forEachEntry:R1,matchAll:N1,isHTMLForm:C1,hasOwnProperty:d_,hasOwnProp:d_,reduceDescriptors:Cb,freezeMethods:O1,toObjectSet:M1,toCamelCase:I1,noop:k1,toFiniteNumber:j1,findKey:Rb,global:ta,isContextDefined:Nb,ALPHABET:Ib,generateString:P1,isSpecCompliantForm:V1,toJSONObject:L1,isAsyncFn:U1,isThenable:z1,setImmediate:Db,asap:B1};function Ae(r,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const Ob=Ae.prototype,Mb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Mb[r]={value:r}});Object.defineProperties(Ae,Mb);Object.defineProperty(Ob,"isAxiosError",{value:!0});Ae.from=(r,e,t,s,a,l)=>{const c=Object.create(Ob);return Y.toFlatObject(r,c,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),Ae.call(c,r.message,e,t,s,a),c.cause=r,c.name=r.name,l&&Object.assign(c,l),c};const H1=null;function cp(r){return Y.isPlainObject(r)||Y.isArray(r)}function kb(r){return Y.endsWith(r,"[]")?r.slice(0,-2):r}function p_(r,e,t){return r?r.concat(e).map(function(a,l){return a=kb(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function q1(r){return Y.isArray(r)&&!r.some(cp)}const F1=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function sf(r,e,t){if(!Y.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,N){return!Y.isUndefined(N[z])});const s=t.metaTokens,a=t.visitor||_,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function g(C){if(C===null)return"";if(Y.isDate(C))return C.toISOString();if(!m&&Y.isBlob(C))throw new Ae("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(C)||Y.isTypedArray(C)?m&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function _(C,z,N){let q=C;if(C&&!N&&typeof C=="object"){if(Y.endsWith(z,"{}"))z=s?z:z.slice(0,-2),C=JSON.stringify(C);else if(Y.isArray(C)&&q1(C)||(Y.isFileList(C)||Y.endsWith(z,"[]"))&&(q=Y.toArray(C)))return z=kb(z),q.forEach(function(X,te){!(Y.isUndefined(X)||X===null)&&e.append(c===!0?p_([z],te,l):c===null?z:z+"[]",g(X))}),!1}return cp(C)?!0:(e.append(p_(N,z,l),g(C)),!1)}const w=[],R=Object.assign(F1,{defaultVisitor:_,convertValue:g,isVisitable:cp});function I(C,z){if(!Y.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+z.join("."));w.push(C),Y.forEach(C,function(q,Q){(!(Y.isUndefined(q)||q===null)&&a.call(e,q,Y.isString(Q)?Q.trim():Q,z,R))===!0&&I(q,z?z.concat(Q):[Q])}),w.pop()}}if(!Y.isObject(r))throw new TypeError("data must be an object");return I(r),e}function g_(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Jp(r,e){this._pairs=[],r&&sf(r,this,e)}const jb=Jp.prototype;jb.append=function(e,t){this._pairs.push([e,t])};jb.toString=function(e){const t=e?function(s){return e.call(this,s,g_)}:g_;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function $1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pb(r,e,t){if(!e)return r;const s=t&&t.encode||$1;Y.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=Y.isURLSearchParams(e)?e.toString():new Jp(e,t).toString(s),l){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+l}return r}class y_{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Vb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},G1=typeof URLSearchParams<"u"?URLSearchParams:Jp,K1=typeof FormData<"u"?FormData:null,Q1=typeof Blob<"u"?Blob:null,Y1={isBrowser:!0,classes:{URLSearchParams:G1,FormData:K1,Blob:Q1},protocols:["http","https","file","blob","url","data"]},eg=typeof window<"u"&&typeof document<"u",hp=typeof navigator=="object"&&navigator||void 0,X1=eg&&(!hp||["ReactNative","NativeScript","NS"].indexOf(hp.product)<0),W1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z1=eg&&window.location.href||"http://localhost",J1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eg,hasStandardBrowserEnv:X1,hasStandardBrowserWebWorkerEnv:W1,navigator:hp,origin:Z1},Symbol.toStringTag,{value:"Module"})),en={...J1,...Y1};function eN(r,e){return sf(r,new en.classes.URLSearchParams,Object.assign({visitor:function(t,s,a,l){return en.isNode&&Y.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function tN(r){return Y.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nN(r){const e={},t=Object.keys(r);let s;const a=t.length;let l;for(s=0;s<a;s++)l=t[s],e[l]=r[l];return e}function Lb(r){function e(t,s,a,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=l>=t.length;return c=!c&&Y.isArray(a)?a.length:c,m?(Y.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!d):((!a[c]||!Y.isObject(a[c]))&&(a[c]=[]),e(t,s,a[c],l)&&Y.isArray(a[c])&&(a[c]=nN(a[c])),!d)}if(Y.isFormData(r)&&Y.isFunction(r.entries)){const t={};return Y.forEachEntry(r,(s,a)=>{e(tN(s),a,t,0)}),t}return null}function rN(r,e,t){if(Y.isString(r))try{return(e||JSON.parse)(r),Y.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const Ru={transitional:Vb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,l=Y.isObject(e);if(l&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return a?JSON.stringify(Lb(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return eN(e,this.formSerializer).toString();if((d=Y.isFileList(e))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return sf(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),rN(e)):e}],transformResponse:[function(e){const t=this.transitional||Ru.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(s&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ae.from(d,Ae.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],r=>{Ru.headers[r]={}});const iN=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sN=r=>{const e={};let t,s,a;return r&&r.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!t||e[t]&&iN[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},v_=Symbol("internals");function Wl(r){return r&&String(r).trim().toLowerCase()}function gh(r){return r===!1||r==null?r:Y.isArray(r)?r.map(gh):String(r)}function aN(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const oN=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function zm(r,e,t,s,a){if(Y.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!Y.isString(e)){if(Y.isString(s))return e.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(e)}}function lN(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function uN(r,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(a,l,c){return this[s].call(this,e,a,l,c)},configurable:!0})})}let mn=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function l(d,m,g){const _=Wl(m);if(!_)throw new Error("header name must be a non-empty string");const w=Y.findKey(a,_);(!w||a[w]===void 0||g===!0||g===void 0&&a[w]!==!1)&&(a[w||m]=gh(d))}const c=(d,m)=>Y.forEach(d,(g,_)=>l(g,_,m));if(Y.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(Y.isString(e)&&(e=e.trim())&&!oN(e))c(sN(e),t);else if(Y.isHeaders(e))for(const[d,m]of e.entries())l(m,d,s);else e!=null&&l(t,e,s);return this}get(e,t){if(e=Wl(e),e){const s=Y.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return aN(a);if(Y.isFunction(t))return t.call(this,a,s);if(Y.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wl(e),e){const s=Y.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||zm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function l(c){if(c=Wl(c),c){const d=Y.findKey(s,c);d&&(!t||zm(s,s[d],d,t))&&(delete s[d],a=!0)}}return Y.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const l=t[s];(!e||zm(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,s={};return Y.forEach(this,(a,l)=>{const c=Y.findKey(s,l);if(c){t[c]=gh(a),delete t[l];return}const d=e?lN(l):String(l).trim();d!==l&&delete t[l],t[d]=gh(a),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&Y.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[v_]=this[v_]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=Wl(c);s[d]||(uN(a,c),s[d]=!0)}return Y.isArray(e)?e.forEach(l):l(e),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(mn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});Y.freezeMethods(mn);function Bm(r,e){const t=this||Ru,s=e||t,a=mn.from(s.headers);let l=s.data;return Y.forEach(r,function(d){l=d.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function Ub(r){return!!(r&&r.__CANCEL__)}function Mo(r,e,t){Ae.call(this,r??"canceled",Ae.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(Mo,Ae,{__CANCEL__:!0});function zb(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Ae("Request failed with status code "+t.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function cN(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function hN(r,e){r=r||10;const t=new Array(r),s=new Array(r);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),_=s[l];c||(c=g),t[a]=m,s[a]=g;let w=l,R=0;for(;w!==a;)R+=t[w++],w=w%r;if(a=(a+1)%r,a===l&&(l=(l+1)%r),g-c<e)return;const I=_&&g-_;return I?Math.round(R*1e3/I):void 0}}function fN(r,e){let t=0,s=1e3/e,a,l;const c=(g,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),r.apply(null,g)};return[(...g)=>{const _=Date.now(),w=_-t;w>=s?c(g,_):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},s-w)))},()=>a&&c(a)]}const Ch=(r,e,t=3)=>{let s=0;const a=hN(50,250);return fN(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,m=c-s,g=a(m),_=c<=d;s=c;const w={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:g||void 0,estimated:g&&d&&_?(d-c)/g:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};r(w)},t)},__=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},E_=r=>(...e)=>Y.asap(()=>r(...e)),dN=en.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,en.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,mN=en.hasStandardBrowserEnv?{write(r,e,t,s,a,l){const c=[r+"="+encodeURIComponent(e)];Y.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),Y.isString(s)&&c.push("path="+s),Y.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pN(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function gN(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Bb(r,e){return r&&!pN(e)?gN(r,e):e}const b_=r=>r instanceof mn?{...r}:r;function sa(r,e){e=e||{};const t={};function s(g,_,w,R){return Y.isPlainObject(g)&&Y.isPlainObject(_)?Y.merge.call({caseless:R},g,_):Y.isPlainObject(_)?Y.merge({},_):Y.isArray(_)?_.slice():_}function a(g,_,w,R){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g,w,R)}else return s(g,_,w,R)}function l(g,_){if(!Y.isUndefined(_))return s(void 0,_)}function c(g,_){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function d(g,_,w){if(w in e)return s(g,_);if(w in r)return s(void 0,g)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,_,w)=>a(b_(g),b_(_),w,!0)};return Y.forEach(Object.keys(Object.assign({},r,e)),function(_){const w=m[_]||a,R=w(r[_],e[_],_);Y.isUndefined(R)&&w!==d||(t[_]=R)}),t}const Hb=r=>{const e=sa({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=mn.from(c),e.url=Pb(Bb(e.baseURL,e.url),r.params,r.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(Y.isFormData(t)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[g,..._]=m?m.split(";").map(w=>w.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",..._].join("; "))}}if(en.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(e)),s||s!==!1&&dN(e.url))){const g=a&&l&&mN.read(l);g&&c.set(a,g)}return e},yN=typeof XMLHttpRequest<"u",vN=yN&&function(r){return new Promise(function(t,s){const a=Hb(r);let l=a.data;const c=mn.from(a.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:g}=a,_,w,R,I,C;function z(){I&&I(),C&&C(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function q(){if(!N)return;const X=mn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),ie={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:X,config:r,request:N};zb(function(M){t(M),z()},function(M){s(M),z()},ie),N=null}"onloadend"in N?N.onloadend=q:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(q)},N.onabort=function(){N&&(s(new Ae("Request aborted",Ae.ECONNABORTED,r,N)),N=null)},N.onerror=function(){s(new Ae("Network Error",Ae.ERR_NETWORK,r,N)),N=null},N.ontimeout=function(){let te=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ie=a.transitional||Vb;a.timeoutErrorMessage&&(te=a.timeoutErrorMessage),s(new Ae(te,ie.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,r,N)),N=null},l===void 0&&c.setContentType(null),"setRequestHeader"in N&&Y.forEach(c.toJSON(),function(te,ie){N.setRequestHeader(ie,te)}),Y.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),d&&d!=="json"&&(N.responseType=a.responseType),g&&([R,C]=Ch(g,!0),N.addEventListener("progress",R)),m&&N.upload&&([w,I]=Ch(m),N.upload.addEventListener("progress",w),N.upload.addEventListener("loadend",I)),(a.cancelToken||a.signal)&&(_=X=>{N&&(s(!X||X.type?new Mo(null,r,N):X),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const Q=cN(a.url);if(Q&&en.protocols.indexOf(Q)===-1){s(new Ae("Unsupported protocol "+Q+":",Ae.ERR_BAD_REQUEST,r));return}N.send(l||null)})},_N=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,a;const l=function(g){if(!a){a=!0,d();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof Ae?_:new Mo(_ instanceof Error?_.message:_))}};let c=e&&setTimeout(()=>{c=null,l(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const d=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),r=null)};r.forEach(g=>g.addEventListener("abort",l));const{signal:m}=s;return m.unsubscribe=()=>Y.asap(d),m}},EN=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,a;for(;s<t;)a=s+e,yield r.slice(s,a),s=a},bN=async function*(r,e){for await(const t of wN(r))yield*EN(t,e)},wN=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},w_=(r,e,t,s)=>{const a=bN(r,e);let l=0,c,d=m=>{c||(c=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:g,value:_}=await a.next();if(g){d(),m.close();return}let w=_.byteLength;if(t){let R=l+=w;t(R)}m.enqueue(new Uint8Array(_))}catch(g){throw d(g),g}},cancel(m){return d(m),a.return()}},{highWaterMark:2})},af=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qb=af&&typeof ReadableStream=="function",TN=af&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Fb=(r,...e)=>{try{return!!r(...e)}catch{return!1}},xN=qb&&Fb(()=>{let r=!1;const e=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),T_=64*1024,fp=qb&&Fb(()=>Y.isReadableStream(new Response("").body)),Ih={stream:fp&&(r=>r.body)};af&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ih[e]&&(Ih[e]=Y.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,s)})})})(new Response);const SN=async r=>{if(r==null)return 0;if(Y.isBlob(r))return r.size;if(Y.isSpecCompliantForm(r))return(await new Request(en.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(r)||Y.isArrayBuffer(r))return r.byteLength;if(Y.isURLSearchParams(r)&&(r=r+""),Y.isString(r))return(await TN(r)).byteLength},AN=async(r,e)=>{const t=Y.toFiniteNumber(r.getContentLength());return t??SN(e)},RN=af&&(async r=>{let{url:e,method:t,data:s,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:m,responseType:g,headers:_,withCredentials:w="same-origin",fetchOptions:R}=Hb(r);g=g?(g+"").toLowerCase():"text";let I=_N([a,l&&l.toAbortSignal()],c),C;const z=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let N;try{if(m&&xN&&t!=="get"&&t!=="head"&&(N=await AN(_,s))!==0){let ie=new Request(e,{method:"POST",body:s,duplex:"half"}),ne;if(Y.isFormData(s)&&(ne=ie.headers.get("content-type"))&&_.setContentType(ne),ie.body){const[M,T]=__(N,Ch(E_(m)));s=w_(ie.body,T_,M,T)}}Y.isString(w)||(w=w?"include":"omit");const q="credentials"in Request.prototype;C=new Request(e,{...R,signal:I,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:q?w:void 0});let Q=await fetch(C);const X=fp&&(g==="stream"||g==="response");if(fp&&(d||X&&z)){const ie={};["status","statusText","headers"].forEach(A=>{ie[A]=Q[A]});const ne=Y.toFiniteNumber(Q.headers.get("content-length")),[M,T]=d&&__(ne,Ch(E_(d),!0))||[];Q=new Response(w_(Q.body,T_,M,()=>{T&&T(),z&&z()}),ie)}g=g||"text";let te=await Ih[Y.findKey(Ih,g)||"text"](Q,r);return!X&&z&&z(),await new Promise((ie,ne)=>{zb(ie,ne,{data:te,headers:mn.from(Q.headers),status:Q.status,statusText:Q.statusText,config:r,request:C})})}catch(q){throw z&&z(),q&&q.name==="TypeError"&&/fetch/i.test(q.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,r,C),{cause:q.cause||q}):Ae.from(q,q&&q.code,r,C)}}),dp={http:H1,xhr:vN,fetch:RN};Y.forEach(dp,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const x_=r=>`- ${r}`,NN=r=>Y.isFunction(r)||r===null||r===!1,$b={getAdapter:r=>{r=Y.isArray(r)?r:[r];const{length:e}=r;let t,s;const a={};for(let l=0;l<e;l++){t=r[l];let c;if(s=t,!NN(t)&&(s=dp[(c=String(t)).toLowerCase()],s===void 0))throw new Ae(`Unknown adapter '${c}'`);if(s)break;a[c||"#"+l]=s}if(!s){const l=Object.entries(a).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(x_).join(`
`):" "+x_(l[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:dp};function Hm(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Mo(null,r)}function S_(r){return Hm(r),r.headers=mn.from(r.headers),r.data=Bm.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),$b.getAdapter(r.adapter||Ru.adapter)(r).then(function(s){return Hm(r),s.data=Bm.call(r,r.transformResponse,s),s.headers=mn.from(s.headers),s},function(s){return Ub(s)||(Hm(r),s&&s.response&&(s.response.data=Bm.call(r,r.transformResponse,s.response),s.response.headers=mn.from(s.response.headers))),Promise.reject(s)})}const Gb="1.7.9",of={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{of[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const A_={};of.transitional=function(e,t,s){function a(l,c){return"[Axios v"+Gb+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,d)=>{if(e===!1)throw new Ae(a(c," has been removed"+(t?" in "+t:"")),Ae.ERR_DEPRECATED);return t&&!A_[c]&&(A_[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};of.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function CN(r,e,t){if(typeof r!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let a=s.length;for(;a-- >0;){const l=s[a],c=e[l];if(c){const d=r[l],m=d===void 0||c(d,l,r);if(m!==!0)throw new Ae("option "+l+" must be "+m,Ae.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ae("Unknown option "+l,Ae.ERR_BAD_OPTION)}}const yh={assertOptions:CN,validators:of},xr=yh.validators;let ia=class{constructor(e){this.defaults=e,this.interceptors={request:new y_,response:new y_}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=sa(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:l}=t;s!==void 0&&yh.assertOptions(s,{silentJSONParsing:xr.transitional(xr.boolean),forcedJSONParsing:xr.transitional(xr.boolean),clarifyTimeoutError:xr.transitional(xr.boolean)},!1),a!=null&&(Y.isFunction(a)?t.paramsSerializer={serialize:a}:yh.assertOptions(a,{encode:xr.function,serialize:xr.function},!0)),yh.assertOptions(t,{baseUrl:xr.spelling("baseURL"),withXsrfToken:xr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&Y.merge(l.common,l[t.method]);l&&Y.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),t.headers=mn.concat(c,l);const d=[];let m=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(t)===!1||(m=m&&z.synchronous,d.unshift(z.fulfilled,z.rejected))});const g=[];this.interceptors.response.forEach(function(z){g.push(z.fulfilled,z.rejected)});let _,w=0,R;if(!m){const C=[S_.bind(this),void 0];for(C.unshift.apply(C,d),C.push.apply(C,g),R=C.length,_=Promise.resolve(t);w<R;)_=_.then(C[w++],C[w++]);return _}R=d.length;let I=t;for(w=0;w<R;){const C=d[w++],z=d[w++];try{I=C(I)}catch(N){z.call(this,N);break}}try{_=S_.call(this,I)}catch(C){return Promise.reject(C)}for(w=0,R=g.length;w<R;)_=_.then(g[w++],g[w++]);return _}getUri(e){e=sa(this.defaults,e);const t=Bb(e.baseURL,e.url);return Pb(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){ia.prototype[e]=function(t,s){return this.request(sa(s||{},{method:e,url:t,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(s){return function(l,c,d){return this.request(sa(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}ia.prototype[e]=t(),ia.prototype[e+"Form"]=t(!0)});let IN=class Kb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{s.subscribe(d),l=d}).then(a);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,d){s.reason||(s.reason=new Mo(l,c,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Kb(function(a){e=a}),cancel:e}}};function DN(r){return function(t){return r.apply(null,t)}}function ON(r){return Y.isObject(r)&&r.isAxiosError===!0}const mp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mp).forEach(([r,e])=>{mp[e]=r});function Qb(r){const e=new ia(r),t=xb(ia.prototype.request,e);return Y.extend(t,ia.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return Qb(sa(r,a))},t}const De=Qb(Ru);De.Axios=ia;De.CanceledError=Mo;De.CancelToken=IN;De.isCancel=Ub;De.VERSION=Gb;De.toFormData=sf;De.AxiosError=Ae;De.Cancel=De.CanceledError;De.all=function(e){return Promise.all(e)};De.spread=DN;De.isAxiosError=ON;De.mergeConfig=sa;De.AxiosHeaders=mn;De.formToJSON=r=>Lb(Y.isHTMLForm(r)?new FormData(r):r);De.getAdapter=$b.getAdapter;De.HttpStatusCode=mp;De.default=De;const{Axios:I4,AxiosError:D4,CanceledError:O4,isCancel:M4,CancelToken:k4,VERSION:j4,all:P4,Cancel:V4,isAxiosError:L4,spread:U4,toFormData:z4,AxiosHeaders:B4,HttpStatusCode:H4,formToJSON:q4,getAdapter:F4,mergeConfig:$4}=De;function ko({id:r,title:e,poster:t,rating:s}){const a=vn(),[l,c]=j.useState(!1),d=()=>{a(`/movie/${r}`)},m=w=>{w.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"},g=Number(s).toFixed(1),_=()=>s>=8?"bg-green-600":s>=6?"bg-yellow-600":"bg-red-600";return y.jsxs("div",{className:"relative overflow-hidden bg-gray-900 rounded-lg shadow-lg transition-all duration-300 hover:shadow-2xl",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:d,children:[y.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-end p-4 transform transition-opacity duration-300 z-10 ${l?"opacity-100":"opacity-0"}`,children:y.jsxs("div",{className:"text-white",children:[y.jsx("h3",{className:"text-xl font-bold mb-1",children:e}),y.jsx("button",{className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md w-full transition-colors",children:"Ver detalles"})]})}),y.jsx("div",{className:`absolute top-2 right-2 ${_()} text-white text-sm font-bold rounded-full h-9 w-9 flex items-center justify-center z-20 shadow-md`,children:g}),y.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[y.jsx("img",{src:t,alt:e,className:`w-full h-full object-cover transition-transform duration-300 ${l?"scale-110":"scale-100"}`,onError:m}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-70"})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-white font-semibold text-lg truncate",children:e}),y.jsxs("div",{className:"flex items-center text-yellow-400",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{className:"text-sm text-gray-300",children:g})]})]})]})}var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},MN=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,_=l>>2,w=(l&3)<<4|d>>4;let R=(d&15)<<2|g>>6,I=g&63;m||(I=64,c||(R=64)),s.push(t[_],t[w],t[R],t[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Yb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):MN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const w=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||w==null)throw new kN;const R=l<<2|d>>4;if(s.push(R),g!==64){const I=d<<4&240|g>>2;if(s.push(I),w!==64){const C=g<<6&192|w;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jN=function(r){const e=Yb(r);return Xb.encodeByteArray(e,!0)},Dh=function(r){return jN(r).replace(/\./g,"")},Wb=function(r){try{return Xb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=()=>PN().__FIREBASE_DEFAULTS__,LN=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Wb(r[1]);return e&&JSON.parse(e)},lf=()=>{try{return VN()||LN()||UN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Zb=r=>{var e,t;return(t=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},zN=r=>{const e=Zb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Jb=()=>{var r;return(r=lf())===null||r===void 0?void 0:r.config},ew=r=>{var e;return(e=lf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Dh(JSON.stringify(t)),Dh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function FN(){var r;const e=(r=lf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KN(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QN(){return!FN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nw(){try{return typeof indexedDB=="object"}catch{return!1}}function rw(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function YN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="FirebaseError";class or extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=XN,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?WN(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new or(a,d,s)}}function WN(r,e){return r.replace(ZN,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const ZN=/\{\$([^}]+)}/g;function JN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function aa(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],c=e[a];if(N_(l)&&N_(c)){if(!aa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function N_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function tu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function eC(r,e){const t=new tC(r,e);return t.subscribe.bind(t)}class tC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");nC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=qm),a.error===void 0&&(a.error=qm),a.complete===void 0&&(a.complete=qm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e3,iC=2,sC=4*60*60*1e3,aC=.5;function C_(r,e=rC,t=iC){const s=e*Math.pow(t,r),a=Math.round(aC*s*(Math.random()-.5)*2);return Math.min(sC,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r){return r&&r._delegate?r._delegate:r}class nr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new BN;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uC(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lC(r){return r===ea?void 0:r}function uC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const hC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},fC=ke.INFO,dC={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},mC=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=dC[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uf{constructor(e){this.name=e,this._logLevel=fC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const pC=(r,e)=>e.some(t=>r instanceof t);let I_,D_;function gC(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iw=new WeakMap,pp=new WeakMap,sw=new WeakMap,Fm=new WeakMap,tg=new WeakMap;function vC(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(os(r.result)),a()},c=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&iw.set(t,r)}).catch(()=>{}),tg.set(e,r),e}function _C(r){if(pp.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});pp.set(r,e)}let gp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return pp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function EC(r){gp=r(gp)}function bC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call($m(this),e,...t);return sw.set(s,e.sort?e.sort():[e]),os(s)}:yC().includes(r)?function(...e){return r.apply($m(this),e),os(iw.get(this))}:function(...e){return os(r.apply($m(this),e))}}function wC(r){return typeof r=="function"?bC(r):(r instanceof IDBTransaction&&_C(r),pC(r,gC())?new Proxy(r,gp):r)}function os(r){if(r instanceof IDBRequest)return vC(r);if(Fm.has(r))return Fm.get(r);const e=wC(r);return e!==r&&(Fm.set(r,e),tg.set(e,r)),e}const $m=r=>tg.get(r);function aw(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=os(c);return s&&c.addEventListener("upgradeneeded",m=>{s(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const TC=["get","getKey","getAll","getAllKeys","count"],xC=["put","add","delete","clear"],Gm=new Map;function O_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=xC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||TC.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Gm.set(e,l),l}EC(r=>({...r,get:(e,t,s)=>O_(e,t)||r.get(e,t,s),has:(e,t)=>!!O_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function AC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",M_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new uf("@firebase/app"),RC="@firebase/app-compat",NC="@firebase/analytics-compat",CC="@firebase/analytics",IC="@firebase/app-check-compat",DC="@firebase/app-check",OC="@firebase/auth",MC="@firebase/auth-compat",kC="@firebase/database",jC="@firebase/data-connect",PC="@firebase/database-compat",VC="@firebase/functions",LC="@firebase/functions-compat",UC="@firebase/installations",zC="@firebase/installations-compat",BC="@firebase/messaging",HC="@firebase/messaging-compat",qC="@firebase/performance",FC="@firebase/performance-compat",$C="@firebase/remote-config",GC="@firebase/remote-config-compat",KC="@firebase/storage",QC="@firebase/storage-compat",YC="@firebase/firestore",XC="@firebase/vertexai",WC="@firebase/firestore-compat",ZC="firebase",JC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",eI={[yp]:"fire-core",[RC]:"fire-core-compat",[CC]:"fire-analytics",[NC]:"fire-analytics-compat",[DC]:"fire-app-check",[IC]:"fire-app-check-compat",[OC]:"fire-auth",[MC]:"fire-auth-compat",[kC]:"fire-rtdb",[jC]:"fire-data-connect",[PC]:"fire-rtdb-compat",[VC]:"fire-fn",[LC]:"fire-fn-compat",[UC]:"fire-iid",[zC]:"fire-iid-compat",[BC]:"fire-fcm",[HC]:"fire-fcm-compat",[qC]:"fire-perf",[FC]:"fire-perf-compat",[$C]:"fire-rc",[GC]:"fire-rc-compat",[KC]:"fire-gcs",[QC]:"fire-gcs-compat",[YC]:"fire-fst",[WC]:"fire-fst-compat",[XC]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,tI=new Map,_p=new Map;function k_(r,e){try{r.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Or(r){const e=r.name;if(_p.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,r);for(const t of Oh.values())k_(t,r);for(const t of tI.values())k_(t,r);return!0}function pa(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new ma("app","Firebase",nI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=JC;function ow(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ls.create("bad-app-name",{appName:String(a)});if(t||(t=Jb()),!t)throw ls.create("no-options");const l=Oh.get(a);if(l){if(aa(t,l.options)&&aa(s,l.config))return l;throw ls.create("duplicate-app",{appName:a})}const c=new cC(a);for(const m of _p.values())c.addComponent(m);const d=new rI(t,s,c);return Oh.set(a,d),d}function ng(r=vp){const e=Oh.get(r);if(!e&&r===vp&&Jb())return ow();if(!e)throw ls.create("no-app",{appName:r});return e}function Yn(r,e,t){var s;let a=(s=eI[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(d.join(" "));return}Or(new nr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebase-heartbeat-database",sI=1,gu="firebase-heartbeat-store";let Km=null;function lw(){return Km||(Km=aw(iI,sI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Km}async function aI(r){try{const t=(await lw()).transaction(gu),s=await t.objectStore(gu).get(uw(r));return await t.done,s}catch(e){if(e instanceof or)di.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(t.message)}}}async function j_(r,e){try{const s=(await lw()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,uw(r)),await s.done}catch(t){if(t instanceof or)di.warn(t.message);else{const s=ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});di.warn(s.message)}}}function uw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=1024,lI=30;class uI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=P_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>lI){const c=fI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P_(),{heartbeatsToSend:s,unsentEntries:a}=cI(this._heartbeatsCache.heartbeats),l=Dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return di.warn(t),""}}}function P_(){return new Date().toISOString().substring(0,10)}function cI(r,e=oI){const t=[];let s=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),V_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),V_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class hI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nw()?rw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function V_(r){return Dh(JSON.stringify({version:2,heartbeats:r})).length}function fI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){Or(new nr("platform-logger",e=>new SC(e),"PRIVATE")),Or(new nr("heartbeat",e=>new uI(e),"PRIVATE")),Yn(yp,M_,r),Yn(yp,M_,"esm2017"),Yn("fire-js","")}dI("");function rg(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mI=cw,hw=new ma("auth","Firebase",cw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new uf("@firebase/auth");function pI(r,...e){Mh.logLevel<=ke.WARN&&Mh.warn(`Auth (${jo}): ${r}`,...e)}function vh(r,...e){Mh.logLevel<=ke.ERROR&&Mh.error(`Auth (${jo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(r,...e){throw ig(r,...e)}function Ar(r,...e){return ig(r,...e)}function fw(r,e,t){const s=Object.assign(Object.assign({},mI()),{[e]:t});return new ma("auth","Firebase",s).create(e,{appName:r.name})}function fi(r){return fw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return hw.create(r,...e)}function be(r,e,...t){if(!r)throw ig(e,...t)}function li(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function mi(r,e){r||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function gI(){return L_()==="http:"||L_()==="https:"}function L_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gI()||tw()||"connection"in navigator)?navigator.onLine:!0}function vI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=qN()||GN()}get(){return yI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r,e){mi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Cu(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _s(r,e,t,s,a={}){return mw(r,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Nu(Object.assign({key:r.config.apiKey},c)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},l);return $N()||(g.referrerPolicy="no-referrer"),dw.fetch()(pw(r,r.config.apiHost,t,d),g)})}async function mw(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},_I),e);try{const a=new wI(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ah(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw ah(r,"user-disabled",c);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fw(r,_,g);rr(r,_)}}catch(a){if(a instanceof or)throw a;rr(r,"network-request-failed",{message:String(a)})}}async function Iu(r,e,t,s,a={}){const l=await _s(r,e,t,s,a);return"mfaPendingCredential"in l&&rr(r,"multi-factor-auth-required",{_serverResponse:l}),l}function pw(r,e,t,s){const a=`${e}${t}?${s}`;return r.config.emulator?sg(r.config,a):`${r.config.apiScheme}://${a}`}function bI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ar(this.auth,"network-request-failed")),EI.get())})}}function ah(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Ar(r,e,s);return a.customData._tokenResponse=t,a}function U_(r){return r!==void 0&&r.enterprise!==void 0}class TI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xI(r,e){return _s(r,"GET","/v2/recaptchaConfig",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function gw(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AI(r,e=!1){const t=Dt(r),s=await t.getIdToken(e),a=ag(s);be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:au(Qm(a.auth_time)),issuedAtTime:au(Qm(a.iat)),expirationTime:au(Qm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Qm(r){return Number(r)*1e3}function ag(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Wb(t);return a?JSON.parse(a):(vh("Failed to decode base64 JWT payload"),null)}catch(a){return vh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function z_(r){const e=ag(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof or&&RI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function RI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(r){var e;const t=r.auth,s=await r.getIdToken(),a=await yu(r,gw(t,{idToken:s}));be(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?yw(l.providerUserInfo):[],d=II(r.providerData,c),m=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=m?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bp(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function CI(r){const e=Dt(r);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function II(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function yw(r){return r.map(e=>{var{providerId:t}=e,s=rg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e){const t=await mw(r,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=pw(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",dw.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OI(r,e){return _s(r,"POST","/v2/accounts:revokeToken",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=z_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await DI(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new go;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AI(this,e)}reload(){return CI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await yu(this,SI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,c,d,m,g,_;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,R=(a=t.email)!==null&&a!==void 0?a:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:te,isAnonymous:ie,providerData:ne,stsTokenManager:M}=t;be(X&&M,e,"internal-error");const T=go.fromJSON(this.name,M);be(typeof X=="string",e,"internal-error"),ts(w,e.name),ts(R,e.name),be(typeof te=="boolean",e,"internal-error"),be(typeof ie=="boolean",e,"internal-error"),ts(I,e.name),ts(C,e.name),ts(z,e.name),ts(N,e.name),ts(q,e.name),ts(Q,e.name);const A=new ui({uid:X,auth:e,email:R,emailVerified:te,displayName:w,isAnonymous:ie,photoURL:C,phoneNumber:I,tenantId:z,stsTokenManager:T,createdAt:q,lastLoginAt:Q});return ne&&Array.isArray(ne)&&(A.providerData=ne.map(D=>Object.assign({},D))),N&&(A._redirectEventId=N),A}static async _fromIdTokenResponse(e,t,s=!1){const a=new go;a.updateFromServerResponse(t);const l=new ui({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await kh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?yw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new go;d.updateFromIdToken(s);const m=new ui({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new bp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function ci(r){mi(r instanceof Function,"Expected a class definition");let e=B_.get(r);return e?(mi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,B_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vw.type="NONE";const H_=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r,e,t){return`firebase:${r}:${e}:${t}`}class yo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=_h(this.userKey,a.apiKey,l),this.fullPersistenceKey=_h("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new yo(ci(H_),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ci(H_);const c=_h(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){const w=ui._fromJSON(e,_);g!==l&&(d=w),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new yo(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new yo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_w(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xw(e))return"Blackberry";if(Sw(e))return"Webos";if(Ew(e))return"Safari";if((e.includes("chrome/")||bw(e))&&!e.includes("edge/"))return"Chrome";if(Tw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _w(r=tn()){return/firefox\//i.test(r)}function Ew(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bw(r=tn()){return/crios\//i.test(r)}function ww(r=tn()){return/iemobile/i.test(r)}function Tw(r=tn()){return/android/i.test(r)}function xw(r=tn()){return/blackberry/i.test(r)}function Sw(r=tn()){return/webos/i.test(r)}function og(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MI(r=tn()){var e;return og(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kI(){return KN()&&document.documentMode===10}function Aw(r=tn()){return og(r)||Tw(r)||Sw(r)||xw(r)||/windows phone/i.test(r)||ww(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r,e=[]){let t;switch(r){case"Browser":t=q_(tn());break;case"Worker":t=`${q_(tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(r,e={}){return _s(r,"GET","/v2/passwordPolicy",vs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=6;class LI{constructor(e){var t,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:VI,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new jI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gw(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(fi(this));const t=e?Dt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PI(this),t=new LI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await OI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ga(r){return Dt(r)}class F_{constructor(e){this.auth=e,this.observer=null,this.addObserver=eC(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zI(r){cf=r}function Nw(r){return cf.loadJS(r)}function BI(){return cf.recaptchaEnterpriseScript}function HI(){return cf.gapiScript}function qI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class FI{constructor(){this.enterprise=new $I}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $I{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GI="recaptcha-enterprise",Cw="NO_RECAPTCHA";class KI{constructor(e){this.type=GI,this.auth=ga(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{xI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new TI(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;U_(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Cw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&U_(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=BI();m.length!==0&&(m+=d),Nw(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function $_(r,e,t,s=!1,a=!1){const l=new KI(r);let c;if(a)c=Cw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wp(r,e,t,s,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $_(r,e,t,t==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $_(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r,e){const t=pa(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(aa(l,e??{}))return a;rr(a,"already-initialized")}return t.initialize({options:e})}function YI(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function XI(r,e,t){const s=ga(r);be(s._canInitEmulator,s,"emulator-config-failed"),be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Iw(e),{host:c,port:d}=WI(e),m=d===null?"":`:${d}`;s.config.emulator={url:`${l}//${c}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),ZI()}function Iw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function WI(r){const e=Iw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:G_(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:G_(c)}}}function G_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ZI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function JI(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(r,e){return Iu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e){return Iu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function n2(r,e){return Iu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends lg{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new vu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new vu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,t,"signInWithPassword",e2);case"emailLink":return t2(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,s,"signUpPassword",JI);case"emailLink":return n2(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r,e){return Iu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="http://localhost";class oa extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=rg(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new oa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}buildRequest(){const e={requestUri:r2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s2(r){const e=eu(tu(r)).link,t=e?eu(tu(e)).deep_link_id:null,s=eu(tu(r)).deep_link_id;return(s?eu(tu(s)).link:null)||s||t||e||r}class ug{constructor(e){var t,s,a,l,c,d;const m=eu(tu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,_=(s=m.oobCode)!==null&&s!==void 0?s:null,w=i2((a=m.mode)!==null&&a!==void 0?a:null);be(g&&_&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=_,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=s2(e);try{return new ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ug.parseLink(t);return be(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Du{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return rs.credential(t,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Du{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Du{constructor(){super("twitter.com")}static credential(e,t){return oa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ss.credential(t,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(r,e){return Iu(r,"POST","/v1/accounts:signUp",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await ui._fromIdTokenResponse(e,s,a),c=K_(s);return new la({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=K_(s);return new la({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function K_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends or{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new jh(e,t,s,a)}}function Ow(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,l,e,s):l})}async function o2(r,e,t=!1){const s=await yu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return la._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(r,e,t=!1){const{auth:s}=r;if(Qn(s.app))return Promise.reject(fi(s));const a="reauthenticate";try{const l=await yu(r,Ow(s,a,e,r),t);be(l.idToken,s,"internal-error");const c=ag(l.idToken);be(c,s,"internal-error");const{sub:d}=c;return be(r.uid===d,s,"user-mismatch"),la._forOperation(r,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&rr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,e,t=!1){if(Qn(r.app))return Promise.reject(fi(r));const s="signIn",a=await Ow(r,s,e),l=await la._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(l.user),l}async function u2(r,e){return Mw(ga(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(r){const e=ga(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c2(r,e,t){if(Qn(r.app))return Promise.reject(fi(r));const s=ga(r),c=await wp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&kw(r),m}),d=await la._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function h2(r,e,t){return Qn(r.app)?Promise.reject(fi(r)):u2(Dt(r),Po.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kw(r),s})}function f2(r,e,t,s){return Dt(r).onIdTokenChanged(e,t,s)}function d2(r,e,t){return Dt(r).beforeAuthStateChanged(e,t)}function m2(r,e,t,s){return Dt(r).onAuthStateChanged(e,t,s)}function p2(r){return Dt(r).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1e3,y2=10;class Pw extends jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);kI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,y2):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pw.type="LOCAL";const v2=Pw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Vw.type="SESSION";const Lw=Vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await _2(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=cg("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(R.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function b2(r){Rr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function w2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function x2(){return Uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firebaseLocalStorageDb",S2=1,Vh="firebaseLocalStorage",Bw="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ff(r,e){return r.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function A2(){const r=indexedDB.deleteDatabase(zw);return new Ou(r).toPromise()}function Tp(){const r=indexedDB.open(zw,S2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:Bw})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await A2(),e(await Tp()))})})}async function Q_(r,e,t){const s=ff(r,!0).put({[Bw]:e,value:t});return new Ou(s).toPromise()}async function R2(r,e){const t=ff(r,!1).get(e),s=await new Ou(t).toPromise();return s===void 0?null:s.value}function Y_(r,e){const t=ff(r,!0).delete(e);return new Ou(t).toPromise()}const N2=800,C2=3;class Hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>C2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(x2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await Q_(e,Ph,"1"),await Y_(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>R2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Y_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ff(a,!1).getAll();return new Ou(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hw.type="LOCAL";const I2=Hw;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r,e){return e?ci(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function O2(r){return Mw(r.auth,new hg(r),r.bypassAuthState)}function M2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),l2(t,new hg(r),r.bypassAuthState)}async function k2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),o2(t,new hg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:rr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Cu(2e3,1e4);class po extends qw{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j2.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="pendingRedirect",Eh=new Map;class V2 extends qw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await L2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(r,e){const t=B2(e),s=z2(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function U2(r,e){Eh.set(r._key(),e)}function z2(r){return ci(r._redirectPersistence)}function B2(r){return _h(P2,r.config.apiKey,r.name)}async function H2(r,e,t=!1){if(Qn(r.app))return Promise.reject(fi(r));const s=ga(r),a=D2(s,e),c=await new V2(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=10*60*1e3;class F2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Fw(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ar(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Fw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,e={}){return _s(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function Y2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await G2(r);for(const t of e)try{if(X2(t))return}catch{}rr(r,"unauthorized-domain")}function X2(r){const e=Ep(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!Q2.test(t))return!1;if(K2.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Cu(3e4,6e4);function W_(){const r=Rr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Z2(r){return new Promise((e,t)=>{var s,a,l;function c(){W_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W_(),t(Ar(r,"network-request-failed"))},timeout:W2.get()})}if(!((a=(s=Rr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Rr().gapi)===null||l===void 0)&&l.load)c();else{const d=qI("iframefcb");return Rr()[d]=()=>{gapi.load?c():t(Ar(r,"network-request-failed"))},Nw(`${HI()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw bh=null,e})}let bh=null;function J2(r){return bh=bh||Z2(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Cu(5e3,15e3),tD="__/auth/iframe",nD="emulator/auth/iframe",rD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sD(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?sg(e,nD):`https://${r.config.authDomain}/${tD}`,s={apiKey:e.apiKey,appName:r.name,v:jo},a=iD.get(r.config.apiHost);a&&(s.eid=a);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Nu(s).slice(1)}`}async function aD(r){const e=await J2(r),t=Rr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:sD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ar(r,"network-request-failed"),d=Rr().setTimeout(()=>{l(c)},eD.get());function m(){Rr().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lD=500,uD=600,cD="_blank",hD="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fD(r,e,t,s=lD,a=uD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},oD),{width:s.toString(),height:a.toString(),top:l,left:c}),g=tn().toLowerCase();t&&(d=bw(g)?cD:t),_w(g)&&(e=e||hD,m.scrollbars="yes");const _=Object.entries(m).reduce((R,[I,C])=>`${R}${I}=${C},`,"");if(MI(g)&&d!=="_self")return dD(e||"",d),new Z_(null);const w=window.open(e||"",d,_);be(w,r,"popup-blocked");try{w.focus()}catch{}return new Z_(w)}function dD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="__/auth/handler",pD="emulator/auth/handler",gD=encodeURIComponent("fac");async function J_(r,e,t,s,a,l){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:jo,eventId:a};if(e instanceof Dw){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",JN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof Du){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await r._getAppCheckToken(),g=m?`#${gD}=${encodeURIComponent(m)}`:"";return`${yD(r)}?${Nu(d).slice(1)}${g}`}function yD({config:r}){return r.emulator?sg(r,pD):`https://${r.authDomain}/${mD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class vD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lw,this._completeRedirectFn=H2,this._overrideRedirectResult=U2}async _openPopup(e,t,s,a){var l;mi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await J_(e,t,s,Ep(),a);return fD(e,c,cg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await J_(e,t,s,Ep(),a);return b2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(mi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await aD(e),s=new F2(e);return t.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ym,{type:Ym},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Ym];c!==void 0&&t(!!c),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Y2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Aw()||Ew()||og()}}const _D=vD;var eE="@firebase/auth",tE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wD(r){Or(new nr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rw(r)},g=new UI(s,a,l,m);return YI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Or(new nr("auth-internal",e=>{const t=ga(e.getProvider("auth").getImmediate());return(s=>new ED(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(eE,tE,bD(r)),Yn(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=5*60,xD=ew("authIdTokenMaxAge")||TD;let nE=null;const SD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>xD)return;const a=t==null?void 0:t.token;nE!==a&&(nE=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function AD(r=ng()){const e=pa(r,"auth");if(e.isInitialized())return e.getImmediate();const t=QI(r,{popupRedirectResolver:_D,persistence:[I2,v2,Lw]}),s=ew("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=SD(l.toString());d2(t,c,()=>c(t.currentUser)),f2(t,d=>c(d))}}const a=Zb("auth");return a&&XI(t,`http://${a}`),t}function RD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}zI({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const l=Ar("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",RD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wD("Browser");var ND="firebase",CD="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(ND,CD,"app");const $w="@firebase/installations",fg="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=1e4,Kw=`w:${fg}`,Qw="FIS_v2",ID="https://firebaseinstallations.googleapis.com/v1",DD=60*60*1e3,OD="installations",MD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ua=new ma(OD,MD,kD);function Yw(r){return r instanceof or&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw({projectId:r}){return`${ID}/projects/${r}/installations`}function Ww(r){return{token:r.token,requestStatus:2,expiresIn:PD(r.expiresIn),creationTime:Date.now()}}async function Zw(r,e){const s=(await e.json()).error;return ua.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Jw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function jD(r,{refreshToken:e}){const t=Jw(r);return t.append("Authorization",VD(e)),t}async function eT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function PD(r){return Number(r.replace("s","000"))}function VD(r){return`${Qw} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=Xw(r),a=Jw(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:t,authVersion:Qw,appId:r.appId,sdkVersion:Kw},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await eT(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Ww(g.authToken)}}else throw await Zw("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^[cdef][\w-]{21}$/,xp="";function BD(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=HD(r);return zD.test(t)?t:xp}catch{return xp}}function HD(r){return UD(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;function rT(r,e){const t=df(r);iT(t,e),qD(t,e)}function iT(r,e){const t=nT.get(r);if(t)for(const s of t)s(e)}function qD(r,e){const t=FD();t&&t.postMessage({key:r,fid:e}),$D()}let na=null;function FD(){return!na&&"BroadcastChannel"in self&&(na=new BroadcastChannel("[Firebase] FID Change"),na.onmessage=r=>{iT(r.data.key,r.data.fid)}),na}function $D(){nT.size===0&&na&&(na.close(),na=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebase-installations-database",KD=1,ca="firebase-installations-store";let Xm=null;function dg(){return Xm||(Xm=aw(GD,KD,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ca)}}})),Xm}async function Lh(r,e){const t=df(r),a=(await dg()).transaction(ca,"readwrite"),l=a.objectStore(ca),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&rT(r,e.fid),e}async function sT(r){const e=df(r),s=(await dg()).transaction(ca,"readwrite");await s.objectStore(ca).delete(e),await s.done}async function mf(r,e){const t=df(r),a=(await dg()).transaction(ca,"readwrite"),l=a.objectStore(ca),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&rT(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(r){let e;const t=await mf(r.appConfig,s=>{const a=QD(s),l=YD(r,a);return e=l.registrationPromise,l.installationEntry});return t.fid===xp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function QD(r){const e=r||{fid:BD(),registrationStatus:0};return aT(e)}function YD(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ua.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=XD(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WD(r)}:{installationEntry:e}}async function XD(r,e){try{const t=await LD(r,e);return Lh(r.appConfig,t)}catch(t){throw Yw(t)&&t.customData.serverCode===409?await sT(r.appConfig):await Lh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function WD(r){let e=await rE(r.appConfig);for(;e.registrationStatus===1;)await tT(100),e=await rE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await mg(r);return s||t}return e}function rE(r){return mf(r,e=>{if(!e)throw ua.create("installation-not-found");return aT(e)})}function aT(r){return ZD(r)?{fid:r.fid,registrationStatus:0}:r}function ZD(r){return r.registrationStatus===1&&r.registrationTime+Gw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD({appConfig:r,heartbeatServiceProvider:e},t){const s=eO(r,t),a=jD(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:Kw,appId:r.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await eT(()=>fetch(s,d));if(m.ok){const g=await m.json();return Ww(g)}else throw await Zw("Generate Auth Token",m)}function eO(r,{fid:e}){return`${Xw(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(r,e=!1){let t;const s=await mf(r.appConfig,l=>{if(!oT(l))throw ua.create("not-registered");const c=l.authToken;if(!e&&rO(c))return l;if(c.requestStatus===1)return t=tO(r,e),l;{if(!navigator.onLine)throw ua.create("app-offline");const d=sO(l);return t=nO(r,d),d}});return t?await t:s.authToken}async function tO(r,e){let t=await iE(r.appConfig);for(;t.authToken.requestStatus===1;)await tT(100),t=await iE(r.appConfig);const s=t.authToken;return s.requestStatus===0?pg(r,e):s}function iE(r){return mf(r,e=>{if(!oT(e))throw ua.create("not-registered");const t=e.authToken;return aO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nO(r,e){try{const t=await JD(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Lh(r.appConfig,s),t}catch(t){if(Yw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await sT(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lh(r.appConfig,s)}throw t}}function oT(r){return r!==void 0&&r.registrationStatus===2}function rO(r){return r.requestStatus===2&&!iO(r)}function iO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+DD}function sO(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function aO(r){return r.requestStatus===1&&r.requestTime+Gw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(r){const e=r,{installationEntry:t,registrationPromise:s}=await mg(e);return s?s.catch(console.error):pg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(r,e=!1){const t=r;return await uO(t),(await pg(t,e)).token}async function uO(r){const{registrationPromise:e}=await mg(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(r){if(!r||!r.options)throw Wm("App Configuration");if(!r.name)throw Wm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Wm(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Wm(r){return ua.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="installations",hO="installations-internal",fO=r=>{const e=r.getProvider("app").getImmediate(),t=cO(e),s=pa(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},dO=r=>{const e=r.getProvider("app").getImmediate(),t=pa(e,lT).getImmediate();return{getId:()=>oO(t),getToken:a=>lO(t,a)}};function mO(){Or(new nr(lT,fO,"PUBLIC")),Or(new nr(hO,dO,"PRIVATE"))}mO();Yn($w,fg);Yn($w,fg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="analytics",pO="firebase_id",gO="origin",yO=60*1e3,vO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new ma("analytics","Analytics",_O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r){if(!r.startsWith(gg)){const e=Nn.create("invalid-gtag-resource",{gtagURL:r});return pn.warn(e.message),""}return r}function uT(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function bO(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function wO(r,e){const t=bO("firebase-js-sdk-policy",{createScriptURL:EO}),s=document.createElement("script"),a=`${gg}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function TO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function xO(r,e,t,s,a,l){const c=s[a];try{if(c)await e[c];else{const m=(await uT(t)).find(g=>g.measurementId===a);m&&await e[m.appId]}}catch(d){pn.error(d)}r("config",a,l)}async function SO(r,e,t,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await uT(t);for(const m of c){const g=d.find(w=>w.measurementId===m),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,a||{})}catch(l){pn.error(l)}}function AO(r,e,t,s){async function a(l,...c){try{if(l==="event"){const[d,m]=c;await SO(r,e,t,d,m)}else if(l==="config"){const[d,m]=c;await xO(r,e,t,s,d,m)}else if(l==="consent"){const[d,m]=c;r("consent",d,m)}else if(l==="get"){const[d,m,g]=c;r("get",d,m,g)}else if(l==="set"){const[d]=c;r("set",d)}else r(l,...c)}catch(d){pn.error(d)}}return a}function RO(r,e,t,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=AO(l,r,e,t),{gtagCore:l,wrappedGtag:window[a]}}function NO(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gg)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=30,IO=1e3;class DO{constructor(e={},t=IO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cT=new DO;function OO(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function MO(r){var e;const{appId:t,apiKey:s}=r,a={method:"GET",headers:OO(s)},l=vO.replace("{app-id}",t),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let d="";try{const m=await c.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function kO(r,e=cT,t){const{appId:s,apiKey:a,measurementId:l}=r.options;if(!s)throw Nn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Nn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new VO;return setTimeout(async()=>{d.abort()},yO),hT({appId:s,apiKey:a,measurementId:l},c,d,e)}async function hT(r,{throttleEndTimeMillis:e,backoffCount:t},s,a=cT){var l;const{appId:c,measurementId:d}=r;try{await jO(s,e)}catch(m){if(d)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:d};throw m}try{const m=await MO(r);return a.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!PO(g)){if(a.deleteThrottleMetadata(c),d)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:d};throw m}const _=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?C_(t,a.intervalMillis,CO):C_(t,a.intervalMillis),w={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return a.setThrottleMetadata(c,w),pn.debug(`Calling attemptFetch again in ${_} millis`),hT(r,w,s,a)}}function jO(r,e){return new Promise((t,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);r.addEventListener(()=>{clearTimeout(l),s(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PO(r){if(!(r instanceof or)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class VO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function LO(r,e,t,s,a){if(a&&a.global){r("event",t,s);return}else{const l=await e,c=Object.assign(Object.assign({},s),{send_to:l});r("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(){if(nw())try{await rw()}catch(r){return pn.warn(Nn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return pn.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zO(r,e,t,s,a,l,c){var d;const m=kO(r);m.then(I=>{t[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>pn.error(I)),e.push(m);const g=UO().then(I=>{if(I)return s.getId()}),[_,w]=await Promise.all([m,g]);NO(l)||wO(l,_.measurementId),a("js",new Date);const R=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return R[gO]="firebase",R.update=!0,w!=null&&(R[pO]=w),a("config",_.measurementId,R),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.app=e}_delete(){return delete ou[this.app.options.appId],Promise.resolve()}}let ou={},sE=[];const aE={};let Zm="dataLayer",HO="gtag",oE,fT,lE=!1;function qO(){const r=[];if(tw()&&r.push("This is a browser extension environment."),YN()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,a)=>`(${a+1}) ${s}`).join(" "),t=Nn.create("invalid-analytics-context",{errorInfo:e});pn.warn(t.message)}}function FO(r,e,t){qO();const s=r.options.appId;if(!s)throw Nn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if(ou[s]!=null)throw Nn.create("already-exists",{id:s});if(!lE){TO(Zm);const{wrappedGtag:l,gtagCore:c}=RO(ou,sE,aE,Zm,HO);fT=l,oE=c,lE=!0}return ou[s]=zO(r,sE,aE,e,oE,Zm,t),new BO(r)}function $O(r=ng()){r=Dt(r);const e=pa(r,Uh);return e.isInitialized()?e.getImmediate():GO(r)}function GO(r,e={}){const t=pa(r,Uh);if(t.isInitialized()){const a=t.getImmediate();if(aa(e,t.getOptions()))return a;throw Nn.create("already-initialized")}return t.initialize({options:e})}function KO(r,e,t,s){r=Dt(r),LO(fT,ou[r.app.options.appId],e,t,s).catch(a=>pn.error(a))}const uE="@firebase/analytics",cE="0.10.11";function QO(){Or(new nr(Uh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return FO(s,a,t)},"PUBLIC")),Or(new nr("analytics-internal",r,"PRIVATE")),Yn(uE,cE),Yn(uE,cE,"esm2017");function r(e){try{const t=e.getProvider(Uh).getImmediate();return{logEvent:(s,a,l)=>KO(t,s,a,l)}}catch(t){throw Nn.create("interop-component-reg-failed",{reason:t})}}}QO();var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,dT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,T){function A(){}A.prototype=T.prototype,M.D=T.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,V,B){for(var k=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)k[bt-2]=arguments[bt];return T.prototype[V].apply(D,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,T,A){A||(A=0);var D=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)D[V]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(V=0;16>V;++V)D[V]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=M.g[0],A=M.g[1],V=M.g[2];var B=M.g[3],k=T+(B^A&(V^B))+D[0]+3614090360&4294967295;T=A+(k<<7&4294967295|k>>>25),k=B+(V^T&(A^V))+D[1]+3905402710&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(A^B&(T^A))+D[2]+606105819&4294967295,V=B+(k<<17&4294967295|k>>>15),k=A+(T^V&(B^T))+D[3]+3250441966&4294967295,A=V+(k<<22&4294967295|k>>>10),k=T+(B^A&(V^B))+D[4]+4118548399&4294967295,T=A+(k<<7&4294967295|k>>>25),k=B+(V^T&(A^V))+D[5]+1200080426&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(A^B&(T^A))+D[6]+2821735955&4294967295,V=B+(k<<17&4294967295|k>>>15),k=A+(T^V&(B^T))+D[7]+4249261313&4294967295,A=V+(k<<22&4294967295|k>>>10),k=T+(B^A&(V^B))+D[8]+1770035416&4294967295,T=A+(k<<7&4294967295|k>>>25),k=B+(V^T&(A^V))+D[9]+2336552879&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(A^B&(T^A))+D[10]+4294925233&4294967295,V=B+(k<<17&4294967295|k>>>15),k=A+(T^V&(B^T))+D[11]+2304563134&4294967295,A=V+(k<<22&4294967295|k>>>10),k=T+(B^A&(V^B))+D[12]+1804603682&4294967295,T=A+(k<<7&4294967295|k>>>25),k=B+(V^T&(A^V))+D[13]+4254626195&4294967295,B=T+(k<<12&4294967295|k>>>20),k=V+(A^B&(T^A))+D[14]+2792965006&4294967295,V=B+(k<<17&4294967295|k>>>15),k=A+(T^V&(B^T))+D[15]+1236535329&4294967295,A=V+(k<<22&4294967295|k>>>10),k=T+(V^B&(A^V))+D[1]+4129170786&4294967295,T=A+(k<<5&4294967295|k>>>27),k=B+(A^V&(T^A))+D[6]+3225465664&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^A&(B^T))+D[11]+643717713&4294967295,V=B+(k<<14&4294967295|k>>>18),k=A+(B^T&(V^B))+D[0]+3921069994&4294967295,A=V+(k<<20&4294967295|k>>>12),k=T+(V^B&(A^V))+D[5]+3593408605&4294967295,T=A+(k<<5&4294967295|k>>>27),k=B+(A^V&(T^A))+D[10]+38016083&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^A&(B^T))+D[15]+3634488961&4294967295,V=B+(k<<14&4294967295|k>>>18),k=A+(B^T&(V^B))+D[4]+3889429448&4294967295,A=V+(k<<20&4294967295|k>>>12),k=T+(V^B&(A^V))+D[9]+568446438&4294967295,T=A+(k<<5&4294967295|k>>>27),k=B+(A^V&(T^A))+D[14]+3275163606&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^A&(B^T))+D[3]+4107603335&4294967295,V=B+(k<<14&4294967295|k>>>18),k=A+(B^T&(V^B))+D[8]+1163531501&4294967295,A=V+(k<<20&4294967295|k>>>12),k=T+(V^B&(A^V))+D[13]+2850285829&4294967295,T=A+(k<<5&4294967295|k>>>27),k=B+(A^V&(T^A))+D[2]+4243563512&4294967295,B=T+(k<<9&4294967295|k>>>23),k=V+(T^A&(B^T))+D[7]+1735328473&4294967295,V=B+(k<<14&4294967295|k>>>18),k=A+(B^T&(V^B))+D[12]+2368359562&4294967295,A=V+(k<<20&4294967295|k>>>12),k=T+(A^V^B)+D[5]+4294588738&4294967295,T=A+(k<<4&4294967295|k>>>28),k=B+(T^A^V)+D[8]+2272392833&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^A)+D[11]+1839030562&4294967295,V=B+(k<<16&4294967295|k>>>16),k=A+(V^B^T)+D[14]+4259657740&4294967295,A=V+(k<<23&4294967295|k>>>9),k=T+(A^V^B)+D[1]+2763975236&4294967295,T=A+(k<<4&4294967295|k>>>28),k=B+(T^A^V)+D[4]+1272893353&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^A)+D[7]+4139469664&4294967295,V=B+(k<<16&4294967295|k>>>16),k=A+(V^B^T)+D[10]+3200236656&4294967295,A=V+(k<<23&4294967295|k>>>9),k=T+(A^V^B)+D[13]+681279174&4294967295,T=A+(k<<4&4294967295|k>>>28),k=B+(T^A^V)+D[0]+3936430074&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^A)+D[3]+3572445317&4294967295,V=B+(k<<16&4294967295|k>>>16),k=A+(V^B^T)+D[6]+76029189&4294967295,A=V+(k<<23&4294967295|k>>>9),k=T+(A^V^B)+D[9]+3654602809&4294967295,T=A+(k<<4&4294967295|k>>>28),k=B+(T^A^V)+D[12]+3873151461&4294967295,B=T+(k<<11&4294967295|k>>>21),k=V+(B^T^A)+D[15]+530742520&4294967295,V=B+(k<<16&4294967295|k>>>16),k=A+(V^B^T)+D[2]+3299628645&4294967295,A=V+(k<<23&4294967295|k>>>9),k=T+(V^(A|~B))+D[0]+4096336452&4294967295,T=A+(k<<6&4294967295|k>>>26),k=B+(A^(T|~V))+D[7]+1126891415&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~A))+D[14]+2878612391&4294967295,V=B+(k<<15&4294967295|k>>>17),k=A+(B^(V|~T))+D[5]+4237533241&4294967295,A=V+(k<<21&4294967295|k>>>11),k=T+(V^(A|~B))+D[12]+1700485571&4294967295,T=A+(k<<6&4294967295|k>>>26),k=B+(A^(T|~V))+D[3]+2399980690&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~A))+D[10]+4293915773&4294967295,V=B+(k<<15&4294967295|k>>>17),k=A+(B^(V|~T))+D[1]+2240044497&4294967295,A=V+(k<<21&4294967295|k>>>11),k=T+(V^(A|~B))+D[8]+1873313359&4294967295,T=A+(k<<6&4294967295|k>>>26),k=B+(A^(T|~V))+D[15]+4264355552&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~A))+D[6]+2734768916&4294967295,V=B+(k<<15&4294967295|k>>>17),k=A+(B^(V|~T))+D[13]+1309151649&4294967295,A=V+(k<<21&4294967295|k>>>11),k=T+(V^(A|~B))+D[4]+4149444226&4294967295,T=A+(k<<6&4294967295|k>>>26),k=B+(A^(T|~V))+D[11]+3174756917&4294967295,B=T+(k<<10&4294967295|k>>>22),k=V+(T^(B|~A))+D[2]+718787259&4294967295,V=B+(k<<15&4294967295|k>>>17),k=A+(B^(V|~T))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+T&4294967295,M.g[1]=M.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,T){T===void 0&&(T=M.length);for(var A=T-this.blockSize,D=this.B,V=this.h,B=0;B<T;){if(V==0)for(;B<=A;)a(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<T;)if(D[V++]=M.charCodeAt(B++),V==this.blockSize){a(this,D),V=0;break}}else for(;B<T;)if(D[V++]=M[B++],V==this.blockSize){a(this,D),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var T=1;T<M.length-8;++T)M[T]=0;var A=8*this.o;for(T=M.length-8;T<M.length;++T)M[T]=A&255,A/=256;for(this.u(M),M=Array(16),T=A=0;4>T;++T)for(var D=0;32>D;D+=8)M[A++]=this.g[T]>>>D&255;return M};function l(M,T){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=T(M)}function c(M,T){this.h=T;for(var A=[],D=!0,V=M.length-1;0<=V;V--){var B=M[V]|0;D&&B==T||(A[V]=B,D=!1)}this.g=A}var d={};function m(M){return-128<=M&&128>M?l(M,function(T){return new c([T|0],0>T?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return N(g(-M));for(var T=[],A=1,D=0;M>=A;D++)T[D]=M/A|0,A*=4294967296;return new c(T,0)}function _(M,T){if(M.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M.charAt(0)=="-")return N(_(M.substring(1),T));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(T,8)),D=w,V=0;V<M.length;V+=8){var B=Math.min(8,M.length-V),k=parseInt(M.substring(V,V+B),T);8>B?(B=g(Math.pow(T,B)),D=D.j(B).add(g(k))):(D=D.j(A),D=D.add(g(k)))}return D}var w=m(0),R=m(1),I=m(16777216);r=c.prototype,r.m=function(){if(z(this))return-N(this).m();for(var M=0,T=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*T,T*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(z(this))return"-"+N(this).toString(M);for(var T=g(Math.pow(M,6)),A=this,D="";;){var V=te(A,T).g;A=q(A,V.j(T));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,C(A))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var T=0;T<M.g.length;T++)if(M.g[T]!=0)return!1;return!0}function z(M){return M.h==-1}r.l=function(M){return M=q(this,M),z(M)?-1:C(M)?0:1};function N(M){for(var T=M.g.length,A=[],D=0;D<T;D++)A[D]=~M.g[D];return new c(A,~M.h).add(R)}r.abs=function(){return z(this)?N(this):this},r.add=function(M){for(var T=Math.max(this.g.length,M.g.length),A=[],D=0,V=0;V<=T;V++){var B=D+(this.i(V)&65535)+(M.i(V)&65535),k=(B>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);D=k>>>16,B&=65535,k&=65535,A[V]=k<<16|B}return new c(A,A[A.length-1]&-2147483648?-1:0)};function q(M,T){return M.add(N(T))}r.j=function(M){if(C(this)||C(M))return w;if(z(this))return z(M)?N(this).j(N(M)):N(N(this).j(M));if(z(M))return N(this.j(N(M)));if(0>this.l(I)&&0>M.l(I))return g(this.m()*M.m());for(var T=this.g.length+M.g.length,A=[],D=0;D<2*T;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<M.g.length;V++){var B=this.i(D)>>>16,k=this.i(D)&65535,bt=M.i(V)>>>16,pt=M.i(V)&65535;A[2*D+2*V]+=k*pt,Q(A,2*D+2*V),A[2*D+2*V+1]+=B*pt,Q(A,2*D+2*V+1),A[2*D+2*V+1]+=k*bt,Q(A,2*D+2*V+1),A[2*D+2*V+2]+=B*bt,Q(A,2*D+2*V+2)}for(D=0;D<T;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=T;D<2*T;D++)A[D]=0;return new c(A,0)};function Q(M,T){for(;(M[T]&65535)!=M[T];)M[T+1]+=M[T]>>>16,M[T]&=65535,T++}function X(M,T){this.g=M,this.h=T}function te(M,T){if(C(T))throw Error("division by zero");if(C(M))return new X(w,w);if(z(M))return T=te(N(M),T),new X(N(T.g),N(T.h));if(z(T))return T=te(M,N(T)),new X(N(T.g),T.h);if(30<M.g.length){if(z(M)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var A=R,D=T;0>=D.l(M);)A=ie(A),D=ie(D);var V=ne(A,1),B=ne(D,1);for(D=ne(D,2),A=ne(A,2);!C(D);){var k=B.add(D);0>=k.l(M)&&(V=V.add(A),B=k),D=ne(D,1),A=ne(A,1)}return T=q(M,V.j(T)),new X(V,T)}for(V=w;0<=M.l(T);){for(A=Math.max(1,Math.floor(M.m()/T.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=g(A),k=B.j(T);z(k)||0<k.l(M);)A-=D,B=g(A),k=B.j(T);C(B)&&(B=R),V=V.add(B),M=q(M,k)}return new X(V,M)}r.A=function(M){return te(this,M).h},r.and=function(M){for(var T=Math.max(this.g.length,M.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)&M.i(D);return new c(A,this.h&M.h)},r.or=function(M){for(var T=Math.max(this.g.length,M.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)|M.i(D);return new c(A,this.h|M.h)},r.xor=function(M){for(var T=Math.max(this.g.length,M.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)^M.i(D);return new c(A,this.h^M.h)};function ie(M){for(var T=M.g.length+1,A=[],D=0;D<T;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new c(A,M.h)}function ne(M,T){var A=T>>5;T%=32;for(var D=M.g.length-A,V=[],B=0;B<D;B++)V[B]=0<T?M.i(B+A)>>>T|M.i(B+A+1)<<32-T:M.i(B+A);return new c(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dT=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,us=c}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mT,nu,pT,wh,Sp,gT,yT,vT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var F=h[S];if(!(F in E))break e;E=E[F]}h=h[h.length-1],S=E[h],v=v(S),v!=S&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,S=!1,F={next:function(){if(!S&&E<h.length){var K=E++;return{value:v(K,h[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,E){return h.call.apply(h.bind,arguments)}function w(h,v,E){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function R(h,v,E){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,R.apply(null,arguments)}function I(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(S,F,K){for(var oe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)oe[Le-2]=arguments[Le];return v.prototype[F].apply(S,oe)}}function z(h){const v=h.length;if(0<v){const E=Array(v);for(let S=0;S<v;S++)E[S]=h[S];return E}return[]}function N(h,v){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(m(S)){const F=h.length||0,K=S.length||0;h.length=F+K;for(let oe=0;oe<K;oe++)h[F+oe]=S[oe]}else h.push(S)}}class q{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(h){return/^[\s\xa0]*$/.test(h)}function X(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function te(h){return te[" "](h),h}te[" "]=function(){};var ie=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ne(h,v,E){for(const S in h)v.call(E,h[S],S,h)}function M(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function T(h){const v={};for(const E in h)v[E]=h[E];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let E,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(E in S)h[E]=S[E];for(let K=0;K<A.length;K++)E=A[K],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function V(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function B(h){d.setTimeout(()=>{throw h},0)}function k(){var h=Ge;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class bt{constructor(){this.h=this.g=null}add(v,E){const S=pt.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new q(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ge=!1,Ge=new bt,P=()=>{const h=d.Promise.resolve(void 0);Ee=()=>{h.then(ae)}};var ae=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(E){B(E)}var v=pt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h}();function Ce(h,v){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ie){e:{try{te(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}C(Ce,ue);var Re={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),He=0;function at(h,v,E,S,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=F,this.key=++He,this.da=this.fa=!1}function Ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function nn(h){this.src=h,this.g={},this.h=0}nn.prototype.add=function(h,v,E,S,F){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var oe=In(h,v,S,F);return-1<oe?(v=h[oe],E||(v.fa=!1)):(v=new at(v,this.src,K,!!S,F),v.fa=E,h.push(v)),v};function jr(h,v){var E=v.type;if(E in h.g){var S=h.g[E],F=Array.prototype.indexOf.call(S,v,void 0),K;(K=0<=F)&&Array.prototype.splice.call(S,F,1),K&&(Ye(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function In(h,v,E,S){for(var F=0;F<h.length;++F){var K=h[F];if(!K.da&&K.listener==v&&K.capture==!!E&&K.ha==S)return F}return-1}var vi="closure_lm_"+(1e6*Math.random()|0),_i={};function Pr(h,v,E,S,F){if(Array.isArray(v)){for(var K=0;K<v.length;K++)Pr(h,v[K],E,S,F);return null}return E=Lu(E),h&&h[gt]?h.K(v,E,g(S)?!!S.capture:!1,F):Ho(h,v,E,!1,S,F)}function Ho(h,v,E,S,F,K){if(!v)throw Error("Invalid event type");var oe=g(F)?!!F.capture:!!F,Le=qo(h);if(Le||(h[vi]=Le=new nn(h)),E=Le.add(v,E,S,oe,K),E.proxy)return E;if(S=Ea(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)ce||(F=oe),F===void 0&&(F=!1),h.addEventListener(v.toString(),S,F);else if(h.attachEvent)h.attachEvent(wa(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ea(){function h(E){return v.call(h.src,h.listener,E)}const v=Mf;return h}function ba(h,v,E,S,F){if(Array.isArray(v))for(var K=0;K<v.length;K++)ba(h,v[K],E,S,F);else S=g(S)?!!S.capture:!!S,E=Lu(E),h&&h[gt]?(h=h.i,v=String(v).toString(),v in h.g&&(K=h.g[v],E=In(K,E,S,F),-1<E&&(Ye(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete h.g[v],h.h--)))):h&&(h=qo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=In(v,E,S,F)),(E=-1<h?v[h]:null)&&ws(E))}function ws(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[gt])jr(v.i,h);else{var E=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(E,S,h.capture):v.detachEvent?v.detachEvent(wa(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=qo(v))?(jr(E,h),E.h==0&&(E.src=null,v[vi]=null)):Ye(h)}}}function wa(h){return h in _i?_i[h]:_i[h]="on"+h}function Mf(h,v){if(h.da)h=!0;else{v=new Ce(v,this);var E=h.listener,S=h.ha||h.src;h.fa&&ws(h),h=E.call(S,v)}return h}function qo(h){return h=h[vi],h instanceof nn?h:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(h){return typeof h=="function"?h:(h[un]||(h[un]=function(v){return h.handleEvent(v)}),h[un])}function wt(){me.call(this),this.i=new nn(this),this.M=this,this.F=null}C(wt,me),wt.prototype[gt]=!0,wt.prototype.removeEventListener=function(h,v,E,S){ba(this,h,v,E,S)};function Ot(h,v){var E,S=h.F;if(S)for(E=[];S;S=S.F)E.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new ue(v,h);else if(v instanceof ue)v.target=v.target||h;else{var F=v;v=new ue(S,h),D(v,F)}if(F=!0,E)for(var K=E.length-1;0<=K;K--){var oe=v.g=E[K];F=Vr(oe,S,!0,v)&&F}if(oe=v.g=h,F=Vr(oe,S,!0,v)&&F,F=Vr(oe,S,!1,v)&&F,E)for(K=0;K<E.length;K++)oe=v.g=E[K],F=Vr(oe,S,!1,v)&&F}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],S=0;S<E.length;S++)Ye(E[S]);delete h.g[v],h.h--}}this.F=null},wt.prototype.K=function(h,v,E,S){return this.i.add(String(h),v,!1,E,S)},wt.prototype.L=function(h,v,E,S){return this.i.add(String(h),v,!0,E,S)};function Vr(h,v,E,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,K=0;K<v.length;++K){var oe=v[K];if(oe&&!oe.da&&oe.capture==E){var Le=oe.listener,xt=oe.ha||oe.src;oe.fa&&jr(h.i,oe),F=Le.call(xt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Uu(h,v,E){if(typeof h=="function")E&&(h=R(h,E));else if(h&&typeof h.handleEvent=="function")h=R(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Fo(h){h.g=Uu(()=>{h.g=null,h.i&&(h.i=!1,Fo(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class kf extends me{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(h){me.call(this),this.h=h,this.g={}}C(Ts,me);var Ei=[];function Kt(h){ne(h.g,function(v,E){this.g.hasOwnProperty(E)&&ws(v)},h),h.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),Kt(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $o=d.JSON.stringify,lr=d.JSON.parse,rn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Go(){}Go.prototype.h=null;function zu(h){return h.h||(h.h=h.i())}function Bu(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){ue.call(this,"d")}C(bi,ue);function Xn(){ue.call(this,"c")}C(Xn,ue);var Dn={},wi=null;function Ta(){return wi=wi||new wt}Dn.La="serverreachability";function Ko(h){ue.call(this,Dn.La,h)}C(Ko,ue);function Ti(h){const v=Ta();Ot(v,new Ko(v))}Dn.STAT_EVENT="statevent";function xa(h,v){ue.call(this,Dn.STAT_EVENT,h),this.stat=v}C(xa,ue);function ft(h){const v=Ta();Ot(v,new xa(v,h))}Dn.Ma="timingevent";function Hu(h,v){ue.call(this,Dn.Ma,h),this.size=v}C(Hu,ue);function xi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function qu(h,v,E,S,F,K){h.info(function(){if(h.g)if(K)for(var oe="",Le=K.split("&"),xt=0;xt<Le.length;xt++){var Ue=Le[xt].split("=");if(1<Ue.length){var jt=Ue[0];Ue=Ue[1];var St=jt.split("_");oe=2<=St.length&&St[1]=="type"?oe+(jt+"="+Ue+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+E+`
`+oe})}function Fu(h,v,E,S,F,K,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+E+`
`+K+" "+oe})}function Ai(h,v,E,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Mt(h,E)+(S?" "+S:"")})}function cr(h,v){h.info(function(){return"TIMEOUT: "+v})}Si.prototype.info=function(){};function Mt(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var S=E[h];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return $o(E)}catch{return v}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Sa(){}C(Sa,Go),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},xs=new Sa;function hr(h,v,E,S){this.j=h,this.i=v,this.l=E,this.R=S||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qo}function Qo(){this.i=null,this.g="",this.h=!1}var Ri={},Ss={};function Wn(h,v,E){h.L=1,h.v=Ns(ot(v)),h.m=E,h.P=!0,Ur(h,null)}function Ur(h,v){h.F=Date.now(),nt(h),h.A=ot(h.v);var E=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Hr(E.i,"t",S),h.C=0,E=h.j.J,h.h=new Qo,h.g=ic(h.j,E?v:null,!h.m),0<h.O&&(h.M=new kf(R(h.Y,h,h.g),h.O)),v=h.U,E=h.g,S=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ei[0]=F.toString()),F=Ei);for(var K=0;K<F.length;K++){var oe=Pr(E,F[K],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ti(),qu(h.i,h.u,h.A,h.l,h.R,h.m)}hr.prototype.ca=function(h){h=h.target;const v=this.M;v&&Pn(h)==3?v.j():this.Y(h)},hr.prototype.Y=function(h){try{if(h==this.g)e:{const St=Pn(this.g);var v=this.g.Ba();const Gr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||St!=4||v==7||(v==8||0>=Gr?Ti(3):Ti(2)),Aa(this);var E=this.g.Z();this.X=E;t:if(Ni(this)){var S=Xu(this.g);h="";var F=S.length,K=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),_n(this);var oe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(K&&v==F-1)});S.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Fu(this.i,this.u,this.A,this.l,this.R,St,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Le)){var Ue=Le;break t}}Ue=null}if(E=Ue)Ai(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,E);else{this.o=!1,this.s=3,ft(12),cn(this),_n(this);break e}}if(this.P){E=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=Ci(this,oe),zt==Ss){St==4&&(this.s=4,ft(14),E=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ri){this.s=4,ft(15),Ai(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Ai(this.i,this.l,zt,null),En(this,zt);if(Ni(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||oe.length!=0||this.h.h||(this.s=1,ft(16),E=!1),this.o=this.o&&E,!E)Ai(this.i,this.l,oe,"[Invalid Chunked Response]"),cn(this),_n(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),js(jt),jt.M=!0,ft(11))}}else Ai(this.i,this.l,oe,null),En(this,oe);St==4&&cn(this),this.o&&!this.J&&(St==4?tc(this.j,this):(this.o=!1,nt(this)))}else zf(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),cn(this),_n(this)}}}catch{}finally{}};function Ni(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ci(h,v){var E=h.C,S=v.indexOf(`
`,E);return S==-1?Ss:(E=Number(v.substring(E,S)),isNaN(E)?Ri:(S+=1,S+E>v.length?Ss:(v=v.slice(S,S+E),h.C=S+E,v)))}hr.prototype.cancel=function(){this.J=!0,cn(this)};function nt(h){h.S=Date.now()+h.I,Yo(h,h.I)}function Yo(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xi(R(h.ba,h),v)}function Aa(h){h.B&&(d.clearTimeout(h.B),h.B=null)}hr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(cr(this.i,this.A),this.L!=2&&(Ti(),ft(17)),cn(this),this.s=2,_n(this)):Yo(this,this.S-h)};function _n(h){h.j.G==0||h.J||tc(h.j,h)}function cn(h){Aa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Kt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function En(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Ii(E.h,h))){if(!h.K&&Ii(E.h,h)&&E.G==3){try{var S=E.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Pa(E),ka(E);else break e;al(E),ft(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=xi(R(E.Za,E),6e3));if(1>=$u(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else $r(E,11)}else if((h.K||E.g==h)&&Pa(E),!Q(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let Ue=F[v];if(E.T=Ue[0],Ue=Ue[1],E.G==2)if(Ue[0]=="c"){E.K=Ue[1],E.ia=Ue[2];const jt=Ue[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const St=Ue[4];St!=null&&(E.Aa=St,E.j.info("SVER="+E.Aa));const Gr=Ue[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(S=1.5*Gr,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const zt=h.g;if(zt){const vr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var K=S.h;K.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Di(K,K.h),K.h=null))}if(S.D){const ll=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(S.ya=ll,qe(S.I,S.D,ll))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var oe=h;if(S.qa=rc(S,S.J?S.ia:null,S.W),oe.K){On(S.h,oe);var Le=oe,xt=S.L;xt&&(Le.I=xt),Le.B&&(Aa(Le),nt(Le)),S.g=oe}else Ju(S);0<E.i.length&&ja(E)}else Ue[0]!="stop"&&Ue[0]!="close"||$r(E,7);else E.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?$r(E,7):il(E):Ue[0]!="noop"&&E.l&&E.l.ta(Ue),E.v=0)}}Ti(4)}catch{}}var jf=class{constructor(h,v){this.g=h,this.map=v}};function Xo(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $u(h){return h.h?1:h.g?h.g.size:0}function Ii(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Di(h,v){h.g?h.g.add(v):h.h=v}function On(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Xo.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return z(h.i)}function Gu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,S=0;S<E;S++)v.push(h[S]);return v}v=[],E=0;for(S in h)v[E++]=h[S];return v}function Pf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const S in h)v[E++]=S;return v}}}function As(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Pf(h),S=Gu(h),F=S.length,K=0;K<F;K++)v.call(void 0,S[K],E&&E[K],h)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var S=h[E].indexOf("="),F=null;if(0<=S){var K=h[E].substring(0,S);F=h[E].substring(S+1)}else K=h[E];v(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function zr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof zr){this.h=h.h,Oi(this,h.j),this.o=h.o,this.g=h.g,Rs(this,h.s),this.l=h.l;var v=h.i,E=new fr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Na(this,E),this.m=h.m}else h&&(v=String(h).match(Zo))?(this.h=!1,Oi(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),Rs(this,v[4]),this.l=Mi(v[5]||"",!0),Na(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}zr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Mn(v,Jo,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Mn(v,Jo,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Mn(E,E.charAt(0)=="/"?el:Ku,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Mn(E,Uf)),h.join("")};function ot(h){return new zr(h)}function Oi(h,v,E){h.j=E?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Rs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Na(h,v,E){v instanceof fr?(h.i=v,tl(h.i,h.h)):(E||(v=Mn(v,Lf)),h.i=new fr(v,h.h))}function qe(h,v,E){h.i.set(v,E)}function Ns(h){return qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Mn(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Vf),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Vf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Jo=/[#\/\?@]/g,Ku=/[#\?:]/g,el=/[#\?]/g,Lf=/[#\?@]/g,Uf=/#/g;function fr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=fr.prototype,r.add=function(h,v){kn(this),this.i=null,h=qr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Ca(h,v){kn(h),v=qr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Br(h,v){return kn(h),v=qr(h,v),h.g.has(v)}r.forEach=function(h,v){kn(this),this.g.forEach(function(E,S){E.forEach(function(F){h.call(v,F,S,this)},this)},this)},r.na=function(){kn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let S=0;S<v.length;S++){const F=h[S];for(let K=0;K<F.length;K++)E.push(v[S])}return E},r.V=function(h){kn(this);let v=[];if(typeof h=="string")Br(this,h)&&(v=v.concat(this.g.get(qr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},r.set=function(h,v){return kn(this),this.i=null,h=qr(this,h),Br(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Hr(h,v,E){Ca(h,v),0<E.length&&(h.i=null,h.g.set(qr(h,v),z(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var S=v[E];const K=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var F=K;oe[S]!==""&&(F+="="+encodeURIComponent(String(oe[S]))),h.push(F)}}return this.i=h.join("&")};function qr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function tl(h,v){v&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(E,S){var F=S.toLowerCase();S!=F&&(Ca(this,S),Hr(this,F,E))},h)),h.j=v}function Qu(h,v){const E=new Si;if(d.Image){const S=new Image;S.onload=I(jn,E,"TestLoadImage: loaded",!0,v,S),S.onerror=I(jn,E,"TestLoadImage: error",!1,v,S),S.onabort=I(jn,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=I(jn,E,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Cs(h,v){const E=new Si,S=new AbortController,F=setTimeout(()=>{S.abort(),jn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(F),K.ok?jn(E,"TestPingServer: ok",!0,v):jn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),jn(E,"TestPingServer: error",!1,v)})}function jn(h,v,E,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(E)}catch{}}function Is(){this.g=new rn}function dr(h,v,E){const S=E||"";try{As(h,function(F,K){let oe=F;g(F)&&(oe=$o(F)),v.push(S+K+"="+encodeURIComponent(oe))})}catch(F){throw v.push(S+"type="+encodeURIComponent("_badmap")),F}}function ki(h){this.l=h.Ub||null,this.j=h.eb||!1}C(ki,Go),ki.prototype.g=function(){return new Fr(this.l,this.j)},ki.prototype.i=function(h){return function(){return h}}({});function Fr(h,v){wt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fr,wt),r=Fr.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,pr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?mr(this):pr(this),this.readyState==3&&nl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,mr(this))},r.Qa=function(h){this.g&&(this.response=h,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,pr(h)}r.setRequestHeader=function(h,v){this.u.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function rl(h){let v="";return ne(h,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function kt(h,v,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=rl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):qe(h,v,E))}function Ke(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ke,wt);var Ia=/^https?$/i,Ds=["POST","PUT"];r=Ke.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?zu(this.o):zu(xs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){Yu(this,K);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)E.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())E.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ds,v,void 0))||S||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of E)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){Yu(this,K)}};function Yu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Da(h),gr(h)}function Da(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},r.bb=function(){Oa(this)};function Oa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Pn(h)!=4||h.Z()!=2)){if(h.u&&Pn(h)==4)Uu(h.Ea,0,h);else if(Ot(h,"readystatechange"),Pn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var S;if(S=oe===0){var F=String(h.D).match(Zo)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!Ia.test(F?F.toLowerCase():"")}E=S}if(E)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var K=2<Pn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",Da(h)}}finally{gr(h)}}}}function gr(h,v){if(h.g){Os(h);const E=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ot(h,"ready");try{E.onreadystatechange=S}catch{}}}function Os(h){h.I&&(d.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function Pn(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),lr(v)}};function Xu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function zf(h){const v={};h=(h.g&&2<=Pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(Q(h[S]))continue;var E=V(h[S]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=v[F]||[];v[F]=K,K.push(E)}M(v,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ma(h){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,h),this.cb=Ms("retryDelaySeedMs",1e4,h),this.Wa=Ms("forwardChannelMaxRetries",2,h),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Xo(h&&h.concurrentRequestLimit),this.Da=new Is,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ma.prototype,r.la=8,r.G=1,r.connect=function(h,v,E,S){ft(0),this.W=h,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=rc(this,null,this.W),ja(this)};function il(h){if(Wu(h),h.G==3){var v=h.U++,E=ot(h.I);if(qe(E,"SID",h.K),qe(E,"RID",v),qe(E,"TYPE","terminate"),ks(h,E),v=new hr(h,h.j,v),v.L=2,v.v=Ns(ot(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=ic(v.j,null),v.g.ea(v.v)),v.F=Date.now(),nt(v)}nc(h)}function ka(h){h.g&&(js(h),h.g.cancel(),h.g=null)}function Wu(h){ka(h),h.u&&(d.clearTimeout(h.u),h.u=null),Pa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ja(h){if(!Wo(h.h)&&!h.s){h.s=!0;var v=h.Ga;Ee||P(),ge||(Ee(),ge=!0),Ge.add(v,h),h.B=0}}function Bf(h,v){return $u(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xi(R(h.Ga,h,v),ol(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new hr(this,this.j,h);let K=this.o;if(this.S&&(K?(K=T(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Zu(this,F,v),E=ot(this.I),qe(E,"RID",h),qe(E,"CVER",22),this.D&&qe(E,"X-HTTP-Session-Id",this.D),ks(this,E),K&&(this.O?v="headers="+encodeURIComponent(String(rl(K)))+"&"+v:this.m&&kt(E,this.m,K)),Di(this.h,F),this.Ua&&qe(E,"TYPE","init"),this.P?(qe(E,"$req",v),qe(E,"SID","null"),F.T=!0,Wn(F,E,null)):Wn(F,E,v),this.G=2}}else this.G==3&&(h?sl(this,h):this.i.length==0||Wo(this.h)||sl(this))};function sl(h,v){var E;v?E=v.l:E=h.U++;const S=ot(h.I);qe(S,"SID",h.K),qe(S,"RID",E),qe(S,"AID",h.T),ks(h,S),h.m&&h.o&&kt(S,h.m,h.o),E=new hr(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Zu(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Di(h.h,E),Wn(E,S,v)}function ks(h,v){h.H&&ne(h.H,function(E,S){qe(v,S,E)}),h.l&&As({},function(E,S){qe(v,S,E)})}function Zu(h,v,E){E=Math.min(h.i.length,E);var S=h.l?R(h.l.Na,h.l,h):null;e:{var F=h.i;let K=-1;for(;;){const oe=["count="+E];K==-1?0<E?(K=F[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let Le=!0;for(let xt=0;xt<E;xt++){let Ue=F[xt].g;const jt=F[xt].map;if(Ue-=K,0>Ue)K=Math.max(0,F[xt].g-100),Le=!1;else try{dr(jt,oe,"req"+Ue+"_")}catch{S&&S(jt)}}if(Le){S=oe.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,S}function Ju(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Ee||P(),ge||(Ee(),ge=!0),Ge.add(v,h),h.v=0}}function al(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xi(R(h.Fa,h),ol(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xi(R(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ka(this),ec(this))};function js(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function ec(h){h.g=new hr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=ot(h.qa);qe(v,"RID","rpc"),qe(v,"SID",h.K),qe(v,"AID",h.T),qe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&qe(v,"TO",h.ja),qe(v,"TYPE","xmlhttp"),ks(h,v),h.m&&h.o&&kt(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ns(ot(v)),E.m=null,E.P=!0,Ur(E,h)}r.Za=function(){this.C!=null&&(this.C=null,ka(this),al(this),ft(19))};function Pa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function tc(h,v){var E=null;if(h.g==v){Pa(h),js(h),h.g=null;var S=2}else if(Ii(h.h,v))E=v.D,On(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;S=Ta(),Ot(S,new Hu(S,E)),ja(h)}else Ju(h);else if(F=v.s,F==3||F==0&&0<v.X||!(S==1&&Bf(h,v)||S==2&&al(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),F){case 1:$r(h,5);break;case 4:$r(h,10);break;case 3:$r(h,6);break;default:$r(h,2)}}}function ol(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function $r(h,v){if(h.j.info("Error code "+v),v==2){var E=R(h.fb,h),S=h.Xa;const F=!S;S=new zr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oi(S,"https"),Ns(S),F?Qu(S.toString(),E):Cs(S.toString(),E)}else ft(2);h.G=0,h.l&&h.l.sa(v),nc(h),Wu(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function nc(h){if(h.G=0,h.ka=[],h.l){const v=sn(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function rc(h,v,E){var S=E instanceof zr?ot(E):new zr(E);if(S.g!="")v&&(S.g=v+"."+S.g),Rs(S,S.s);else{var F=d.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var K=new zr(null);S&&Oi(K,S),v&&(K.g=v),F&&Rs(K,F),E&&(K.l=E),S=K}return E=h.D,v=h.ya,E&&v&&qe(S,E,v),qe(S,"VER",h.la),ks(h,S),S}function ic(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ke(new ki({eb:E})):new Ke(h.pa),v.Ha(h.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}r=sc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Va(){}Va.prototype.g=function(h,v){return new an(h,v)};function an(h,v){wt.call(this),this.g=new Ma(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new yr(this)}C(an,wt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){il(this.g)},an.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=$o(h),h=E);v.i.push(new jf(v.Ya++,h)),v.G==3&&ja(v)},an.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,an.aa.N.call(this)};function ac(h){bi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(ac,bi);function oc(){Xn.call(this),this.status=1}C(oc,Xn);function yr(h){this.g=h}C(yr,sc),yr.prototype.ua=function(){Ot(this.g,"a")},yr.prototype.ta=function(h){Ot(this.g,new ac(h))},yr.prototype.sa=function(h){Ot(this.g,new oc)},yr.prototype.ra=function(){Ot(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,vT=function(){return new Va},yT=function(){return Ta()},gT=Dn,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,wh=Tt,Lr.COMPLETE="complete",pT=Lr,Bu.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",wt.prototype.listen=wt.prototype.K,nu=Bu,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,mT=Ke}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const fE="@firebase/firestore",dE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new uf("@firebase/firestore");function co(){return ha.logLevel}function he(r,...e){if(ha.logLevel<=ke.DEBUG){const t=e.map(yg);ha.debug(`Firestore (${Vo}): ${r}`,...t)}}function pi(r,...e){if(ha.logLevel<=ke.ERROR){const t=e.map(yg);ha.error(`Firestore (${Vo}): ${r}`,...t)}}function Eo(r,...e){if(ha.logLevel<=ke.WARN){const t=e.map(yg);ha.warn(`Firestore (${Vo}): ${r}`,...t)}}function yg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+r;throw pi(e),new Error(e)}function Qe(r,e){r||we()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class XO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WO{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string"),new _T(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Zt(e)}}class ZO{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JO{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ZO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eM{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new mE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=tM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function bo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=-62135596800,gE=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*gE);return new Ct(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pE)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Ct(0,0))}static max(){return new Te(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__name__";class Sr{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Sr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Sr.isNumericId(e),a=Sr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class ht extends Sr{construct(e,t,s){return new ht(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const nM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Sr{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return nM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new $t([yE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ht.fromString(e))}static fromName(e){return new ve(ht.fromString(e).popFirst(5))}static empty(){return new ve(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function rM(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(s===1e9?new Ct(t+1,0):new Ct(t,s));return new fs(a,ve.empty(),e)}function iM(r){return new fs(r.readTime,r.key,_u)}class fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fs(Te.min(),ve.empty(),_u)}static max(){return new fs(Te.max(),ve.empty(),_u)}}function sM(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==aM)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>s(m))}),c=!0,l===a&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(a=>a?ee.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++d,d===l&&s(c)},_=>a(_))}})}static doWhile(e,t){return new ee((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function lM(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}pf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function gf(r){return r==null}function zh(r){return r===0&&1/r==-1/0}function uM(r){return typeof r=="number"&&Number.isInteger(r)&&!zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="";function cM(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=vE(e)),e=hM(r.get(t),e);return vE(e)}function hM(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case bT:t+="";break;default:t+=l}}return t}function vE(r){return r+bT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Es(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function wT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=a??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Ft(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ft.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,a,l){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let t=new It($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new TT("Invalid base64 string: "+l):l}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const fM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Qe(!!r),typeof r=="string"){let e=0;const t=fM.exec(r);if(Qe(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",ST="__type__",AT="__previous_value__",RT="__local_write_time__";function _g(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||t===void 0?void 0:t.stringValue)===xT}function yf(r){const e=r.mapValue.fields[AT];return _g(e)?yf(e):e}function Eu(r){const e=ds(r.mapValue.fields[RT].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t,s,a,l,c,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Bh="(default)";class bu{constructor(e,t){this.projectId=e,this.database=t||Bh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",mM="__max__",uh={mapValue:{}},CT="__vector__",Hh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_g(r)?4:gM(r)?9007199254740991:pM(r)?10:11:we()}function Mr(r,e){if(r===e)return!0;const t=ps(r);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Eu(r).isEqual(Eu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ds(a.timestampValue),d=ds(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,l){return ms(a.bytesValue).isEqual(ms(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,l){return mt(a.geoPointValue.latitude)===mt(l.geoPointValue.latitude)&&mt(a.geoPointValue.longitude)===mt(l.geoPointValue.longitude)}(r,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return mt(a.integerValue)===mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=mt(a.doubleValue),d=mt(l.doubleValue);return c===d?zh(c)===zh(d):isNaN(c)&&isNaN(d)}return!1}(r,e);case 9:return bo(r.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(_E(c)!==_E(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Mr(c[m],d[m])))return!1;return!0}(r,e);default:return we()}}function wu(r,e){return(r.values||[]).find(t=>Mr(t,e))!==void 0}function wo(r,e){if(r===e)return 0;const t=ps(r),s=ps(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(l,c){const d=mt(l.integerValue||l.doubleValue),m=mt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,e);case 3:return bE(r.timestampValue,e.timestampValue);case 4:return bE(Eu(r),Eu(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(l,c){const d=ms(l),m=ms(c);return d.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Ve(d[g],m[g]);if(_!==0)return _}return Ve(d.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ve(mt(l.latitude),mt(c.latitude));return d!==0?d:Ve(mt(l.longitude),mt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return wE(r.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,_;const w=l.fields||{},R=c.fields||{},I=(d=w[Hh])===null||d===void 0?void 0:d.arrayValue,C=(m=R[Hh])===null||m===void 0?void 0:m.arrayValue,z=Ve(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:wE(I,C)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===uh.mapValue&&c===uh.mapValue)return 0;if(l===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let w=0;w<m.length&&w<_.length;++w){const R=Ve(m[w],_[w]);if(R!==0)return R;const I=wo(d[m[w]],g[_[w]]);if(I!==0)return I}return Ve(m.length,_.length)}(r.mapValue,e.mapValue);default:throw we()}}function bE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const t=ds(r),s=ds(e),a=Ve(t.seconds,s.seconds);return a!==0?a:Ve(t.nanos,s.nanos)}function wE(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=wo(t[a],s[a]);if(l)return l}return Ve(t.length,s.length)}function To(r){return Ap(r)}function Ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ms(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ve.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Ap(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Ap(t.fields[c])}`;return a+"}"}(r.mapValue):we()}function Th(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(r);return e?16+Th(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Th(l),0)}(r.arrayValue);case 10:case 11:return function(s){let a=0;return Es(s.fields,(l,c)=>{a+=l.length+Th(c)}),a}(r.mapValue);default:throw we()}}function Rp(r){return!!r&&"integerValue"in r}function Eg(r){return!!r&&"arrayValue"in r}function TE(r){return!!r&&"nullValue"in r}function xE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xh(r){return!!r&&"mapValue"in r}function pM(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||t===void 0?void 0:t.stringValue)===CT}function lu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=lu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function gM(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=$t.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=lu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];xh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Es(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new dn(lu(this.value))}}function IT(r){const e=[];return Es(r.fields,(t,s)=>{const a=new $t([t]);if(xh(s)){const l=IT(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,Te.min(),Te.min(),Te.min(),dn.empty(),0)}static newFoundDocument(e,t,s,a){return new Jt(e,1,t,Te.min(),s,a,0)}static newNoDocument(e,t){return new Jt(e,2,t,Te.min(),Te.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Te.min(),Te.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.position=e,this.inclusive=t}}function SE(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(c.referenceValue),t.key):s=wo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function AE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Mr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function yM(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{}class Nt extends DT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new _M(e,t,s):t==="array-contains"?new wM(e,s):t==="in"?new TM(e,s):t==="not-in"?new xM(e,s):t==="array-contains-any"?new SM(e,s):new Nt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new EM(e,s):new bM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(wo(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends DT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new kr(e,t)}matches(e){return OT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function OT(r){return r.op==="and"}function MT(r){return vM(r)&&OT(r)}function vM(r){for(const e of r.filters)if(e instanceof kr)return!1;return!0}function Np(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(MT(r))return r.filters.map(e=>Np(e)).join(",");{const e=r.filters.map(t=>Np(t)).join(",");return`${r.op}(${e})`}}function kT(r,e){return r instanceof Nt?function(s,a){return a instanceof Nt&&s.op===a.op&&s.field.isEqual(a.field)&&Mr(s.value,a.value)}(r,e):r instanceof kr?function(s,a){return a instanceof kr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&kT(c,a.filters[d]),!0):!1}(r,e):void we()}function jT(r){return r instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`}(r):r instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(jT).join(" ,")+"}"}(r):"Filter"}class _M extends Nt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class EM extends Nt{constructor(e,t){super(e,"in",t),this.keys=PT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bM extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=PT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class wM extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eg(t)&&wu(t.arrayValue,this.value)}}class TM extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class xM extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!wu(this.value.arrayValue,t)}}class SM extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>wu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function RE(r,e=null,t=[],s=[],a=null,l=null,c=null){return new AM(r,e,t,s,a,l,c)}function bg(r){const e=Se(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Np(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>To(s)).join(",")),e.le=t}return e.le}function wg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!yM(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!kT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!AE(r.startAt,e.startAt)&&AE(r.endAt,e.endAt)}function Cp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function RM(r,e,t,s,a,l,c,d){return new vf(r,e,t,s,a,l,c,d)}function _f(r){return new vf(r)}function NE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function NM(r){return r.collectionGroup!==null}function uu(r){const e=Se(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new It($t.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Fh(l,s))}),t.has($t.keyField().canonicalString())||e.he.push(new Fh($t.keyField(),s))}return e.he}function Nr(r){const e=Se(r);return e.Pe||(e.Pe=CM(e,uu(r))),e.Pe}function CM(r,e){if(r.limitType==="F")return RE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Fh(a.field,l)});const t=r.endAt?new qh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qh(r.startAt.position,r.startAt.inclusive):null;return RE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Ip(r,e,t){return new vf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ef(r,e){return wg(Nr(r),Nr(e))&&r.limitType===e.limitType}function VT(r){return`${bg(Nr(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>jT(a)).join(", ")}]`),gf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>To(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>To(a)).join(",")),`Target(${s})`}(Nr(r))}; limitType=${r.limitType})`}function bf(r,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,a){for(const l of uu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(r,e)&&function(s,a){return!(s.startAt&&!function(c,d,m){const g=SE(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,uu(s),a)||s.endAt&&!function(c,d,m){const g=SE(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,uu(s),a))}(r,e)}function IM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LT(r){return(e,t)=>{let s=!1;for(const a of uu(r)){const l=DM(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function DM(r,e,t){const s=r.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?wo(m,g):we()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new st(ve.comparator);function gi(){return OM}const UT=new st(ve.comparator);function ru(...r){let e=UT;for(const t of r)e=e.insert(t.key,t);return e}function zT(r){let e=UT;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ra(){return cu()}function BT(){return cu()}function cu(){return new ya(r=>r.toString(),(r,e)=>r.isEqual(e))}const MM=new st(ve.comparator),kM=new It(ve.comparator);function je(...r){let e=kM;for(const t of r)e=e.add(t);return e}const jM=new It(Ve);function PM(){return jM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function HT(r){return{integerValue:""+r}}function VM(r,e){return uM(e)?HT(e):Tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function LM(r,e,t){return r instanceof $h?function(a,l){const c={fields:{[ST]:{stringValue:xT},[RT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_g(l)&&(l=yf(l)),l&&(c.fields[AT]=l),{mapValue:c}}(t,e):r instanceof xo?FT(r,e):r instanceof So?$T(r,e):function(a,l){const c=qT(a,l),d=CE(c)+CE(a.Ie);return Rp(c)&&Rp(a.Ie)?HT(d):Tg(a.serializer,d)}(r,e)}function UM(r,e,t){return r instanceof xo?FT(r,e):r instanceof So?$T(r,e):t}function qT(r,e){return r instanceof Gh?function(s){return Rp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class $h extends wf{}class xo extends wf{constructor(e){super(),this.elements=e}}function FT(r,e){const t=GT(e);for(const s of r.elements)t.some(a=>Mr(a,s))||t.push(s);return{arrayValue:{values:t}}}class So extends wf{constructor(e){super(),this.elements=e}}function $T(r,e){let t=GT(e);for(const s of r.elements)t=t.filter(a=>!Mr(a,s));return{arrayValue:{values:t}}}class Gh extends wf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function CE(r){return mt(r.integerValue||r.doubleValue)}function GT(r){return Eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t){this.field=e,this.transform=t}}function zM(r,e){return r.field.isEqual(e.field)&&function(s,a){return s instanceof xo&&a instanceof xo||s instanceof So&&a instanceof So?bo(s.elements,a.elements,Mr):s instanceof Gh&&a instanceof Gh?Mr(s.Ie,a.Ie):s instanceof $h&&a instanceof $h}(r.transform,e.transform)}class BM{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tf{}function QT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new XT(r.key,Cr.none()):new Mu(r.key,r.data,Cr.none());{const t=r.data,s=dn.empty();let a=new It($t.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new bs(r.key,s,new An(a.toArray()),Cr.none())}}function HM(r,e,t){r instanceof Mu?function(a,l,c){const d=a.value.clone(),m=DE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(r,e,t):r instanceof bs?function(a,l,c){if(!Sh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=DE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(YT(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(r,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function hu(r,e,t,s){return r instanceof Mu?function(l,c,d,m){if(!Sh(l.precondition,c))return d;const g=l.value.clone(),_=OE(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof bs?function(l,c,d,m){if(!Sh(l.precondition,c))return d;const g=OE(l.fieldTransforms,m,c),_=c.data;return _.setAll(YT(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(l,c,d){return Sh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(r,e,t)}function qM(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=qT(s.transform,a||null);l!=null&&(t===null&&(t=dn.empty()),t.set(s.field,l))}return t||null}function IE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&bo(s,a,(l,c)=>zM(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mu extends Tf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bs extends Tf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function YT(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function DE(r,e,t){const s=new Map;Qe(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,UM(c,d,t[a]))}return s}function OE(r,e,t){const s=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);s.set(a.field,LM(l,c,e))}return s}class XT extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FM extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&HM(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=BT();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=QT(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,s)=>IE(t,s))&&bo(this.baseMutations,e.baseMutations,(t,s)=>IE(t,s))}}class xg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Qe(e.mutations.length===s.length);let a=function(){return MM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new xg(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Be;function QM(r){switch(r){case se.OK:return we();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we()}}function WT(r){if(r===void 0)return pi("GRPC error has no .code"),se.UNKNOWN;switch(r){case Et.OK:return se.OK;case Et.CANCELLED:return se.CANCELLED;case Et.UNKNOWN:return se.UNKNOWN;case Et.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Et.INTERNAL:return se.INTERNAL;case Et.UNAVAILABLE:return se.UNAVAILABLE;case Et.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Et.NOT_FOUND:return se.NOT_FOUND;case Et.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Et.ABORTED:return se.ABORTED;case Et.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Et.DATA_LOSS:return se.DATA_LOSS;default:return we()}}(Be=Et||(Et={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new us([4294967295,4294967295],0);function ME(r){const e=YM().encode(r),t=new dT;return t.update(e),new Uint8Array(t.digest())}function kE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new us([t,s],0),new us([a,l],0)]}class Sg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(s<0)throw new iu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=us.fromNumber(this.Ee)}Ae(e,t,s){let a=e.add(t.multiply(us.fromNumber(s)));return a.compare(XM)===1&&(a=new us([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ME(e),[s,a]=kE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Sg(l,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=ME(e),[s,a]=kE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xf(Te.min(),a,new st(Ve),gi(),je())}}class ku{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ku(s,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,s,a){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=a}}class ZT{constructor(e,t){this.targetId=e,this.ge=t}}class JT{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class jE{constructor(){this.pe=0,this.ye=PE(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=je(),t=je(),s=je();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:we()}}),new ku(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=PE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gi(),this.$e=ch(),this.Ke=ch(),this.Ue=new st(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,s=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Cp(l))if(s===0){const c=new ve(l.path);this.ze(t,c,Jt.newNoDocument(c,Te.min()))}else Qe(s===1);else{const c=this.et(t);if(c!==s){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ms(s).toUint8Array()}catch(m){if(m instanceof TT)return Eo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Sg(c,a,l)}catch(m){return Eo(m instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Cp(d.target)){const m=new ve(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,Jt.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let s=je();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new xf(e,t,this.Ue,this.Qe,s);return this.Qe=gi(),this.$e=ch(),this.Ke=ch(),this.Ue=new st(Ve),a}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new jE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new It(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new It(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new jE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ch(){return new st(ve.comparator)}function PE(){return new st(ve.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},JM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ek={and:"AND",or:"OR"};class tk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dp(r,e){return r.useProto3Json||gf(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ex(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nk(r,e){return Kh(r,e.toTimestamp())}function Ir(r){return Qe(!!r),Te.fromTimestamp(function(t){const s=ds(t);return new Ct(s.seconds,s.nanos)}(r))}function Ag(r,e){return Op(r,e).canonicalString()}function Op(r,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function tx(r){const e=ht.fromString(r);return Qe(ax(e)),e}function Mp(r,e){return Ag(r.databaseId,e.path)}function Jm(r,e){const t=tx(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(rx(t))}function nx(r,e){return Ag(r.databaseId,e)}function rk(r){const e=tx(r);return e.length===4?ht.emptyPath():rx(e)}function kp(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rx(r){return Qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function VE(r,e,t){return{name:Mp(r,e),fields:t.value.mapValue.fields}}function ik(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Qe(_===void 0||typeof _=="string"),Gt.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Gt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?se.UNKNOWN:WT(g.code);return new ye(_,g.message||"")}(c);t=new JT(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Jm(r,s.document.name),l=Ir(s.document.updateTime),c=s.document.createTime?Ir(s.document.createTime):Te.min(),d=new dn({mapValue:{fields:s.document.fields}}),m=Jt.newFoundDocument(a,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Ah(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Jm(r,s.document),l=s.readTime?Ir(s.readTime):Te.min(),c=Jt.newNoDocument(a,l),d=s.removedTargetIds||[];t=new Ah([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Jm(r,s.document),l=s.removedTargetIds||[];t=new Ah([],l,a,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new KM(a,l),d=s.targetId;t=new ZT(d,c)}}return t}function sk(r,e){let t;if(e instanceof Mu)t={update:VE(r,e.key,e.value)};else if(e instanceof XT)t={delete:Mp(r,e.key)};else if(e instanceof bs)t={update:VE(r,e.key,e.data),updateMask:mk(e.fieldMask)};else{if(!(e instanceof FM))return we();t={verify:Mp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof $h)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof So)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:nk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(r,e.precondition)),t}function ak(r,e){return r&&r.length>0?(Qe(e!==void 0),r.map(t=>function(a,l){let c=a.updateTime?Ir(a.updateTime):Ir(l);return c.isEqual(Te.min())&&(c=Ir(l)),new BM(c,a.transformResults||[])}(t,e))):[]}function ok(r,e){return{documents:[nx(r,e.path)]}}function lk(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=nx(r,a);const l=function(g){if(g.length!==0)return sx(kr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(R){return{field:fo(R.field),direction:hk(R.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Dp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function uk(r){let e=rk(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Qe(s===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const R=ix(w);return R instanceof kr&&MT(R)?R.getFilters():[R]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(R=>function(C){return new Fh(mo(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(w){let R;return R=typeof w=="object"?w.value:w,gf(R)?null:R}(t.limit));let m=null;t.startAt&&(m=function(w){const R=!!w.before,I=w.values||[];return new qh(I,R)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const R=!w.before,I=w.values||[];return new qh(I,R)}(t.endAt)),RM(e,a,c,l,d,"F",m,g)}function ck(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ix(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=mo(t.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=mo(t.unaryFilter.field);return Nt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=mo(t.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(t.unaryFilter.field);return Nt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(t){return Nt.create(mo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(s=>ix(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(r):we()}function hk(r){return ZM[r]}function fk(r){return JM[r]}function dk(r){return ek[r]}function fo(r){return{fieldPath:r.canonicalString()}}function mo(r){return $t.fromServerFormat(r.fieldPath)}function sx(r){return r instanceof Nt?function(t){if(t.op==="=="){if(xE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NAN"}};if(TE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NAN"}};if(TE(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(t.field),op:fk(t.op),value:t.value}}}(r):r instanceof kr?function(t){const s=t.getFilters().map(a=>sx(a));return s.length===1?s[0]:{compositeFilter:{op:dk(t.op),filters:s}}}(r):we()}function mk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ax(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,s,a,l=Te.min(),c=Te.min(),d=Gt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.Tt=e}}function gk(r){const e=uk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.Tn=new vk}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(fs.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class vk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new It(ht.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new It(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ox=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ox,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ao(0)}static Un(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",_k=1048576;function zE([r,e],[t,s]){const a=Ve(r,t);return a===0?Ve(e,s):a}class Ek{constructor(e){this.Hn=e,this.buffer=new It(zE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();zE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(UE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?he(UE,"Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.er(3e5)})}}class wk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(pf.ae);const s=new Ek(t);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(LE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,a,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,c=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),co()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function Tk(r,e){return new wk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.changes=new ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&hu(s.mutation,a,An.empty(),Ct.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,t,s=je()){const a=ra();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=ru();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=ra();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,je()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let l=gi();const c=cu(),d=function(){return cu()}();return t.forEach((m,g)=>{const _=s.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof bs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),hu(_.mutation,g,_.mutation.getFieldMask(),Ct.now())):c.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var w;return d.set(g,new Sk(_,(w=c.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const s=cu();let a=new st((c,d)=>c-d),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=s.get(m)||An.empty();_=d.applyToLocalView(g,_),s.set(m,_);const w=(a.get(d.batchId)||je()).add(m);a=a.insert(d.batchId,w)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,w=BT();_.forEach(R=>{if(!l.has(R)){const I=QT(t.get(R),s.get(R));I!==null&&w.set(R,I),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ee.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ee.resolve(ra());let d=_u,m=l;return c.next(g=>ee.forEach(g,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(R=>{m=m.insert(_,R)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,je())).next(_=>({batchId:d,changes:zT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let a=ru();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,m=>{const g=function(w,R){return new vf(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(_=>{_.forEach((w,R)=>{c=c.insert(w,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Jt.newInvalidDocument(_)))});let d=ru();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&hu(_.mutation,g,An.empty(),Ct.now()),bf(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ir(a.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:gk(a.bundledQuery),readTime:Ir(a.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.overlays=new st(ve.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ra();return ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.Et(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const a=ra(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new st((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=ra(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ra(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return ee.resolve(d)}Et(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new GM(t,s));let l=this.Rr.get(t);l===void 0&&(l=je(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Vr=new It(Ut.mr),this.gr=new It(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ut(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ut(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ve(new ht([])),s=new Ut(t,e),a=new Ut(t,e+1),l=[];return this.gr.forEachInRange([s,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new ht([])),s=new Ut(t,e),a=new Ut(t,e+1);let l=je();return this.gr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ut(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Ut.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new $M(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Ut(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Nr(s),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?vg:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ut(t,0),a=new Ut(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new It(Ve);return t.forEach(a=>{const l=new Ut(a,0),c=new Ut(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{s=s.add(d.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const c=new Ut(new ve(l),0);let d=new It(Ve);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Cr)),!0)},c),ee.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Qe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(t.mutations,a=>{const l=new Ut(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ut(t,0),a=this.Mr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.kr=e,this.docs=function(){return new st(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=gi();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Jt.newInvalidDocument(a))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=gi();const c=t.path,d=new ve(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||sM(iM(_),s)<=0||(a.has(_.key)||bf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,a){we()}qr(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Ok(this)}getSize(e){return ee.resolve(this.size)}}class Ok extends xk{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.persistence=e,this.Qr=new ya(t=>bg(t),wg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rg,this.targetCount=0,this.Ur=Ao.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,a)=>t(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new pf(0),this.zr=!1,this.zr=!0,this.jr=new Ck,this.referenceDelegate=e(this),this.Hr=new Mk(this),this.indexManager=new yk,this.remoteDocumentCache=function(a){return new Dk(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new pk(t),this.Yr=new Rk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new Ik(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const a=new kk(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class kk extends oM{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.ti=new Rg,this.ni=null}static ri(e){return new Ng(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const a=ve.fromPath(s);return this.si(e,a).next(l=>{l||t.removeEntry(a,Te.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Qh{constructor(e,t){this.persistence=e,this.oi=new ya(s=>cM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Tk(this,t)}static ri(e,t){return new Qh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(l=>l?ee.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Te.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Th(e.data.value)),t}ar(e,t,s){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ee.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=a}static Yi(e,t){let s=je(),a=je();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Cg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return QN()?8:lM(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new jk;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,s,a){return s.documentReadCount<this.es?(co()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(co()<=ke.DEBUG&&he("QueryEngine","Query:",ho(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(co()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):ee.resolve())}rs(e,t){if(NE(t))return ee.resolve(null);let s=Nr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ip(t,null,"F"),s=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=je(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(t,d);return this.ls(t,g,c,m.readTime)?this.rs(e,Ip(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,s,a){return NE(t)||a.isEqual(Te.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(l=>{const c=this.cs(t,l);return this.ls(t,c,s,a)?ee.resolve(null):(co()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ho(t)),this.hs(e,c,t,rM(a,_u)).next(d=>d))})}cs(e,t){let s=new It(LT(e));return t.forEach((a,l)=>{bf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,s){return co()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ho(t)),this.ns.getDocumentsMatchingQuery(e,t,fs.min(),s)}hs(e,t,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",Vk=3e8;class Lk{constructor(e,t,s,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new st(Ve),this.Is=new ya(l=>bg(l),wg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ak(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Uk(r,e,t,s){return new Lk(r,e,t,s)}async function ux(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=je();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function zk(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const w=g.batch,R=w.keys();let I=ee.resolve();return R.forEach(C=>{I=I.next(()=>_.getEntry(m,C)).next(z=>{const N=g.docVersions.get(C);Qe(N!==null),z.version.compareTo(N)<0&&(w.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(m,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=je();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function cx(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Bk(r,e){const t=Se(r),s=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((_,w)=>{const R=a.get(w);if(!R)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,w)));let I=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Gt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),a=a.insert(w,I),function(z,N,q){return z.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=Vk?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(R,I,_)&&d.push(t.Hr.updateTargetData(l,I))});let m=gi(),g=je();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(Hk(l,c,e.documentUpdates).next(_=>{m=_.Vs,g=_.fs})),!s.isEqual(Te.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(w=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return ee.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=a,l))}function Hk(r,e,t){let s=je(),a=je();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let c=gi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Te.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):he(Ig,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function qk(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=vg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Fk(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Hr.getTargetData(s,e).next(l=>l?(a=l,ee.resolve(a)):t.Hr.allocateTargetId(s).next(c=>(a=new as(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function jp(r,e,t){const s=Se(r),a=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Uo(c))throw c;he(Ig,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function BE(r,e,t){const s=Se(r);let a=Te.min(),l=je();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const w=Se(m),R=w.Is.get(_);return R!==void 0?ee.resolve(w.Ts.get(R)):w.Hr.getTargetData(g,_)}(s,c,Nr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,e,t?a:Te.min(),t?l:je())).next(d=>($k(s,IM(e),d),{documents:d,gs:l})))}function $k(r,e,t){let s=r.Es.get(e)||Te.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Es.set(e,s)}class HE{constructor(){this.activeTargetIds=PM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gk{constructor(){this.ho=new HE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new HE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class FE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(qE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Pp(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",Qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yk{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,t,s,a,l){const c=Pp(),d=this.bo(e,t.toUriEncodedString());he(ep,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,d,m,s).then(g=>(he(ep,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Eo(ep,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,a,l,c){return this.So(e,t,s,a,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const s=Qk[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class Wk extends Yk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,a){const l=Pp();return new Promise((c,d)=>{const m=new mT;m.setWithCredentials(!0),m.listenOnce(pT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case wh.NO_ERROR:const _=m.getResponseJson();he(Xt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case wh.TIMEOUT:he(Xt,`RPC '${e}' ${l} timed out`),d(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const w=m.getStatus();if(he(Xt,`RPC '${e}' ${l} failed with status:`,w,"response text:",m.getResponseText()),w>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R==null?void 0:R.error;if(I&&I.status&&I.message){const C=function(N){const q=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN}(I.status);d(new ye(C,I.message))}else d(new ye(se.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ye(se.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{he(Xt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);he(Xt,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",g,s,15)})}Wo(e,t,s){const a=Pp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vT(),d=yT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const _=l.join("");he(Xt,`Creating RPC '${e}' stream ${a}: ${_}`,m);const w=c.createWebChannel(_,m);let R=!1,I=!1;const C=new Xk({Fo:N=>{I?he(Xt,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(R||(he(Xt,`Opening RPC '${e}' stream ${a} transport.`),w.open(),R=!0),he(Xt,`RPC '${e}' stream ${a} sending:`,N),w.send(N))},Mo:()=>w.close()}),z=(N,q,Q)=>{N.listen(q,X=>{try{Q(X)}catch(te){setTimeout(()=>{throw te},0)}})};return z(w,nu.EventType.OPEN,()=>{I||(he(Xt,`RPC '${e}' stream ${a} transport opened.`),C.Qo())}),z(w,nu.EventType.CLOSE,()=>{I||(I=!0,he(Xt,`RPC '${e}' stream ${a} transport closed`),C.Ko())}),z(w,nu.EventType.ERROR,N=>{I||(I=!0,Eo(Xt,`RPC '${e}' stream ${a} transport errored:`,N),C.Ko(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),z(w,nu.EventType.MESSAGE,N=>{var q;if(!I){const Q=N.data[0];Qe(!!Q);const X=Q,te=(X==null?void 0:X.error)||((q=X[0])===null||q===void 0?void 0:q.error);if(te){he(Xt,`RPC '${e}' stream ${a} received error:`,te);const ie=te.status;let ne=function(A){const D=Et[A];if(D!==void 0)return WT(D)}(ie),M=te.message;ne===void 0&&(ne=se.INTERNAL,M="Unknown error status: "+ie+" with message "+te.message),I=!0,C.Ko(new ye(ne,M)),w.close()}else he(Xt,`RPC '${e}' stream ${a} received:`,Q),C.Uo(Q)}}),z(d,gT.STAT_EVENT,N=>{N.stat===Sp.PROXY?he(Xt,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Sp.NOPROXY&&he(Xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r){return new tk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="PersistentStream";class fx{constructor(e,t,s,a,l,c,d,m){this.Ti=e,this.n_=s,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hx(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===t&&this.V_(s,a)},s=>{e(()=>{const a=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he($E,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he($E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zk extends fx{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=ik(this.serializer,e),s=function(l){if(!("targetChange"in l))return Te.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Te.min():c.readTime?Ir(c.readTime):Te.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=kp(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Cp(m)?{documents:ok(l,m)}:{query:lk(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ex(l,c.resumeToken);const g=Dp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Te.min())>0){d.readTime=Kh(l,c.snapshotVersion.toTimestamp());const g=Dp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=ck(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=kp(this.serializer),t.removeTarget=e,this.I_(t)}}class Jk extends fx{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=ak(e.writeResults,e.commitTime),s=Ir(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=kp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>sk(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class tj extends ej{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Op(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())})}Co(e,t,s,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Op(t,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(se.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pi(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class rj{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{va(this)&&(he(fa,"Restarting streams for network reachability change."),await async function(m){const g=Se(m);g.W_.add(4),await ju(g),g.j_.set("Unknown"),g.W_.delete(4),await Af(g)}(this))})}),this.j_=new nj(s,a)}}async function Af(r){if(va(r))for(const e of r.G_)await e(!0)}async function ju(r){for(const e of r.G_)await e(!1)}function dx(r,e){const t=Se(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),kg(t)?Mg(t):zo(t).c_()&&Og(t,e))}function Dg(r,e){const t=Se(r),s=zo(t);t.U_.delete(e),s.c_()&&mx(t,e),t.U_.size===0&&(s.c_()?s.P_():va(t)&&t.j_.set("Unknown"))}function Og(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(r).y_(e)}function mx(r,e){r.H_.Ne(e),zo(r).w_(e)}function Mg(r){r.H_=new WM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.j_.B_()}function kg(r){return va(r)&&!zo(r).u_()&&r.U_.size>0}function va(r){return Se(r).W_.size===0}function px(r){r.H_=void 0}async function ij(r){r.j_.set("Online")}async function sj(r){r.U_.forEach((e,t)=>{Og(r,e)})}async function aj(r,e){px(r),kg(r)?(r.j_.q_(e),Mg(r)):r.j_.set("Unknown")}async function oj(r,e,t){if(r.j_.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(r,e)}catch(s){he(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(r,s)}else if(e instanceof Ah?r.H_.We(e):e instanceof ZT?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Te.min()))try{const s=await cx(r.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.U_.get(g);_&&l.U_.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.U_.get(m);if(!_)return;l.U_.set(m,_.withResumeToken(Gt.EMPTY_BYTE_STRING,_.snapshotVersion)),mx(l,m);const w=new as(_.target,m,g,_.sequenceNumber);Og(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){he(fa,"Failed to raise snapshot:",s),await Yh(r,s)}}async function Yh(r,e,t){if(!Uo(e))throw e;r.W_.add(1),await ju(r),r.j_.set("Offline"),t||(t=()=>cx(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(fa,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Af(r)})}function gx(r,e){return e().catch(t=>Yh(r,t,e))}async function Rf(r){const e=Se(r),t=gs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:vg;for(;lj(e);)try{const a=await qk(e.localStore,s);if(a===null){e.K_.length===0&&t.P_();break}s=a.batchId,uj(e,a)}catch(a){await Yh(e,a)}yx(e)&&vx(e)}function lj(r){return va(r)&&r.K_.length<10}function uj(r,e){r.K_.push(e);const t=gs(r);t.c_()&&t.S_&&t.b_(e.mutations)}function yx(r){return va(r)&&!gs(r).u_()&&r.K_.length>0}function vx(r){gs(r).start()}async function cj(r){gs(r).C_()}async function hj(r){const e=gs(r);for(const t of r.K_)e.b_(t.mutations)}async function fj(r,e,t){const s=r.K_.shift(),a=xg.from(s,e,t);await gx(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await Rf(r)}async function dj(r,e){e&&gs(r).S_&&await async function(s,a){if(function(c){return QM(c)&&c!==se.ABORTED}(a.code)){const l=s.K_.shift();gs(s).h_(),await gx(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Rf(s)}}(r,e),yx(r)&&vx(r)}async function GE(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),he(fa,"RemoteStore received new credentials");const s=va(t);t.W_.add(3),await ju(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Af(t)}async function mj(r,e){const t=Se(r);e?(t.W_.delete(2),await Af(t)):e||(t.W_.add(2),await ju(t),t.j_.set("Unknown"))}function zo(r){return r.J_||(r.J_=function(t,s,a){const l=Se(t);return l.M_(),new Zk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{xo:ij.bind(null,r),No:sj.bind(null,r),Lo:aj.bind(null,r),p_:oj.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),kg(r)?Mg(r):r.j_.set("Unknown")):(await r.J_.stop(),px(r))})),r.J_}function gs(r){return r.Y_||(r.Y_=function(t,s,a){const l=Se(t);return l.M_(),new Jk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:cj.bind(null,r),Lo:dj.bind(null,r),D_:hj.bind(null,r),v_:fj.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Rf(r)):(await r.Y_.stop(),r.K_.length>0&&(he(fa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new jg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(r,e){if(pi("AsyncQueue",`${e}: ${r}`),Uo(r))return new ye(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=ru(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new _o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.Z_=new st(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Ro(e,t,_o.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gj{constructor(){this.queries=QE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const a=Se(t),l=a.queries;a.queries=QE(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(s)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function QE(){return new ya(r=>VT(r),Ef)}async function _x(r,e){const t=Se(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(s=2):(l=new pj,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Pg(c,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Vg(t)}async function Ex(r,e){const t=Se(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function yj(r,e){const t=Se(r);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(s=!0);c.ea=a}}s&&Vg(t)}function vj(r,e,t){const s=Se(r),a=s.queries.get(e);if(a)for(const l of a.ta)l.onError(t);s.queries.delete(e)}function Vg(r){r.ia.forEach(e=>{e.next()})}var Vp,YE;(YE=Vp||(Vp={}))._a="default",YE.Cache="cache";class bx{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.key=e}}class Tx{constructor(e){this.key=e}}class _j{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=LT(e),this.wa=new _o(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new KE,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,w)=>{const R=a.get(_),I=bf(this.query,w)?w:null,C=!!R&&this.mutatedKeys.has(R.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let N=!1;R&&I?R.data.isEqual(I.data)?C!==z&&(s.track({type:3,doc:I}),N=!0):this.va(R,I)||(s.track({type:2,doc:I}),N=!0,(m&&this.ya(I,m)>0||g&&this.ya(I,g)<0)&&(d=!0)):!R&&I?(s.track({type:0,doc:I}),N=!0):R&&!I&&(s.track({type:1,doc:R}),N=!0,(m||g)&&(d=!0)),N&&(I?(c=c.add(I),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:c,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,w)=>function(I,C){const z=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return z(I)-z(C)}(_.type,w.type)||this.ya(_.doc,w.doc)),this.Ca(s),a=a!=null&&a;const d=t&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new Ro(this.query,e.wa,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new KE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Tx(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new wx(s))}),t}Oa(e){this.fa=e.gs,this.pa=je();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lg="SyncEngine";class Ej{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class bj{constructor(e){this.key=e,this.Ba=!1}}class wj{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ya(d=>VT(d),Ef),this.qa=new Map,this.Qa=new Set,this.$a=new st(ve.comparator),this.Ka=new Map,this.Ua=new Rg,this.Wa={},this.Ga=new Map,this.za=Ao.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Tj(r,e,t=!0){const s=Cx(r);let a;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await xx(s,e,t,!0),a}async function xj(r,e){const t=Cx(r);await xx(t,e,!0,!1)}async function xx(r,e,t,s){const a=await Fk(r.localStore,Nr(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await Sj(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&dx(r.remoteStore,a),d}async function Sj(r,e,t,s,a){r.Ha=(w,R,I)=>async function(z,N,q,Q){let X=N.view.ba(q);X.ls&&(X=await BE(z.localStore,N.query,!1).then(({documents:M})=>N.view.ba(M,X)));const te=Q&&Q.targetChanges.get(N.targetId),ie=Q&&Q.targetMismatches.get(N.targetId)!=null,ne=N.view.applyChanges(X,z.isPrimaryClient,te,ie);return WE(z,N.targetId,ne.Ma),ne.snapshot}(r,w,R,I);const l=await BE(r.localStore,e,!0),c=new _j(e,l.gs),d=c.ba(l.documents),m=ku.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,m);WE(r,t,g.Ma);const _=new Ej(e,t,c);return r.ka.set(e,_),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function Aj(r,e,t){const s=Se(r),a=s.ka.get(e),l=s.qa.get(a.targetId);if(l.length>1)return s.qa.set(a.targetId,l.filter(c=>!Ef(c,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await jp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Dg(s.remoteStore,a.targetId),Lp(s,a.targetId)}).catch(Lo)):(Lp(s,a.targetId),await jp(s.localStore,a.targetId,!0))}async function Rj(r,e){const t=Se(r),s=t.ka.get(e),a=t.qa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(t.remoteStore,s.targetId))}async function Nj(r,e,t){const s=jj(r);try{const a=await function(c,d){const m=Se(c),g=Ct.now(),_=d.reduce((I,C)=>I.add(C.key),je());let w,R;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=gi(),z=je();return m.ds.getEntries(I,_).next(N=>{C=N,C.forEach((q,Q)=>{Q.isValidDocument()||(z=z.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(I,C)).next(N=>{w=N;const q=[];for(const Q of d){const X=qM(Q,w.get(Q.key).overlayedDocument);X!=null&&q.push(new bs(Q.key,X,IT(X.value.mapValue),Cr.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,q,d)}).next(N=>{R=N;const q=N.applyToLocalDocumentSet(w,z);return m.documentOverlayCache.saveOverlays(I,N.batchId,q)})}).then(()=>({batchId:R.batchId,changes:zT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new st(Ve)),g=g.insert(d,m),c.Wa[c.currentUser.toKey()]=g}(s,a.batchId,t),await Pu(s,a.changes),await Rf(s.remoteStore)}catch(a){const l=Pg(a,"Failed to persist write");t.reject(l)}}async function Sx(r,e){const t=Se(r);try{const s=await Bk(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Qe(c.Ba):a.removedDocuments.size>0&&(Qe(c.Ba),c.Ba=!1))}),await Pu(t,s,e)}catch(s){await Lo(s)}}function XE(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Se(c);m.onlineState=d;let g=!1;m.queries.forEach((_,w)=>{for(const R of w.ta)R.sa(d)&&(g=!0)}),g&&Vg(m)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Cj(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Ka.get(e),l=a&&a.key;if(l){let c=new st(ve.comparator);c=c.insert(l,Jt.newNoDocument(l,Te.min()));const d=je().add(l),m=new xf(Te.min(),new Map,new st(Ve),c,d);await Sx(s,m),s.$a=s.$a.remove(l),s.Ka.delete(e),Ug(s)}else await jp(s.localStore,e,!1).then(()=>Lp(s,e,t)).catch(Lo)}async function Ij(r,e){const t=Se(r),s=e.batch.batchId;try{const a=await zk(t.localStore,e);Rx(t,s,null),Ax(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(t,a)}catch(a){await Lo(a)}}async function Dj(r,e,t){const s=Se(r);try{const a=await function(c,d){const m=Se(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(w=>(Qe(w!==null),_=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(s.localStore,e);Rx(s,e,t),Ax(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Pu(s,a)}catch(a){await Lo(a)}}function Ax(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function Rx(r,e,t){const s=Se(r);let a=s.Wa[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function Lp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||Nx(r,s)})}function Nx(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Dg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),Ug(r))}function WE(r,e,t){for(const s of t)s instanceof wx?(r.Ua.addReference(s.key,e),Oj(r,s)):s instanceof Tx?(he(Lg,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||Nx(r,s.key)):we()}function Oj(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(he(Lg,"New document in limbo: "+t),r.Qa.add(s),Ug(r))}function Ug(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ve(ht.fromString(e)),s=r.za.next();r.Ka.set(s,new bj(t)),r.$a=r.$a.insert(t,s),dx(r.remoteStore,new as(Nr(_f(t.path)),s,"TargetPurposeLimboResolution",pf.ae))}}async function Pu(r,e,t){const s=Se(r),a=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((d,m)=>{c.push(s.Ha(m,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){a.push(g);const w=Cg.Yi(m.targetId,g);l.push(w)}}))}),await Promise.all(c),s.La.p_(a),await async function(m,g){const _=Se(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(g,R=>ee.forEach(R.Hi,I=>_.persistence.referenceDelegate.addReference(w,R.targetId,I)).next(()=>ee.forEach(R.Ji,I=>_.persistence.referenceDelegate.removeReference(w,R.targetId,I)))))}catch(w){if(!Uo(w))throw w;he(Ig,"Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const I=_.Ts.get(R),C=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(C);_.Ts=_.Ts.insert(R,z)}}}(s.localStore,l))}async function Mj(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){he(Lg,"User change. New user:",e.toKey());const s=await ux(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new ye(se.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(t,s.Rs)}}function kj(r,e){const t=Se(r),s=t.Ka.get(e);if(s&&s.Ba)return je().add(s.key);{let a=je();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function Cx(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cj.bind(null,e),e.La.p_=yj.bind(null,e.eventManager),e.La.Ja=vj.bind(null,e.eventManager),e}function jj(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ij.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dj.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Uk(this.persistence,new Pk,e.initialUser,this.serializer)}Xa(e){return new lx(Ng.ri,this.serializer)}Za(e){return new Gk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class Pj extends Xh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Qe(this.persistence.referenceDelegate instanceof Qh);const s=this.persistence.referenceDelegate.garbageCollector;return new bk(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new lx(s=>Qh.ri(s,t),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>XE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,this.syncEngine),await mj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gj}()}createDatastore(e){const t=Sf(e.databaseInfo.databaseId),s=function(l){return new Wk(l)}(e.databaseInfo);return function(l,c,d,m){return new tj(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,d){return new rj(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>XE(this.syncEngine,t,0),function(){return FE.D()?new FE:new Kk}())}createSyncEngine(e,t){return function(a,l,c,d,m,g,_){const w=new wj(a,l,c,d,m,g);return _&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Se(a);he(fa,"RemoteStore shutting down."),l.W_.add(5),await ju(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class Vj{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Zt.UNAUTHENTICATED,this.clientId=ET.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{he(ys,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(he(ys,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Pg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function np(r,e){r.asyncQueue.verifyOperationInProgress(),he(ys,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async a=>{s.isEqual(a)||(await ux(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ZE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Lj(r);he(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>GE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,a)=>GE(e.remoteStore,a)),r._onlineComponents=e}async function Lj(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ys,"Using user provided OfflineComponentProvider");try{await np(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Eo("Error using user provided cache. Falling back to memory cache: "+t),await np(r,new Xh)}}else he(ys,"Using default OfflineComponentProvider"),await np(r,new Pj(void 0));return r._offlineComponents}async function Dx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ys,"Using user provided OnlineComponentProvider"),await ZE(r,r._uninitializedComponentsProvider._online)):(he(ys,"Using default OnlineComponentProvider"),await ZE(r,new Up))),r._onlineComponents}function Uj(r){return Dx(r).then(e=>e.syncEngine)}async function zp(r){const e=await Dx(r),t=e.eventManager;return t.onListen=Tj.bind(null,e.syncEngine),t.onUnlisten=Aj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Rj.bind(null,e.syncEngine),t}function zj(r,e,t={}){const s=new cs;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new Ix({next:R=>{_.su(),c.enqueueAndForget(()=>Ex(l,w));const I=R.docs.has(d);!I&&R.fromCache?g.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&R.fromCache&&m&&m.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new bx(_f(d.path),_,{includeMetadataChanges:!0,Ta:!0});return _x(l,w)}(await zp(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(r,e,t){if(!t)throw new ye(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Hj(r,e,t,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function eb(r){if(!ve.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function Dr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zg(r);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="firestore.googleapis.com",tb=!0;class nb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mx,this.ssl=tb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ox;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_k)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YO;switch(s.type){case"firstParty":return new JO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=JE.get(t);s&&(he("ComponentProvider","Removing Datastore"),JE.delete(t),s.terminate())}(this),Promise.resolve()}}function qj(r,e,t,s={}){var a;const l=(r=Dr(r,Bg))._getSettings(),c=`${e}:${t}`;if(l.host!==Mx&&l.host!==c&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let d,m;if(typeof s.mockUserToken=="string")d=s.mockUserToken,m=Zt.MOCK_USER;else{d=HN(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zt(g)}r._authCredentials=new XO(new _T(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Nf(this.firestore,e,this._query)}}class gn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Tu extends Nf{constructor(e,t,s){super(e,t,_f(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ve(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function fu(r,e,...t){if(r=Dt(r),arguments.length===1&&(e=ET.newId()),Bj("doc","path",e),r instanceof Bg){const s=ht.fromString(e,...t);return eb(s),new gn(r,null,new ve(s))}{if(!(r instanceof gn||r instanceof Tu))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ht.fromString(e,...t));return eb(s),new gn(r.firestore,r instanceof Tu?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="AsyncQueue";class ib{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hx(this,"async_queue_retry"),this.Su=()=>{const s=tp();s&&he(rb,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new cs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Uo(e))throw e;he(rb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw pi("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=jg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function sb(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(r,["next","error","complete"])}class No extends Bg{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new ib,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ib(e),this._firestoreClient=void 0,await e}}}function Fj(r,e){const t=typeof r=="object"?r:ng(),s=typeof r=="string"?r:Bh,a=pa(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=zN("firestore");l&&qj(a,...l)}return a}function Hg(r){if(r._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$j(r),r._firestoreClient}function $j(r){var e,t,s;const a=r._freezeSettings(),l=function(d,m,g,_){return new dM(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Ox(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new Vj(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(Gt.fromBase64String(e))}catch(t){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Co(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=/^__.*__$/;class Kj{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}class kx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class If{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new If(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(jx(this.Lu)&&Gj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Qj{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sf(e)}ju(e,t,s,a=!1){return new If({Lu:e,methodName:t,zu:s,path:$t.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Px(r){const e=r._freezeSettings(),t=Sf(r._databaseId);return new Qj(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Yj(r,e,t,s,a,l={}){const c=r.ju(l.merge||l.mergeFields?2:0,e,t,a);Kg("Data must be an object, but it was:",c,s);const d=Lx(s,c);let m,g;if(l.merge)m=new An(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const R=Bp(e,w,t);if(!c.contains(R))throw new ye(se.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);zx(_,R)||_.push(R)}m=new An(_),g=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=c.fieldTransforms;return new Kj(new dn(d),m,g)}class Df extends Vu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function Vx(r,e,t){return new If({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $g extends Vu{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Vx(this,e,!0),s=this.Hu.map(l=>Bo(l,t)),a=new xo(s);return new KT(e.path,a)}isEqual(e){return e instanceof $g&&aa(this.Hu,e.Hu)}}class Gg extends Vu{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Vx(this,e,!0),s=this.Hu.map(l=>Bo(l,t)),a=new So(s);return new KT(e.path,a)}isEqual(e){return e instanceof Gg&&aa(this.Hu,e.Hu)}}function Xj(r,e,t,s){const a=r.ju(1,e,t);Kg("Data must be an object, but it was:",a,s);const l=[],c=dn.empty();Es(s,(m,g)=>{const _=Qg(e,m,t);g=Dt(g);const w=a.Ku(_);if(g instanceof Df)l.push(_);else{const R=Bo(g,w);R!=null&&(l.push(_),c.set(_,R))}});const d=new An(l);return new kx(c,d,a.fieldTransforms)}function Wj(r,e,t,s,a,l){const c=r.ju(1,e,t),d=[Bp(e,s,t)],m=[a];if(l.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)d.push(Bp(e,l[R])),m.push(l[R+1]);const g=[],_=dn.empty();for(let R=d.length-1;R>=0;--R)if(!zx(g,d[R])){const I=d[R];let C=m[R];C=Dt(C);const z=c.Ku(I);if(C instanceof Df)g.push(I);else{const N=Bo(C,z);N!=null&&(g.push(I),_.set(I,N))}}const w=new An(g);return new kx(_,w,c.fieldTransforms)}function Bo(r,e){if(Ux(r=Dt(r)))return Kg("Unsupported field value:",e,r),Lx(r,e);if(r instanceof Vu)return function(s,a){if(!jx(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=Bo(d,a.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(r,e)}return function(s,a){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ct.fromDate(s);return{timestampValue:Kh(a.serializer,l)}}if(s instanceof Ct){const l=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(a.serializer,l)}}if(s instanceof qg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Co)return{bytesValue:ex(a.serializer,s._byteString)};if(s instanceof gn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ag(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Fg)return function(c,d){return{mapValue:{fields:{[NT]:{stringValue:CT},[Hh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Tg(d.serializer,g)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${zg(s)}`)}(r,e)}function Lx(r,e){const t={};return wT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,(s,a)=>{const l=Bo(a,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Ux(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof qg||r instanceof Co||r instanceof gn||r instanceof Vu||r instanceof Fg)}function Kg(r,e,t){if(!Ux(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=zg(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Bp(r,e,t){if((e=Dt(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return Qg(r,e);throw Wh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Zj=new RegExp("[~\\*/\\[\\]]");function Qg(r,e,t){if(e.search(Zj)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Cf(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Wh(r,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ye(se.INVALID_ARGUMENT,d+r+m)}function zx(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Jj extends Bx{data(){return super.data()}}function Hx(r,e){return typeof e=="string"?Qg(r,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t4{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Es(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Hh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>mt(c.doubleValue));return new Fg(l)}convertGeoPoint(e){return new qg(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=yf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ht.fromString(e);Qe(ax(s));const a=new bu(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(t)||pi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qx extends Bx{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Hx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Rh extends qx{data(e={}){return super.data(e)}}class r4{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Rh(this._firestore,this._userDataWriter,s.key,s,new su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Rh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Rh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:i4(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function i4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(r){r=Dr(r,gn);const e=Dr(r.firestore,No);return zj(Hg(e),r._key).then(t=>Kx(e,r,t))}class Fx extends t4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function ab(r,e,t){r=Dr(r,gn);const s=Dr(r.firestore,No),a=n4(r.converter,e,t);return Gx(s,[Yj(Px(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Cr.none())])}function Hp(r,e,t,...s){r=Dr(r,gn);const a=Dr(r.firestore,No),l=Px(a);let c;return c=typeof(e=Dt(e))=="string"||e instanceof Cf?Wj(l,"updateDoc",r._key,e,t,s):Xj(l,"updateDoc",r._key,e),Gx(a,[c.toMutation(r._key,Cr.exists(!0))])}function $x(r,...e){var t,s,a;r=Dt(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||sb(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(sb(e[c])){const w=e[c];e[c]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[c+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[c+2]=(a=w.complete)===null||a===void 0?void 0:a.bind(w)}let m,g,_;if(r instanceof gn)g=Dr(r.firestore,No),_=_f(r._key.path),m={next:w=>{e[c]&&e[c](Kx(g,r,w))},error:e[c+1],complete:e[c+2]};else{const w=Dr(r,Nf);g=Dr(w.firestore,No),_=w._query;const R=new Fx(g);m={next:I=>{e[c]&&e[c](new r4(g,R,w,I))},error:e[c+1],complete:e[c+2]},e4(r._query)}return function(R,I,C,z){const N=new Ix(z),q=new bx(I,N,C);return R.asyncQueue.enqueueAndForget(async()=>_x(await zp(R),q)),()=>{N.su(),R.asyncQueue.enqueueAndForget(async()=>Ex(await zp(R),q))}}(Hg(g),_,d,m)}function Gx(r,e){return function(s,a){const l=new cs;return s.asyncQueue.enqueueAndForget(async()=>Nj(await Uj(s),a,l)),l.promise}(Hg(r),e)}function Kx(r,e,t){const s=t.docs.get(e._key),a=new Fx(r);return new qx(r,a,e._key,s,new su(t.hasPendingWrites,t.fromCache),e.converter)}function a4(...r){return new $g("arrayUnion",r)}function o4(...r){return new Gg("arrayRemove",r)}(function(e,t=!0){(function(a){Vo=a})(jo),Or(new nr("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new No(new WO(s.getProvider("auth-internal")),new eM(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Yn(fE,dE,e),Yn(fE,dE,"esm2017")})();const l4={apiKey:"AIzaSyBBsR4ur6g0dzFeHPCtnl9HEUj579h5DUw",authDomain:"pereza-9a61a.firebaseapp.com",projectId:"pereza-9a61a",storageBucket:"pereza-9a61a.firebasestorage.app",messagingSenderId:"257748438860",appId:"1:257748438860:web:3b53c9d59b5df3ac0a89e9",measurementId:"G-YS9X48WQZG"},Yg=ow(l4),Zh=AD(Yg);$O(Yg);const du=Fj(Yg),_a=j.createContext({user:null,bio:"",logout:()=>{}});function u4({children:r}){const[e,t]=j.useState(null),[s,a]=j.useState("");j.useEffect(()=>{const c=m2(Zh,async d=>{if(d){t(d);const m=fu(du,"users",d.uid),g=await s4(m);g.exists()?g.data().favorites||await ab(m,{favorites:[]},{merge:!0}):(await ab(m,{email:d.email,bio:"",favorites:[],createdAt:new Date}),console.log("Documento creado para:",d.email));const _=$x(m,w=>{w.exists()&&a(w.data().bio)});return()=>_()}else t(null),a("")});return()=>c()},[]);async function l(){await p2(Zh),t(null),a("")}return y.jsx(_a.Provider,{value:{user:e,bio:s,logout:l},children:r})}const Qx=j.createContext();function c4({children:r}){const[e,t]=j.useState([]),{user:s}=j.useContext(_a);j.useEffect(()=>{if(!s){t([]);return}const d=fu(du,"users",s.uid),m=$x(d,g=>{g.exists()&&g.data().favorites?t(g.data().favorites):t([])});return()=>m()},[s]);async function a(d){if(!e.some(m=>m.id===d.id)&&s){const m=fu(du,"users",s.uid);try{await Hp(m,{favorites:a4(d)})}catch(g){console.error("Error al añadir a favoritos:",g)}}}async function l(d){if(s){const m=e.find(g=>g.id===d);if(m){const g=fu(du,"users",s.uid);try{await Hp(g,{favorites:o4(m)})}catch(_){console.error("Error al eliminar de favoritos:",_)}}}}const c=d=>e.some(m=>m.id===d);return y.jsx(Qx.Provider,{value:{favorites:e,addFavorite:a,removeFavorite:l,isFavorite:c},children:r})}function Of(){return j.useContext(Qx)}const h4="521b418e6b0c0227a624515e80c9288a";function yn(){const[r,e]=j.useState(""),[t,s]=j.useState([]),[a,l]=j.useState(!1),[c,d]=j.useState(null),[m,g]=j.useState(!1),[_,w]=j.useState(!1),[R,I]=j.useState(!1),C=j.useRef(null),z=vn(),{favorites:N}=Of(),{user:q,logout:Q}=j.useContext(_a);j.useEffect(()=>{function T(D){C.current&&!C.current.contains(D.target)&&s([])}const A=()=>{window.scrollY>50?I(!0):I(!1)};return document.addEventListener("mousedown",T),window.addEventListener("scroll",A),()=>{document.removeEventListener("mousedown",T),window.removeEventListener("scroll",A)}},[C]);const X=async T=>{if(T.preventDefault(),!!r.trim()){l(!0),d(null);try{const A=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${h4}&query=${r}`);if(!A.ok)throw new Error("Failed to fetch movies");const D=await A.json();s(D.results)}catch(A){console.error("Error searching movies:",A),d("Failed to search movies. Please try again.")}finally{l(!1)}}};function te(T){T.preventDefault(),z("/signup"),g(!1)}function ie(T){T.preventDefault(),z("/login"),g(!1)}function ne(T){T.preventDefault(),Q(),z("/"),g(!1)}const M=T=>T==null||isNaN(T)?"N/A":T.toFixed(1);return y.jsx("div",{className:"flex flex-col w-full",children:y.jsx("nav",{className:`bg-gray-900 text-white w-full z-50 transition-all duration-300 ${R?"shadow-lg py-2":"py-4"} ${m?"relative":"sticky top-0"}`,children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs(Wt,{to:"/",className:"text-2xl font-bold flex items-center",children:[y.jsx("div",{className:"mr-2 relative",children:y.jsxs("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center shadow-lg",children:[y.jsx("div",{className:"w-3 h-3 bg-white rounded-full absolute",style:{top:"35%",left:"35%"}}),y.jsx("div",{className:"w-6 h-6 border-4 border-white rounded-full"})]})}),y.jsx("span",{className:"text-blue-500 font-extrabold tracking-wide",children:"CUEVANA by Aaron"})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[y.jsx(Wt,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Inicio"}),y.jsx(Wt,{to:"/peliculas",className:"text-gray-300 hover:text-white transition-colors",children:"Películas"}),y.jsx(Wt,{to:"/series",className:"text-gray-300 hover:text-white transition-colors",children:"Series"}),y.jsx(Wt,{to:"/estrenos",className:"text-gray-300 hover:text-white transition-colors",children:"Estrenos"}),q&&y.jsx(Wt,{to:"/dashboard",className:"text-gray-300 hover:text-white transition-colors",children:"Mi Cuevana"})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"relative",ref:C,children:[y.jsxs("form",{onSubmit:X,className:"flex items-center",children:[y.jsx("input",{type:"text",value:r,onChange:T=>e(T.target.value),onFocus:()=>w(!0),placeholder:"Buscar...",className:`bg-gray-800 text-white px-4 py-2 rounded-full border border-gray-700 focus:outline-none focus:border-blue-500 transition-all duration-300 ${_?"w-60":"w-32 md:w-40"}`}),y.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),t.length>0&&y.jsxs("div",{className:"absolute mt-2 w-full md:w-80 right-0 bg-gray-900 rounded-lg shadow-lg border border-gray-800 z-50 max-h-96 overflow-y-auto",children:[y.jsxs("div",{className:"p-3 border-b border-gray-800 flex justify-between items-center",children:[y.jsx("h3",{className:"font-medium",children:"Resultados"}),y.jsx("button",{onClick:()=>s([]),className:"text-gray-500 hover:text-gray-300",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a?y.jsx("div",{className:"text-center py-8",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):c?y.jsx("div",{className:"text-center text-red-500 p-4",children:c}):y.jsxs("div",{className:"p-2",children:[t.map(T=>y.jsxs("div",{className:"flex p-2 hover:bg-gray-800 rounded-lg cursor-pointer transition-colors",onClick:()=>{z(`/movie/${T.id}`),s([])},children:[y.jsx("div",{className:"flex-shrink-0 w-12 h-16 bg-gray-800 rounded overflow-hidden",children:T.poster_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w92${T.poster_path}`,alt:T.title,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-gray-500",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),y.jsxs("div",{className:"ml-3",children:[y.jsx("h4",{className:"font-medium line-clamp-1",children:T.title}),y.jsxs("div",{className:"flex items-center text-xs text-yellow-500",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{children:M(T.vote_average)})]})]})]},T.id)),y.jsx("div",{className:"mt-2 py-2 text-center text-sm text-blue-500 hover:text-blue-400 cursor-pointer border-t border-gray-800",onClick:()=>{z(`/search?q=${encodeURIComponent(r)}`),s([])},children:"Ver todos los resultados"})]})]})]}),q&&y.jsxs(Wt,{to:"/favorites",className:"hidden md:flex items-center hover:text-yellow-400 transition-colors relative",children:[y.jsx("span",{className:"text-xl",children:"⭐"}),N&&N.length>0&&y.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:N.length})]}),y.jsx("div",{className:"hidden md:block",children:q?y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"text-sm text-gray-300 truncate max-w-[120px]",children:q.email}),y.jsx("button",{onClick:ne,className:"bg-red-600 hover:bg-red-700 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Salir"})]}):y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:ie,className:"bg-blue-600 hover:bg-blue-700 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Ingresar"}),y.jsx("button",{onClick:te,className:"bg-gray-700 hover:bg-gray-600 py-1.5 px-3 rounded-full text-sm transition-colors",children:"Registro"})]})}),y.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:()=>g(!m),children:m?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),m&&y.jsxs("div",{className:"md:hidden mt-4 py-4 border-t border-gray-800 space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Wt,{to:"/",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Inicio"}),y.jsx(Wt,{to:"/peliculas",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Películas"}),y.jsx(Wt,{to:"/series",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Series"}),y.jsx(Wt,{to:"/estrenos",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Estrenos"}),q&&y.jsxs(y.Fragment,{children:[y.jsx(Wt,{to:"/dashboard",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:"Mi Cuevana"}),y.jsxs(Wt,{to:"/favorites",className:"block py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>g(!1),children:["Mis Favoritos",N&&N.length>0&&y.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full px-2 py-1",children:N.length})]})]})]}),y.jsx("div",{className:"pt-2 border-t border-gray-800",children:q?y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"text-sm text-gray-300",children:q.email}),y.jsx("button",{onClick:ne,className:"w-full bg-red-600 hover:bg-red-700 py-2 rounded-lg text-sm transition-colors",children:"Cerrar sesión"})]}):y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsx("button",{onClick:ie,className:"bg-blue-600 hover:bg-blue-700 py-2 rounded-lg text-sm transition-colors",children:"Iniciar sesión"}),y.jsx("button",{onClick:te,className:"bg-gray-700 hover:bg-gray-600 py-2 rounded-lg text-sm transition-colors",children:"Registrarse"})]})})]})]})})})}const Zl="521b418e6b0c0227a624515e80c9288a",Jl="https://api.themoviedb.org/3",fh=({title:r,movies:e})=>{vn();const t=j.useRef(null),[s,a]=j.useState(!1),[l,c]=j.useState(0),[d,m]=j.useState(0),g=()=>{t.current&&t.current.scrollTo({left:t.current.scrollLeft-300,behavior:"smooth"})},_=()=>{t.current&&t.current.scrollTo({left:t.current.scrollLeft+300,behavior:"smooth"})},w=N=>{var q,Q;a(!0),c(N.pageX-(((q=t.current)==null?void 0:q.offsetLeft)||0)),m(((Q=t.current)==null?void 0:Q.scrollLeft)||0)},R=N=>{var q,Q;a(!0),c(N.touches[0].pageX-(((q=t.current)==null?void 0:q.offsetLeft)||0)),m(((Q=t.current)==null?void 0:Q.scrollLeft)||0)},I=()=>{a(!1)},C=N=>{if(s&&(N.preventDefault(),t.current)){const Q=(N.pageX-(t.current.offsetLeft||0)-l)*2;t.current.scrollLeft=d-Q}},z=N=>{if(s&&t.current){const Q=(N.touches[0].pageX-(t.current.offsetLeft||0)-l)*2;t.current.scrollLeft=d-Q}};return y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold",children:r}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:g,className:"bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-full","aria-label":"Desplazar a la izquierda",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsx("button",{onClick:_,className:"bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-full","aria-label":"Desplazar a la derecha",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),y.jsx("div",{ref:t,className:"flex overflow-x-auto scrollbar-hide gap-4 pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},onMouseDown:w,onMouseUp:I,onMouseLeave:I,onMouseMove:C,onTouchStart:R,onTouchEnd:I,onTouchMove:z,children:e.map(N=>y.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:y.jsx(ko,{id:N.id,title:N.title,poster:`https://image.tmdb.org/t/p/w500${N.poster_path}`,rating:N.vote_average})},N.id))})]})};function f4(){var ne;const r=vn(),[e,t]=j.useState([]),[s,a]=j.useState([]),[l,c]=j.useState([]),[d,m]=j.useState([]),[g,_]=j.useState(null),[w,R]=j.useState([]),[I,C]=j.useState(!0),[z,N]=j.useState(0),[q,Q]=j.useState(null);j.useEffect(()=>{(async()=>{C(!0);try{const A=await De.get(`${Jl}/trending/movie/day?api_key=${Zl}`);t(A.data.results),A.data.results.length>0&&Q(A.data.results[Math.floor(Math.random()*5)]);const D=await De.get(`${Jl}/movie/popular?api_key=${Zl}`);a(D.data.results);const V=await De.get(`${Jl}/movie/top_rated?api_key=${Zl}`);c(V.data.results);const B=await De.get(`${Jl}/genre/movie/list?api_key=${Zl}`);m(B.data.genres)}catch(A){console.error("Error fetching movies:",A)}finally{C(!1)}})();const T=setInterval(()=>{e.length>0&&(N(A=>(A+1)%Math.min(5,e.length)),Q(e[z]))},8e3);return()=>clearInterval(T)},[z,e.length]),j.useEffect(()=>{(async()=>{if(g!==null)try{const T=await De.get(`${Jl}/discover/movie?api_key=${Zl}&with_genres=${g}`);R(T.data.results)}catch(T){console.error("Error fetching genre movies:",T)}})()},[g]);const X=M=>{_(M===g?null:M)},te=()=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]}),ie=()=>y.jsxs("div",{className:"mb-8",children:[y.jsx("div",{className:"h-8 bg-gray-800 rounded w-64 mb-4 animate-pulse"}),y.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(5)].map((M,T)=>y.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:y.jsx(te,{})},T))})]});return I?y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),y.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse mb-6"}),y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsx(ie,{}),y.jsx(ie,{}),y.jsx(ie,{})]})]}):y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),q&&y.jsxs("div",{className:"relative h-[60vh] mb-8",children:[y.jsxs("div",{className:"absolute inset-0",children:[y.jsx("img",{src:`https://image.tmdb.org/t/p/original${q.backdrop_path}`,alt:q.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"})]}),y.jsxs("div",{className:"container mx-auto px-4 relative h-full flex flex-col justify-center",children:[y.jsxs("div",{className:"max-w-xl",children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:q.title}),y.jsxs("div",{className:"flex items-center mb-6",children:[y.jsxs("span",{className:"inline-flex items-center bg-yellow-600 text-white px-3 py-1 rounded-full text-sm font-medium mr-2",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),q.vote_average.toFixed(1)]}),y.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Trending"})]}),y.jsx("button",{onClick:()=>r(`/movie/${q.id}`),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 transform hover:scale-105",children:"Ver detalles"})]}),y.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2",children:e.slice(0,5).map((M,T)=>y.jsx("button",{onClick:()=>{N(T),Q(e[T])},className:`w-3 h-3 rounded-full transition-all ${T===z?"bg-white scale-125":"bg-white/50"}`,"aria-label":`Go to slide ${T+1}`},T))})]})]}),y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Explorar por Género"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-6 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:d.map(M=>y.jsx("button",{onClick:()=>X(M.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex-shrink-0 ${g===M.id?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:M.name},M.id))}),g&&w.length>0&&y.jsx(fh,{title:`${((ne=d.find(M=>M.id===g))==null?void 0:ne.name)||"Género"} Movies`,movies:w})]}),y.jsx(fh,{title:"Trending Hoy",movies:e}),y.jsx(fh,{title:"Películas Populares",movies:s}),y.jsx(fh,{title:"Mejor Valoradas",movies:l})]}),y.jsx("style",{jsx:!0,global:!0,children:`
                .scrollbar-hide::-webkit-scrollbar {
                    display: none;
                }
                .scrollbar-hide {
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                }
            `}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Creado con 🎬 y ❤️"}),y.jsx("p",{children:"Usando la API de TMDB"})]})})]})}function d4(){const{user:r,bio:e}=j.useContext(_a),[t,s]=j.useState(e);async function a(l){l.preventDefault(),r&&(await Hp(fu(du,"users",r.uid),{bio:t}),alert("Biografía actualizada"))}return y.jsxs("form",{onSubmit:a,className:"mt-4",children:[y.jsx("textarea",{value:t,onChange:l=>s(l.target.value),className:"w-full p-2 rounded-lg bg-gray-800 text-white",placeholder:"Escribe tu biografía..."}),y.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mt-2",children:"Guardar Biografía"})]})}function m4(){const{user:r,bio:e}=j.useContext(_a),{favorites:t}=Of();return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(yn,{}),y.jsxs("div",{className:"container mx-auto p-4",children:[y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Bienvenido a tu Dashboard"}),y.jsxs("p",{className:"text-gray-300",children:["Hola ",y.jsx("span",{className:"font-bold",children:r==null?void 0:r.email}),", ",e?`tu biografía: ${e}`:"aún no has agregado una biografía."]}),y.jsx(d4,{})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Tus Estadísticas"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg text-center",children:[y.jsx("p",{className:"text-3xl font-bold text-blue-400",children:t.length}),y.jsx("p",{className:"text-gray-400",children:"Películas Favoritas"})]}),y.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg text-center",children:[y.jsx("p",{className:"text-3xl font-bold text-green-400",children:t.length>0?(t.reduce((s,a)=>s+a.vote_average,0)/t.length).toFixed(1):"0.0"}),y.jsx("p",{className:"text-gray-400",children:"Rating Promedio"})]})]})]}),y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Actividad Reciente"}),y.jsxs("ul",{className:"space-y-2 text-gray-300",children:[y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-blue-400",children:"•"}),"Has iniciado sesión exitosamente"]}),t.length>0&&y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-yellow-400",children:"•"}),"Has añadido ",t.length," películas a favoritos"]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-green-400",children:"•"}),"Has accedido a tu dashboard"]})]})]})]}),y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:"Tus Películas Favoritas"}),t.length>0&&y.jsx(Wt,{to:"/favorites",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Ver todas"})]}),t.length===0?y.jsx("p",{className:"text-gray-400 text-center py-8",children:"No has añadido películas a favoritos aún. ¡Explora nuestra colección y añade algunas!"}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.slice(0,4).map(s=>y.jsx(ko,{id:s.id,title:s.title,poster:`https://image.tmdb.org/t/p/w500${s.poster_path}`,rating:s.vote_average,movie:s},s.id))})]})]})]})}function p4(){var g;const{user:r,updateUserBio:e}=j.useContext(_a),[t,s]=j.useState((r==null?void 0:r.bio)||""),[a,l]=j.useState(!1),[c,d]=j.useState(!1),m=async()=>{if(r){d(!0);try{await e(t),l(!1)}catch(_){console.error("Error al guardar la biografía:",_)}finally{d(!1)}}};return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(yn,{}),y.jsxs("div",{className:"container mx-auto p-4",children:[y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tu Perfil"}),y.jsx("p",{className:"text-gray-300",children:"Administra tu información personal y preferencias"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[y.jsxs("div",{className:"flex flex-col items-center mb-6",children:[y.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded-full mb-4 flex items-center justify-center text-2xl text-white font-bold",children:(g=r==null?void 0:r.email)==null?void 0:g.charAt(0).toUpperCase()}),y.jsx("h2",{className:"text-xl font-bold text-white",children:r==null?void 0:r.email})]}),y.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[y.jsx("p",{className:"text-gray-400 text-sm",children:"Miembro desde"}),y.jsx("p",{className:"text-white",children:r!=null&&r.metadata.creationTime?new Date(r.metadata.creationTime).toLocaleDateString():"Fecha desconocida"})]})]}),y.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 col-span-2",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:"Sobre Ti"}),a?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>{l(!1),s((r==null?void 0:r.bio)||"")},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm",disabled:c,children:"Cancelar"}),y.jsx("button",{onClick:m,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",disabled:c,children:c?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando"]}):"Guardar"})]}):y.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Editar"})]}),a?y.jsx("textarea",{value:t,onChange:_=>s(_.target.value),className:"w-full bg-gray-800 text-white rounded-lg p-3 min-h-32 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Cuéntanos un poco sobre ti, tus películas favoritas, géneros preferidos, etc."}):y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:r!=null&&r.bio?y.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:r.bio}):y.jsx("p",{className:"text-gray-500 italic",children:"No has añadido una biografía aún. Haz clic en 'Editar' para agregar información sobre ti."})})]})]})]})]})}function g4({movie:r,videos:e,handleFavoriteToggle:t,isFavorited:s}){const a=c=>{const d=document.createElement("div");d.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",d.innerHTML=`
            <div class="relative w-full max-w-4xl mx-4">
                <div class="absolute top-0 right-0 m-4">
                    <button class="bg-gray-800 rounded-full p-2 text-white hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="aspect-video w-full">
                    <iframe 
                        width="100%" 
                        height="100%" 
                        src="https://www.youtube.com/embed/${c}?autoplay=1" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                    ></iframe>
                </div>
            </div>
        `,document.body.appendChild(d);const m=d.querySelector("button");m==null||m.addEventListener("click",()=>{document.body.removeChild(d)}),d.addEventListener("click",g=>{g.target===d&&document.body.removeChild(d)})},l=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(c);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"w-full h-[80vh] lg:h-[70vh]",children:[y.jsx("img",{src:`https://image.tmdb.org/t/p/original${r.backdrop_path}`,alt:r.title,className:"w-full h-full object-cover",onError:c=>{c.currentTarget.src="https://via.placeholder.com/1440x800?text=No+Backdrop+Available"}}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"})]}),e.length>0&&y.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:y.jsxs("button",{className:"bg-red-600 bg-opacity-90 hover:bg-opacity-100 rounded-full w-20 h-20 flex items-center justify-center transition-all duration-300 hover:scale-110",onClick:()=>a(e[0].key),children:[y.jsx("span",{className:"sr-only",children:"Ver trailer"}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})]})})]}),y.jsx("div",{className:"container mx-auto p-4 -mt-40 relative z-10",children:y.jsx("div",{className:"bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:y.jsx("div",{className:"p-6 md:p-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[y.jsxs("div",{className:"md:w-1/3 lg:w-1/4",children:[y.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg transform -translate-y-16 border-4 border-gray-800",children:y.jsx("img",{src:`https://image.tmdb.org/t/p/w500${r.poster_path}`,alt:r.title,className:"w-full h-auto",onError:c=>{c.currentTarget.src="https://via.placeholder.com/500x750?text=No+Poster+Available"}})}),y.jsxs("div",{className:"mt-4 space-y-3",children:[y.jsxs("button",{onClick:t,className:`w-full py-3 rounded-lg flex items-center justify-center transition-colors font-medium text-sm ${s?"bg-yellow-500 hover:bg-yellow-600 text-gray-900":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[y.jsx("span",{className:"mr-2 text-lg",children:s?"⭐":"☆"}),s?"Quitar de favoritos":"Añadir a favoritos"]}),e.length>0&&y.jsxs("button",{onClick:()=>a(e[0].key),className:"md:hidden w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center transition-colors font-medium text-sm",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Ver trailer"]})]}),y.jsxs("div",{className:"mt-6 bg-gray-900 rounded-xl p-5 space-y-3",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Estado"}),y.jsx("p",{className:"font-medium",children:r.status||"N/A"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Fecha de estreno"}),y.jsx("p",{className:"font-medium",children:new Date(r.release_date).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Duración"}),y.jsxs("p",{className:"font-medium",children:[r.runtime," minutos"]})]}),r.budget>0&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Presupuesto"}),y.jsx("p",{className:"font-medium",children:l(r.budget)})]}),r.revenue>0&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-400 text-sm",children:"Recaudación"}),y.jsx("p",{className:"font-medium",children:l(r.revenue)})]})]})]}),y.jsxs("div",{className:"md:w-2/3 lg:w-3/4",children:[y.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.title}),r.tagline&&y.jsx("p",{className:"text-gray-400 text-xl italic mb-4",children:r.tagline}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[y.jsxs("div",{className:"flex items-center bg-yellow-600 text-white px-3 py-1 rounded-full font-medium",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),r.vote_average.toFixed(1)]}),y.jsx("span",{className:"text-gray-400",children:"•"}),y.jsx("span",{className:"text-gray-300",children:new Date(r.release_date).getFullYear()}),y.jsx("span",{className:"text-gray-400",children:"•"}),y.jsxs("span",{className:"text-gray-300",children:[r.runtime," min"]})]}),y.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:r.genres.map(c=>y.jsx("span",{className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 cursor-pointer rounded-full text-sm",children:c.name},c.id))})]})]})})})})]})}function y4({movie:r,cast:e,videos:t,similarMovies:s}){const[a,l]=j.useState("overview"),c=vn(),d=m=>{const g=document.createElement("div");g.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",g.innerHTML=`
            <div class="relative w-full max-w-4xl mx-4">
                <div class="absolute top-0 right-0 m-4">
                    <button class="bg-gray-800 rounded-full p-2 text-white hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="aspect-video w-full">
                    <iframe 
                        width="100%" 
                        height="100%" 
                        src="https://www.youtube.com/embed/${m}?autoplay=1" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                    ></iframe>
                </div>
            </div>
        `,document.body.appendChild(g);const _=g.querySelector("button");_==null||_.addEventListener("click",()=>{document.body.removeChild(g)}),g.addEventListener("click",w=>{w.target===g&&document.body.removeChild(g)})};return y.jsxs("div",{className:"container mx-auto p-4",children:[y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 md:p-8 mt-4",children:[y.jsx("div",{className:"mb-6 border-b border-gray-700",children:y.jsxs("div",{className:"flex space-x-6",children:[y.jsxs("button",{onClick:()=>l("overview"),className:`py-3 font-medium relative ${a==="overview"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Sinopsis",a==="overview"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),y.jsxs("button",{onClick:()=>l("cast"),className:`py-3 font-medium relative ${a==="cast"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Reparto",a==="cast"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]}),t.length>0&&y.jsxs("button",{onClick:()=>l("videos"),className:`py-3 font-medium relative ${a==="videos"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Videos",a==="videos"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-600"})]})]})}),y.jsxs("div",{className:"min-h-[200px]",children:[a==="overview"&&y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-300 leading-relaxed text-lg",children:r.overview||"No hay sinopsis disponible para esta película."}),r.production_companies&&r.production_companies.length>0&&y.jsxs("div",{className:"mt-8",children:[y.jsx("h3",{className:"text-lg font-medium mb-3",children:"Productoras"}),y.jsx("div",{className:"flex flex-wrap gap-6",children:r.production_companies.map(m=>y.jsx("div",{className:"text-center",children:m.logo_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w200${m.logo_path}`,alt:m.name,className:"h-10 object-contain bg-gray-900 rounded p-1"}):y.jsx("div",{className:"h-10 bg-gray-900 rounded p-2 flex items-center justify-center",children:y.jsx("span",{children:m.name})})},m.name))})]})]}),a==="cast"&&y.jsx("div",{children:e.length>0?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map(m=>y.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-800",children:m.profile_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w200${m.profile_path}`,alt:m.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"font-medium truncate",children:m.name}),y.jsx("p",{className:"text-sm text-gray-400 truncate",children:m.character})]})]},m.id))}):y.jsx("p",{className:"text-gray-400",children:"No hay información de reparto disponible."})}),a==="videos"&&y.jsx("div",{children:t.length>0?y.jsxs("div",{children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg",children:y.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${t[0].key}`,title:t[0].name,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),y.jsx("h3",{className:"mt-2 font-medium text-lg",children:t[0].name}),y.jsx("p",{className:"text-sm text-gray-400",children:t[0].type})]}),t.length>1&&y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-medium mb-3",children:"Más videos"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.slice(1).map(m=>y.jsxs("div",{onClick:()=>d(m.key),className:"bg-gray-900 rounded-lg overflow-hidden group cursor-pointer",children:[y.jsxs("div",{className:"aspect-video relative",children:[y.jsx("img",{src:`https://img.youtube.com/vi/${m.key}/mqdefault.jpg`,alt:m.name,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 group-hover:bg-opacity-30 transition-all",children:y.jsx("div",{className:"bg-red-600 rounded-full p-3 group-hover:scale-110 transition-transform",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"font-medium line-clamp-1",children:m.name}),y.jsx("p",{className:"text-sm text-gray-400",children:m.type})]})]},m.key))})]})]}):y.jsx("p",{className:"text-gray-400",children:"No hay videos disponibles."})})]})]}),s.length>0&&y.jsxs("div",{className:"mt-12 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Películas similares"}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map(m=>y.jsxs("div",{onClick:()=>c(`/movie/${m.id}`),className:"bg-gray-800 rounded-lg overflow-hidden hover:scale-105 transition-transform cursor-pointer",children:[y.jsx("div",{className:"aspect-[2/3]",children:m.poster_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w200${m.poster_path}`,alt:m.title,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900 text-gray-600",children:y.jsx("span",{className:"text-sm text-center p-2",children:"No image"})})}),y.jsxs("div",{className:"p-2",children:[y.jsx("h4",{className:"font-medium truncate text-sm",children:m.title}),y.jsxs("div",{className:"flex items-center text-yellow-500 text-sm",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{children:m.vote_average.toFixed(1)})]})]})]},m.id))})]})]})}function v4(){const{id:r}=aR(),[e,t]=j.useState(null),[s,a]=j.useState([]),[l,c]=j.useState([]),[d,m]=j.useState([]),[g,_]=j.useState(!0),[w,R]=j.useState(null),{addFavorite:I,removeFavorite:C,isFavorite:z}=Of(),N="521b418e6b0c0227a624515e80c9288a";j.useEffect(()=>{r&&(async()=>{_(!0),R(null);try{const te=await De.get(`https://api.themoviedb.org/3/movie/${r}?api_key=${N}`);t(te.data);const ie=await De.get(`https://api.themoviedb.org/3/movie/${r}/credits?api_key=${N}`);a(ie.data.cast.slice(0,10));const ne=await De.get(`https://api.themoviedb.org/3/movie/${r}/videos?api_key=${N}`);c(ne.data.results.filter(T=>T.site==="YouTube"&&(T.type==="Trailer"||T.type==="Teaser")).slice(0,3));const M=await De.get(`https://api.themoviedb.org/3/movie/${r}/similar?api_key=${N}`);m(M.data.results.slice(0,6))}catch(te){console.error("Error fetching movie data:",te),R("Error fetching movie details. Please try again later.")}finally{_(!1)}})()},[r,N]);const q=e?z(e.id):!1,Q=()=>{e&&(q?C(e.id):I({id:e.id,title:e.title,poster_path:e.poster_path,vote_average:e.vote_average}))};return g?y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),y.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse"}),y.jsx("div",{className:"container mx-auto p-4 -mt-24 relative z-10",children:y.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse",children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[y.jsx("div",{className:"md:w-1/3 h-96 bg-gray-700 rounded-lg"}),y.jsxs("div",{className:"md:w-2/3",children:[y.jsx("div",{className:"h-8 bg-gray-700 rounded w-3/4 mb-4"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-6"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4 mb-6"}),y.jsx("div",{className:"h-32 bg-gray-700 rounded mb-6"})]})]})})})]}):w||!e?y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),y.jsx("div",{className:"container mx-auto p-4 flex items-center justify-center flex-grow",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:"😕"}),y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Algo salió mal"}),y.jsx("p",{className:"text-gray-400 mb-6",children:w||"No se pudo encontrar la película"}),y.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Volver atrás"})]})})]}):y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),y.jsx(g4,{movie:e,videos:l,handleFavoriteToggle:Q,isFavorited:q}),y.jsx(y4,{movie:e,cast:s,videos:l,similarMovies:d}),y.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 bg-red-600 hover:bg-red-700 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})}function _4(){const{favorites:r}=Of();return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(yn,{}),y.jsxs("div",{className:"container mx-auto p-4",children:[y.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Favorites"}),r.length===0?y.jsxs("div",{className:"text-center p-8 bg-gray-900 rounded-lg",children:[y.jsx("p",{className:"text-xl",children:"You haven't added any favorites yet."}),y.jsx("p",{className:"text-gray-400 mt-2",children:"Browse movies and click the heart button to start building your collection."})]}):y.jsxs("div",{children:[y.jsxs("p",{className:"mb-4 text-lg",children:["You have ",r.length," favorite ",r.length===1?"movie":"movies"]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map(e=>y.jsx("div",{className:"relative",children:y.jsx(ko,{id:e.id,title:e.title,poster:`https://image.tmdb.org/t/p/w500${e.poster_path}`,rating:e.vote_average,movie:e})},e.id))})]})]})]})}function E4(){const[r,e]=j.useState(""),[t,s]=j.useState(""),a=vn();async function l(c){c.preventDefault();try{const d=await h2(Zh,r,t);return a("/dashboard",{replace:!0}),d.user.uid}catch(d){alert(d.message)}}return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(yn,{}),y.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center flex-grow",children:y.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg shadow-lg w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Iniciar Sesión"}),y.jsxs("form",{onSubmit:l,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-white mb-2",children:"Email"}),y.jsx("input",{id:"email",type:"email",placeholder:"Ingresa tu email",value:r,onChange:c=>e(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-white mb-2",children:"Contraseña"}),y.jsx("input",{id:"password",type:"password",placeholder:"Ingresa tu contraseña",value:t,onChange:c=>s(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline",children:"Iniciar Sesión"})]}),y.jsx("div",{className:"mt-4 text-center",children:y.jsxs("p",{className:"text-gray-400",children:["¿No tienes una cuenta?"," ",y.jsx("button",{onClick:()=>a("/signup"),className:"text-blue-500 hover:underline focus:outline-none",children:"Registrarse"})]})})]})})]})}function b4(){const[r,e]=j.useState(""),[t,s]=j.useState(""),a=vn();async function l(c){c.preventDefault();try{const d=await c2(Zh,r,t);return a("/dashboard",{replace:!0}),d.user.uid}catch(d){alert(d.message)}}return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(yn,{}),y.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center flex-grow",children:y.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg shadow-lg w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Crear Cuenta"}),y.jsxs("form",{onSubmit:l,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-white mb-2",children:"Email"}),y.jsx("input",{id:"email",type:"email",placeholder:"Ingresa tu email",value:r,onChange:c=>e(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-white mb-2",children:"Contraseña"}),y.jsx("input",{id:"password",type:"password",placeholder:"Ingresa tu contraseña",value:t,onChange:c=>s(c.target.value),className:"w-full p-3 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500",required:!0})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline",children:"Registrarse"})]}),y.jsx("div",{className:"mt-4 text-center",children:y.jsxs("p",{className:"text-gray-400",children:["¿Ya tienes una cuenta?"," ",y.jsx("button",{onClick:()=>a("/login"),className:"text-blue-500 hover:underline focus:outline-none",children:"Iniciar sesión"})]})})]})})]})}const ob="521b418e6b0c0227a624515e80c9288a";function w4(){const[r,e]=Wp();vn();const[t,s]=j.useState([]),[a,l]=j.useState([]),[c,d]=j.useState(r.get("genero")?Number(r.get("genero")):null),[m,g]=j.useState(1),[_,w]=j.useState(0),[R,I]=j.useState(!0),[C,z]=j.useState(r.get("orden")||"popularity.desc"),[N,q]=j.useState(r.get("año")||"");j.useEffect(()=>{(async()=>{try{const M=await De.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${ob}&language=es-ES`);l(M.data.genres)}catch(M){console.error("Error fetching genres:",M)}})()},[]),j.useEffect(()=>{(async()=>{I(!0);let T="discover/movie",A=`api_key=${ob}&language=es-ES&page=${m}&sort_by=${C}`;c&&(A+=`&with_genres=${c}`),N&&(A+=`&primary_release_year=${N}`);try{const D=await De.get(`https://api.themoviedb.org/3/${T}?${A}`);s(D.data.results),w(D.data.total_pages>500?500:D.data.total_pages)}catch(D){console.error("Error fetching movies:",D)}finally{I(!1)}})();const M={};c&&(M.genero=c.toString()),C&&(M.orden=C),N&&(M.año=N),e(M)},[m,c,C,N,e]);const Q=ne=>{d(ne===c?null:ne),g(1)},X=ne=>{z(ne.target.value),g(1)},te=ne=>{q(ne.target.value),g(1)},ie=ne=>{const M=a.find(T=>T.id===ne);return M?M.name:""};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Películas"}),y.jsxs("p",{className:"text-gray-400 mt-1",children:["Explora nuestra colección de películas",c&&a.length>0&&y.jsxs("span",{children:[" de ",ie(c)]})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0",children:[y.jsxs("select",{value:N,onChange:te,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Todos los años"}),[...Array(30)].map((ne,M)=>{const T=new Date().getFullYear()-M;return y.jsx("option",{value:T,children:T},T)})]}),y.jsxs("select",{value:C,onChange:X,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"popularity.desc",children:"Más populares"}),y.jsx("option",{value:"vote_average.desc",children:"Mejor valoradas"}),y.jsx("option",{value:"primary_release_date.desc",children:"Más recientes"}),y.jsx("option",{value:"revenue.desc",children:"Más taquilleras"}),y.jsx("option",{value:"title.asc",children:"Título A-Z"})]})]})]}),y.jsx("div",{className:"mb-8 overflow-x-auto pb-2",children:y.jsx("div",{className:"flex space-x-2",children:a.map(ne=>y.jsx("button",{onClick:()=>Q(ne.id),className:`px-4 py-2 rounded-full text-sm font-medium flex-shrink-0 transition-colors ${c===ne.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:ne.name},ne.id))})}),R?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((ne,M)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},M))}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(ne=>y.jsx(ko,{id:ne.id,title:ne.title,poster:`https://image.tmdb.org/t/p/w500${ne.poster_path}`,rating:ne.vote_average},ne.id))}),_>1&&y.jsx("div",{className:"flex justify-center mt-10",children:y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:()=>g(ne=>Math.max(ne-1,1)),disabled:m===1,className:`px-4 py-2 rounded-md ${m===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),m>3&&y.jsx("button",{onClick:()=>g(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),m>4&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((ne,M)=>{const T=m-2+M;return T>0&&T<=_?y.jsx("button",{onClick:()=>g(T),className:`px-4 py-2 rounded-md ${m===T?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:T},T):null}),m<_-3&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),m<_-2&&y.jsx("button",{onClick:()=>g(_),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:_}),y.jsx("button",{onClick:()=>g(ne=>Math.min(ne+1,_)),disabled:m===_,className:`px-4 py-2 rounded-md ${m===_?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todas las películas"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const lb="521b418e6b0c0227a624515e80c9288a";function T4({id:r,title:e,poster:t,rating:s}){const a=vn(),l=()=>{a(`/series/${r}`)},c=g=>{g.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"},d=Number(s).toFixed(1),m=()=>s>=8?"bg-green-600":s>=6?"bg-yellow-600":"bg-red-600";return y.jsxs("div",{className:"relative overflow-hidden bg-gray-900 rounded-lg shadow-lg transition-all duration-300 hover:shadow-2xl cursor-pointer hover:scale-105",onClick:l,children:[y.jsx("div",{className:`absolute top-2 right-2 ${m()} text-white text-sm font-bold rounded-full h-9 w-9 flex items-center justify-center z-20 shadow-md`,children:d}),y.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[y.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover",onError:c}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-70"})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-white font-semibold text-lg truncate",children:e}),y.jsxs("div",{className:"flex items-center text-yellow-400",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),y.jsx("span",{className:"text-sm text-gray-300",children:d})]})]})]})}function x4(){var M;const[r,e]=Wp(),[t,s]=j.useState([]),[a,l]=j.useState([]),[c,d]=j.useState(r.get("genero")?Number(r.get("genero")):null),[m,g]=j.useState(1),[_,w]=j.useState(0),[R,I]=j.useState(!0),[C,z]=j.useState(r.get("orden")||"popularity.desc"),[N,q]=j.useState(r.get("network")||""),Q=[{id:213,name:"Netflix"},{id:1024,name:"Amazon"},{id:2552,name:"Apple TV+"},{id:49,name:"HBO"},{id:67,name:"Showtime"},{id:337,name:"Disney+"},{id:4330,name:"Paramount+"},{id:2739,name:"Disney+ Hotstar"},{id:359,name:"Cinemax"},{id:174,name:"AMC"},{id:19,name:"FOX"},{id:6,name:"NBC"},{id:2,name:"ABC"},{id:4,name:"BBC"}];j.useEffect(()=>{(async()=>{try{const A=await De.get(`https://api.themoviedb.org/3/genre/tv/list?api_key=${lb}&language=es-ES`);l(A.data.genres)}catch(A){console.error("Error fetching genres:",A)}})()},[]),j.useEffect(()=>{(async()=>{I(!0);let D="discover/tv",V=`api_key=${lb}&language=es-ES&page=${m}&sort_by=${C}`;c&&(V+=`&with_genres=${c}`),N&&(V+=`&with_networks=${N}`);try{const B=await De.get(`https://api.themoviedb.org/3/${D}?${V}`);s(B.data.results),w(B.data.total_pages>500?500:B.data.total_pages)}catch(B){console.error("Error fetching series:",B)}finally{I(!1)}})();const A={};c&&(A.genero=c.toString()),C&&(A.orden=C),N&&(A.network=N),e(A)},[m,c,C,N,e]);const X=T=>{d(T===c?null:T),g(1)},te=T=>{z(T.target.value),g(1)},ie=T=>{q(T.target.value),g(1)},ne=T=>{const A=a.find(D=>D.id===T);return A?A.name:""};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Series"}),y.jsxs("p",{className:"text-gray-400 mt-1",children:["Explora nuestra colección de series",c&&a.length>0&&y.jsxs("span",{children:[" de ",ne(c)]}),N&&y.jsxs("span",{children:[" en ",((M=Q.find(T=>T.id.toString()===N))==null?void 0:M.name)||""]})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0",children:[y.jsxs("select",{value:N,onChange:ie,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Todas las plataformas"}),Q.map(T=>y.jsx("option",{value:T.id,children:T.name},T.id))]}),y.jsxs("select",{value:C,onChange:te,className:"bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"popularity.desc",children:"Más populares"}),y.jsx("option",{value:"vote_average.desc",children:"Mejor valoradas"}),y.jsx("option",{value:"first_air_date.desc",children:"Más recientes"}),y.jsx("option",{value:"name.asc",children:"Título A-Z"})]})]})]}),y.jsx("div",{className:"mb-8 overflow-x-auto pb-2",children:y.jsx("div",{className:"flex space-x-2",children:a.map(T=>y.jsx("button",{onClick:()=>X(T.id),className:`px-4 py-2 rounded-full text-sm font-medium flex-shrink-0 transition-colors ${c===T.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:T.name},T.id))})}),R?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((T,A)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},A))}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(T=>y.jsx(T4,{id:T.id,title:T.name,poster:`https://image.tmdb.org/t/p/w500${T.poster_path}`,rating:T.vote_average},T.id))}),_>1&&y.jsx("div",{className:"flex justify-center mt-10",children:y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:()=>g(T=>Math.max(T-1,1)),disabled:m===1,className:`px-4 py-2 rounded-md ${m===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),m>3&&y.jsx("button",{onClick:()=>g(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),m>4&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((T,A)=>{const D=m-2+A;return D>0&&D<=_?y.jsx("button",{onClick:()=>g(D),className:`px-4 py-2 rounded-md ${m===D?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:D},D):null}),m<_-3&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),m<_-2&&y.jsx("button",{onClick:()=>g(_),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:_}),y.jsx("button",{onClick:()=>g(T=>Math.min(T+1,_)),disabled:m===_,className:`px-4 py-2 rounded-md ${m===_?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todas las series"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const rp="521b418e6b0c0227a624515e80c9288a",ub=r=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString("es-ES",e)};function S4(){const r=vn(),[e,t]=j.useState([]),[s,a]=j.useState([]),[l,c]=j.useState(null),[d,m]=j.useState(!0);j.useEffect(()=>{(async()=>{m(!0);try{const R=(await De.get(`https://api.themoviedb.org/3/movie/now_playing?api_key=${rp}&language=es-ES&page=1&region=ES`)).data.results;if(t(R),R.length>0){const C=Math.floor(Math.random()*Math.min(5,R.length)),z=R[C].id,N=await De.get(`https://api.themoviedb.org/3/movie/${z}?api_key=${rp}&language=es-ES`);c(N.data)}const I=await De.get(`https://api.themoviedb.org/3/movie/upcoming?api_key=${rp}&language=es-ES&page=1&region=ES`);a(I.data.results)}catch(w){console.error("Error fetching movies:",w)}finally{m(!1)}})()},[]);const g={};return s.forEach(_=>{if(!_.release_date)return;const w=new Date(_.release_date),R=`${w.toLocaleString("es-ES",{month:"long"})} ${w.getFullYear()}`;g[R]||(g[R]=[]),g[R].push(_)}),y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),d?y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("div",{className:"h-96 w-full bg-gray-800 animate-pulse mb-10 rounded-xl"}),y.jsx("div",{className:"h-8 w-64 bg-gray-800 animate-pulse mb-6"}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[...Array(5)].map((_,w)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},w))}),y.jsx("div",{className:"h-8 w-64 bg-gray-800 animate-pulse my-6"}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[...Array(5)].map((_,w)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},w))})]}):y.jsxs(y.Fragment,{children:[l&&y.jsxs("div",{className:"relative w-full h-[60vh] mb-10",children:[y.jsxs("div",{className:"absolute inset-0",children:[y.jsx("img",{src:`https://image.tmdb.org/t/p/original${l.backdrop_path}`,alt:l.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"})]}),y.jsx("div",{className:"container mx-auto px-4 h-full flex items-center",children:y.jsxs("div",{className:"max-w-xl z-10",children:[y.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-3",children:l.title}),y.jsxs("div",{className:"flex items-center text-sm mb-4",children:[y.jsx("span",{className:"bg-blue-600 px-2 py-1 rounded-md font-medium mr-3",children:"ESTRENO"}),y.jsx("span",{className:"text-gray-300",children:ub(l.release_date)}),y.jsx("span",{className:"mx-2",children:"•"}),y.jsxs("span",{className:"flex items-center text-yellow-400",children:[y.jsx("span",{className:"mr-1",children:"⭐"}),l.vote_average.toFixed(1)]})]}),y.jsx("p",{className:"text-gray-300 mb-6 line-clamp-3",children:l.overview}),y.jsx("button",{onClick:()=>r(`/movie/${l.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Ver detalles"})]})})]}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"mb-12",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"En cines ahora"}),y.jsx("button",{onClick:()=>r("/peliculas?orden=primary_release_date.desc"),className:"text-blue-500 hover:text-blue-400 text-sm font-medium",children:"Ver todos"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.slice(0,5).map(_=>y.jsx(ko,{id:_.id,title:_.title,poster:`https://image.tmdb.org/t/p/w500${_.poster_path}`,rating:_.vote_average},_.id))})]}),y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Próximos estrenos"}),Object.keys(g).sort().map(_=>y.jsxs("div",{className:"mb-10",children:[y.jsx("h3",{className:"text-xl font-medium mb-4 text-blue-500",children:_.charAt(0).toUpperCase()+_.slice(1)}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:g[_].map(w=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer transition-transform hover:scale-105",onClick:()=>r(`/movie/${w.id}`),children:[y.jsxs("div",{className:"relative aspect-[2/3]",children:[w.poster_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w500${w.poster_path}`,alt:w.title,className:"w-full h-full object-cover",onError:R=>{R.currentTarget.src="https://via.placeholder.com/300x450?text=No+Image+Available"}}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-gray-500",children:y.jsx("span",{className:"text-sm text-center p-2",children:"Sin imagen"})}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-gray-900 to-transparent p-2",children:y.jsx("div",{className:"text-xs text-white font-medium",children:ub(w.release_date)})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"font-medium truncate",children:w.title}),y.jsxs("div",{className:"flex items-center text-xs text-blue-500",children:[y.jsx("span",{className:"mr-1",children:"📅"}),y.jsx("span",{children:"Próximamente"})]})]})]},w.id))})]},_))]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Todos los estrenos"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}const ip="521b418e6b0c0227a624515e80c9288a";function A4(){const[r,e]=Wp(),t=vn(),s=r.get("q")||"",[a,l]=j.useState("movies"),[c,d]=j.useState({movies:[],people:[],total_movies:0,total_people:0,total_results:0}),[m,g]=j.useState(!1),[_,w]=j.useState(null),[R,I]=j.useState(1),[C,z]=j.useState(0),[N,q]=j.useState(s);j.useEffect(()=>{if(!s)return;(async()=>{g(!0),w(null);try{const ie=await De.get(`https://api.themoviedb.org/3/search/movie?api_key=${ip}&language=es-ES&query=${s}&page=${R}&include_adult=false`),ne=await De.get(`https://api.themoviedb.org/3/search/person?api_key=${ip}&language=es-ES&query=${s}&page=1&include_adult=false`),M=await De.get(`https://api.themoviedb.org/3/search/multi?api_key=${ip}&language=es-ES&query=${s}&page=1&include_adult=false`);d({movies:ie.data.results,people:ne.data.results,total_movies:ie.data.total_results,total_people:ne.data.total_results,total_results:M.data.total_results}),z(ie.data.total_pages>500?500:ie.data.total_pages)}catch(ie){console.error("Error fetching search results:",ie),w("Ocurrió un error al buscar. Por favor intenta nuevamente.")}finally{g(!1)}})()},[s,R]);const Q=te=>{te.preventDefault(),N.trim()&&(I(1),e({q:N}))},X=te=>{l(te)};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[y.jsx(yn,{}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("div",{className:"mb-8",children:y.jsxs("form",{onSubmit:Q,className:"flex w-full max-w-3xl mx-auto",children:[y.jsx("input",{type:"text",value:N,onChange:te=>q(te.target.value),placeholder:"Buscar películas, actores, directores...",className:"w-full bg-gray-800 text-white border border-gray-700 rounded-l-lg px-5 py-3 focus:outline-none focus:border-blue-500"}),y.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-r-lg font-medium transition-colors",disabled:m,children:m?"Buscando...":"Buscar"})]})}),_?y.jsxs("div",{className:"text-center text-red-500 p-8 bg-gray-800 rounded-lg",children:[y.jsx("p",{className:"text-xl font-bold mb-2",children:"Error"}),y.jsx("p",{children:_})]}):s?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h1",{className:"text-2xl font-bold mb-1",children:['Resultados para: "',s,'"']}),y.jsxs("p",{className:"text-gray-400",children:["Se encontraron ",c.total_results," resultados"]})]}),y.jsx("div",{className:"mb-6 border-b border-gray-800",children:y.jsxs("div",{className:"flex space-x-8",children:[y.jsxs("button",{onClick:()=>X("movies"),className:`py-3 font-medium relative ${a==="movies"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Películas (",c.total_movies,")",a==="movies"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]}),y.jsxs("button",{onClick:()=>X("people"),className:`py-3 font-medium relative ${a==="people"?"text-white":"text-gray-400 hover:text-gray-300"}`,children:["Personas (",c.total_people,")",a==="people"&&y.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]})]})}),m?y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((te,ie)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden animate-pulse",children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700"}),y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 mb-2"}),y.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"})]})]},ie))}):y.jsxs(y.Fragment,{children:[a==="movies"&&y.jsx(y.Fragment,{children:c.movies.length===0?y.jsx("div",{className:"text-center py-12",children:y.jsxs("p",{className:"text-xl text-gray-400",children:['No se encontraron películas para "',s,'"']})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:c.movies.map(te=>y.jsx(ko,{id:te.id,title:te.title,poster:te.poster_path?`https://image.tmdb.org/t/p/w500${te.poster_path}`:"https://via.placeholder.com/300x450?text=No+Image",rating:te.vote_average},te.id))})}),a==="people"&&y.jsx(y.Fragment,{children:c.people.length===0?y.jsx("div",{className:"text-center py-12",children:y.jsxs("p",{className:"text-xl text-gray-400",children:['No se encontraron personas para "',s,'"']})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:c.people.map(te=>y.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>t(`/person/${te.id}`),children:[y.jsx("div",{className:"aspect-[2/3] bg-gray-700 relative",children:te.profile_path?y.jsx("img",{src:`https://image.tmdb.org/t/p/w500${te.profile_path}`,alt:te.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"font-medium text-lg",children:te.name}),y.jsx("p",{className:"text-sm text-gray-400",children:te.known_for_department}),te.known_for&&te.known_for.length>0&&y.jsxs("div",{className:"mt-2",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Conocido por:"}),y.jsx("div",{className:"text-xs text-gray-400 line-clamp-2",children:te.known_for.map((ie,ne)=>y.jsxs("span",{children:[ie.title||ie.name,ne<te.known_for.length-1?", ":""]},ne))})]})]})]},te.id))})}),a==="movies"&&C>1&&y.jsx("div",{className:"flex justify-center mt-10",children:y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:()=>I(te=>Math.max(te-1,1)),disabled:R===1,className:`px-4 py-2 rounded-md ${R===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Anterior"}),R>3&&y.jsx("button",{onClick:()=>I(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"1"}),R>4&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),[...Array(5)].map((te,ie)=>{const ne=R-2+ie;return ne>0&&ne<=C?y.jsx("button",{onClick:()=>I(ne),className:`px-4 py-2 rounded-md ${R===ne?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:ne},ne):null}),R<C-3&&y.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}),R<C-2&&y.jsx("button",{onClick:()=>I(C),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:C}),y.jsx("button",{onClick:()=>I(te=>Math.min(te+1,C)),disabled:R===C,className:`px-4 py-2 rounded-md ${R===C?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Siguiente"})]})})]})]}):y.jsxs("div",{className:"text-center py-16",children:[y.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Buscar contenido"}),y.jsx("p",{className:"text-gray-400 mb-6 max-w-lg mx-auto",children:"Ingresa un término de búsqueda para encontrar películas, actores, directores y más."}),y.jsxs("div",{className:"flex justify-center space-x-6 mt-10",children:[y.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center cursor-pointer hover:bg-gray-750 transition-colors max-w-xs",onClick:()=>t("/peliculas"),children:[y.jsx("div",{className:"text-4xl mb-3",children:"🎬"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Explorar películas"}),y.jsx("p",{className:"text-sm text-gray-400",children:"Explora las películas más populares y recientes"})]}),y.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center cursor-pointer hover:bg-gray-750 transition-colors max-w-xs",onClick:()=>t("/series"),children:[y.jsx("div",{className:"text-4xl mb-3",children:"📺"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Explorar series"}),y.jsx("p",{className:"text-sm text-gray-400",children:"Descubre las series más populares del momento"})]})]})]})]}),y.jsx("footer",{className:"bg-gray-950 py-8 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400",children:[y.jsx("p",{className:"mb-2",children:"Cuevana 2025 - Buscar"}),y.jsx("p",{children:"Este sitio no almacena ningún archivo en su servidor. Todo el contenido es proporcionado por terceros no afiliados."})]})})]})}function sp({children:r}){const{user:e}=j.useContext(_a);return e?r:y.jsx(ER,{to:"/login"})}function R4(){return y.jsx(u4,{children:y.jsx(c4,{children:y.jsxs(wR,{children:[y.jsx(Kn,{path:"/",element:y.jsx(f4,{})}),y.jsx(Kn,{path:"/dashboard",element:y.jsx(sp,{children:y.jsx(m4,{})})}),y.jsx(Kn,{path:"/profile",element:y.jsx(sp,{children:y.jsx(p4,{})})}),y.jsx(Kn,{path:"/movie/:id",element:y.jsx(v4,{})}),y.jsx(Kn,{path:"/favorites",element:y.jsx(sp,{children:y.jsx(_4,{})})}),y.jsx(Kn,{path:"/login",element:y.jsx(E4,{})}),y.jsx(Kn,{path:"/signup",element:y.jsx(b4,{})}),y.jsx(Kn,{path:"/peliculas",element:y.jsx(w4,{})}),y.jsx(Kn,{path:"/series",element:y.jsx(x4,{})}),y.jsx(Kn,{path:"/estrenos",element:y.jsx(S4,{})}),y.jsx(Kn,{path:"/search",element:y.jsx(A4,{})})]})})})}IA.createRoot(document.getElementById("root")).render(y.jsx(wA.StrictMode,{children:y.jsx(KR,{children:y.jsx(R4,{})})}));
//# sourceMappingURL=index-eZK7P0cY.js.map
